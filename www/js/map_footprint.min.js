var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(f,h,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[h]=d.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(f){var h=0;return $jscomp.iteratorPrototype(function(){return h<f.length?{done:!1,value:f[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.checkStringArgs=function(f,h,d){if(null==f)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(h instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return f+""};
$jscomp.polyfill=function(f,h,d,b){if(h){d=$jscomp.global;f=f.split(".");for(b=0;b<f.length-1;b++){var c=f[b];c in d||(d[c]={});d=d[c]}f=f[f.length-1];b=d[f];h=h(b);h!=b&&null!=h&&$jscomp.defineProperty(d,f,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("String.prototype.includes",function(f){return f?f:function(f,d){return-1!==$jscomp.checkStringArgs(this,f,"includes").indexOf(f,d||0)}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(f){return f?f:function(f,d,b){var c=this.length||0;0>d&&(d=Math.max(0,c+d));if(null==b||b>c)b=c;b=Number(b);0>b&&(b=Math.max(0,c+b));for(d=Number(d||0);d<b;d++)this[d]=f;return this}},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(f,h){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var d=0,b={next:function(){if(d<f.length){var c=d++;return{value:h(c,f[c]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.entries",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f,d){return[f,d]})}},"es6-impl","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(f){return f?f:function(){return[]}},"es6-impl","es5");$jscomp.polyfill("Array.prototype.values",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f,d){return d})}},"es6","es3");
$jscomp.owns=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)};$jscomp.polyfill("Object.assign",function(f){return f?f:function(f,d){for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var n in c)$jscomp.owns(c,n)&&(f[n]=c[n])}return f}},"es6-impl","es3");$jscomp.polyfill("Math.sign",function(f){return f?f:function(f){f=Number(f);return 0===f||isNaN(f)?f:0<f?1:-1}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.repeat",function(f){return f?f:function(f){var d=$jscomp.checkStringArgs(this,null,"repeat");if(0>f||1342177279<f)throw new RangeError("Invalid count value");f|=0;for(var b="";f;)if(f&1&&(b+=d),f>>>=1)d+=d;return b}},"es6-impl","es3");$jscomp.polyfill("Object.setPrototypeOf",function(f){return f?f:"object"!=typeof"".__proto__?null:function(f,d){f.__proto__=d;if(f.__proto__!==d)throw new TypeError(f+" is not extensible");return f}},"es6","es5");
!function(f,h,d){var b=f.L,c={version:"0.7.7"};"object"==typeof module&&"object"==typeof module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c);c.noConflict=function(){return f.L=b,this};f.L=c;c.Util={extend:function(a){var e,b,g,c,k=Array.prototype.slice.call(arguments,1);b=0;for(g=k.length;g>b;b++)for(e in c=k[b]||{},c)c.hasOwnProperty(e)&&(a[e]=c[e]);return a},bind:function(a,e){var b=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(e,
b||arguments)}},stamp:function(){var a=0;return function(e){return e._leaflet_id=e._leaflet_id||++a,e._leaflet_id}}(),invokeEach:function(a,e,b){var g,c;if("object"==typeof a){c=Array.prototype.slice.call(arguments,3);for(g in a)e.apply(b,[g,a[g]].concat(c));return!0}return!1},limitExecByInterval:function(a,e,b){var g,c;return function p(){var l=arguments;return g?void(c=!0):(g=!0,setTimeout(function(){g=!1;c&&(p.apply(b,l),c=!1)},e),void a.apply(b,l))}},falseFn:function(){return!1},formatNum:function(a,
e){var b=Math.pow(10,e||5);return Math.round(a*b)/b},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return c.Util.trim(a).split(/\s+/)},setOptions:function(a,e){return a.options=c.extend({},a.options,e),a.options},getParamString:function(a,e,b){var g=[],c;for(c in a)g.push(encodeURIComponent(b?c.toUpperCase():c)+"="+encodeURIComponent(a[c]));return(e&&-1!==e.indexOf("?")?"&":"?")+g.join("&")},template:function(a,e){return a.replace(/\{ *([\w_]+) *\}/g,function(a,
b){var c=e[b];if(c===d)throw Error("No value provided for variable "+a);return"function"==typeof c&&(c=c(e)),c})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};(function(){function a(a){var e,b,c=["webkit","moz","o","ms"];for(e=0;e<c.length&&!b;e++)b=f[c[e]+a];return b}function e(a){var e=+new Date,l=Math.max(0,16-(e-b));return b=e+l,f.setTimeout(a,l)}var b=0,g=f.requestAnimationFrame||
a("RequestAnimationFrame")||e,d=f.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){f.clearTimeout(a)};c.Util.requestAnimFrame=function(a,b,l,q){return a=c.bind(a,b),l&&g===e?void a():g.call(f,a,q)};c.Util.cancelAnimFrame=function(a){a&&d.call(f,a)}})();c.extend=c.Util.extend;c.bind=c.Util.bind;c.stamp=c.Util.stamp;c.setOptions=c.Util.setOptions;c.Class=function(){};c.Class.extend=function(a){var e=function(){this.initialize&&this.initialize.apply(this,
arguments);this._initHooks&&this.callInitHooks()},b=function(){};b.prototype=this.prototype;var g=new b;g.constructor=e;e.prototype=g;for(var d in this)this.hasOwnProperty(d)&&"prototype"!==d&&(e[d]=this[d]);a.statics&&(c.extend(e,a.statics),delete a.statics);a.includes&&(c.Util.extend.apply(null,[g].concat(a.includes)),delete a.includes);a.options&&g.options&&(a.options=c.extend({},g.options,a.options));c.extend(g,a);g._initHooks=[];var k=this;return e.__super__=k.prototype,g.callInitHooks=function(){if(!this._initHooksCalled){k.prototype.callInitHooks&&
k.prototype.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,e=g._initHooks.length;e>a;a++)g._initHooks[a].call(this)}},e};c.Class.include=function(a){c.extend(this.prototype,a)};c.Class.mergeOptions=function(a){c.extend(this.prototype.options,a)};c.Class.addInitHook=function(a){var e=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"==typeof a?a:function(){this[a].apply(this,e)})};c.Mixin={};c.Mixin.Events=
{addEventListener:function(a,e,b){if(c.Util.invokeEach(a,this.addEventListener,this,e,b))return this;var g,d,k,p,l,r,t,u=this._leaflet_events=this._leaflet_events||{},v=b&&b!==this&&c.stamp(b);a=c.Util.splitWords(a);g=0;for(d=a.length;d>g;g++)k={action:e,context:b||this},p=a[g],v?(l=p+"_idx",r=l+"_len",t=u[l]=u[l]||{},t[v]||(t[v]=[],u[r]=(u[r]||0)+1),t[v].push(k)):(u[p]=u[p]||[],u[p].push(k));return this},hasEventListeners:function(a){var e=this._leaflet_events;return!!e&&(a in e&&0<e[a].length||
a+"_idx"in e&&0<e[a+"_idx_len"])},removeEventListener:function(a,e,b){if(!this._leaflet_events)return this;if(!a)return this.clearAllEventListeners();if(c.Util.invokeEach(a,this.removeEventListener,this,e,b))return this;var g,d,k,p,l,r,t,u,v,n=this._leaflet_events,f=b&&b!==this&&c.stamp(b);a=c.Util.splitWords(a);g=0;for(d=a.length;d>g;g++)if(k=a[g],r=k+"_idx",t=r+"_len",u=n[r],e){if(p=f&&u?u[f]:n[k]){for(l=p.length-1;0<=l;l--)p[l].action!==e||b&&p[l].context!==b||(v=p.splice(l,1),v[0].action=c.Util.falseFn);
b&&u&&0===p.length&&(delete u[f],n[t]--)}}else delete n[k],delete n[r],delete n[t];return this},clearAllEventListeners:function(){return delete this._leaflet_events,this},fireEvent:function(a,e){if(!this.hasEventListeners(a))return this;var b,g,d,k,p,l=c.Util.extend({},e,{type:a,target:this});k=this._leaflet_events;if(k[a])for(b=k[a].slice(),g=0,d=b.length;d>g;g++)b[g].action.call(b[g].context,l);k=k[a+"_idx"];for(p in k)if(b=k[p].slice())for(g=0,d=b.length;d>g;g++)b[g].action.call(b[g].context,l);
return this},addOneTimeEventListener:function(a,e,b){if(c.Util.invokeEach(a,this.addOneTimeEventListener,this,e,b))return this;var g=c.bind(function(){this.removeEventListener(a,e,b).removeEventListener(a,g,b)},this);return this.addEventListener(a,e,b).addEventListener(a,g,b)}};c.Mixin.Events.on=c.Mixin.Events.addEventListener;c.Mixin.Events.off=c.Mixin.Events.removeEventListener;c.Mixin.Events.once=c.Mixin.Events.addOneTimeEventListener;c.Mixin.Events.fire=c.Mixin.Events.fireEvent;(function(){var a=
"ActiveXObject"in f,e=a&&!h.addEventListener,b=navigator.userAgent.toLowerCase(),g=-1!==b.indexOf("webkit"),m=-1!==b.indexOf("chrome"),k=-1!==b.indexOf("phantom"),p=-1!==b.indexOf("android"),l=-1!==b.search("android [23]"),b=-1!==b.indexOf("gecko"),r=typeof orientation!=d+"",t=!f.PointerEvent&&f.MSPointerEvent,u=f.PointerEvent&&f.navigator.pointerEnabled||t,v="devicePixelRatio"in f&&1<f.devicePixelRatio||"matchMedia"in f&&f.matchMedia("(min-resolution:144dpi)")&&f.matchMedia("(min-resolution:144dpi)").matches,
n=h.documentElement,A=a&&"transition"in n.style,D="WebKitCSSMatrix"in f&&"m11"in new f.WebKitCSSMatrix&&!l,y="MozPerspective"in n.style,n="OTransition"in n.style;c.Browser={ie:a,ielt9:e,webkit:g,gecko:b&&!g&&!f.opera&&!a,android:p,android23:l,chrome:m,ie3d:A,webkit3d:D,gecko3d:y,opera3d:n,any3d:!f.L_DISABLE_3D&&(A||D||y||n)&&!k,mobile:r,mobileWebkit:r&&g,mobileWebkit3d:r&&D,mobileOpera:r&&f.opera,touch:!f.L_NO_TOUCH&&!k&&(u||"ontouchstart"in f||f.DocumentTouch&&h instanceof f.DocumentTouch),msPointer:t,
pointer:u,retina:v}})();c.Point=function(a,e,b){this.x=b?Math.round(a):a;this.y=b?Math.round(e):e};c.Point.prototype={clone:function(){return new c.Point(this.x,this.y)},add:function(a){return this.clone()._add(c.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(c.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=
a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(a){a=c.point(a);var e=a.x-this.x;a=a.y-this.y;return Math.sqrt(e*e+a*a)},equals:function(a){return a=
c.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=c.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+c.Util.formatNum(this.x)+", "+c.Util.formatNum(this.y)+")"}};c.point=function(a,e,b){return a instanceof c.Point?a:c.Util.isArray(a)?new c.Point(a[0],a[1]):a===d||null===a?a:new c.Point(a,e,b)};c.Bounds=function(a,e){if(a)for(var b=e?[a,e]:a,c=0,d=b.length;d>c;c++)this.extend(b[c])};c.Bounds.prototype={extend:function(a){return a=
c.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new c.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new c.Point(this.min.x,this.max.y)},getTopRight:function(){return new c.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},
contains:function(a){var e,b;return a="number"==typeof a[0]||a instanceof c.Point?c.point(a):c.bounds(a),a instanceof c.Bounds?(e=a.min,b=a.max):e=b=a,e.x>=this.min.x&&b.x<=this.max.x&&e.y>=this.min.y&&b.y<=this.max.y},intersects:function(a){a=c.bounds(a);var e=this.min,b=this.max,g=a.min;a=a.max;var d=a.y>=e.y&&g.y<=b.y;return a.x>=e.x&&g.x<=b.x&&d},isValid:function(){return!(!this.min||!this.max)}};c.bounds=function(a,e){return!a||a instanceof c.Bounds?a:new c.Bounds(a,e)};c.Transformation=function(a,
e,b,c){this._a=a;this._b=e;this._c=b;this._d=c};c.Transformation.prototype={transform:function(a,e){return this._transform(a.clone(),e)},_transform:function(a,e){return e=e||1,a.x=e*(this._a*a.x+this._b),a.y=e*(this._c*a.y+this._d),a},untransform:function(a,e){return e=e||1,new c.Point((a.x/e-this._b)/this._a,(a.y/e-this._d)/this._c)}};c.DomUtil={get:function(a){return"string"==typeof a?h.getElementById(a):a},getStyle:function(a,e){var b=a.style[e];(!b&&a.currentStyle&&(b=a.currentStyle[e]),b&&"auto"!==
b||!h.defaultView)||(b=(b=h.defaultView.getComputedStyle(a,null))?b[e]:null);return"auto"===b?null:b},getViewportOffset:function(a){var e,b=0,g=0,d=a,k=h.body,p=h.documentElement;do{if(b+=d.offsetTop||0,g+=d.offsetLeft||0,b+=parseInt(c.DomUtil.getStyle(d,"borderTopWidth"),10)||0,g+=parseInt(c.DomUtil.getStyle(d,"borderLeftWidth"),10)||0,e=c.DomUtil.getStyle(d,"position"),d.offsetParent===k&&"absolute"===e)break;if("fixed"===e){b+=k.scrollTop||p.scrollTop||0;g+=k.scrollLeft||p.scrollLeft||0;break}if("relative"===
e&&!d.offsetLeft){e=c.DomUtil.getStyle(d,"width");var l=c.DomUtil.getStyle(d,"max-width"),r=d.getBoundingClientRect();"none"===e&&"none"===l||(g+=r.left+d.clientLeft);b+=r.top+(k.scrollTop||p.scrollTop||0);break}d=d.offsetParent}while(d);d=a;do{if(d===k)break;b-=d.scrollTop||0;g-=d.scrollLeft||0;d=d.parentNode}while(d);return new c.Point(g,b)},documentIsLtr:function(){return c.DomUtil._docIsLtrCached||(c.DomUtil._docIsLtrCached=!0,c.DomUtil._docIsLtr="ltr"===c.DomUtil.getStyle(h.body,"direction")),
c.DomUtil._docIsLtr},create:function(a,e,b){a=h.createElement(a);return a.className=e,b&&b.appendChild(a),a},hasClass:function(a,e){if(a.classList!==d)return a.classList.contains(e);var b=c.DomUtil._getClass(a);return 0<b.length&&(new RegExp("(^|\\s)"+e+"(\\s|$)")).test(b)},addClass:function(a,e){if(a.classList!==d)for(var b=c.Util.splitWords(e),g=0,m=b.length;m>g;g++)a.classList.add(b[g]);else c.DomUtil.hasClass(a,e)||(b=c.DomUtil._getClass(a),c.DomUtil._setClass(a,(b?b+" ":"")+e))},removeClass:function(a,
e){a.classList!==d?a.classList.remove(e):c.DomUtil._setClass(a,c.Util.trim((" "+c.DomUtil._getClass(a)+" ").replace(" "+e+" "," ")))},_setClass:function(a,e){a.className.baseVal===d?a.className=e:a.className.baseVal=e},_getClass:function(a){return a.className.baseVal===d?a.className:a.className.baseVal},setOpacity:function(a,e){if("opacity"in a.style)a.style.opacity=e;else if("filter"in a.style){var b=!1;try{b=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){if(1===e)return}e=Math.round(100*
e);b?(b.Enabled=100!==e,b.Opacity=e):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")"}},testProp:function(a){for(var e=h.documentElement.style,b=0;b<a.length;b++)if(a[b]in e)return a[b];return!1},getTranslateString:function(a){var e=c.Browser.webkit3d;return"translate"+(e?"3d":"")+"("+a.x+"px,"+a.y+"px"+((e?",0":"")+")")},getScaleString:function(a,e){return c.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*a)))+(" scale("+a+") ")},setPosition:function(a,e,b){a._leaflet_pos=
e;!b&&c.Browser.any3d?a.style[c.DomUtil.TRANSFORM]=c.DomUtil.getTranslateString(e):(a.style.left=e.x+"px",a.style.top=e.y+"px")},getPosition:function(a){return a._leaflet_pos}};c.DomUtil.TRANSFORM=c.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);c.DomUtil.TRANSITION=c.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);c.DomUtil.TRANSITION_END="webkitTransition"===c.DomUtil.TRANSITION||"OTransition"===c.DomUtil.TRANSITION?
c.DomUtil.TRANSITION+"End":"transitionend";(function(){if("onselectstart"in h)c.extend(c.DomUtil,{disableTextSelection:function(){c.DomEvent.on(f,"selectstart",c.DomEvent.preventDefault)},enableTextSelection:function(){c.DomEvent.off(f,"selectstart",c.DomEvent.preventDefault)}});else{var a=c.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);c.extend(c.DomUtil,{disableTextSelection:function(){if(a){var e=h.documentElement.style;this._userSelect=e[a];e[a]=
"none"}},enableTextSelection:function(){a&&(h.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}c.extend(c.DomUtil,{disableImageDrag:function(){c.DomEvent.on(f,"dragstart",c.DomEvent.preventDefault)},enableImageDrag:function(){c.DomEvent.off(f,"dragstart",c.DomEvent.preventDefault)}})})();c.LatLng=function(a,e,b){if(a=parseFloat(a),e=parseFloat(e),isNaN(a)||isNaN(e))throw Error("Invalid LatLng object: ("+a+", "+e+")");this.lat=a;this.lng=e;b!==d&&(this.alt=parseFloat(b))};c.extend(c.LatLng,
{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1E-9});c.LatLng.prototype={equals:function(a){if(!a)return!1;a=c.latLng(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=c.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+c.Util.formatNum(this.lat,a)+", "+c.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=c.latLng(a);var e=c.LatLng.DEG_TO_RAD,b=Math.sin((a.lat-this.lat)*e/2),g=Math.sin((a.lng-this.lng)*e/2);a=b*b+g*g*Math.cos(this.lat*e)*Math.cos(a.lat*
e);return 12756274*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},wrap:function(a,e){var b=this.lng;return a=a||-180,e=e||180,b=(b+e)%(e-a)+(a>b||b===e?e:a),new c.LatLng(this.lat,b)}};c.latLng=function(a,e){return a instanceof c.LatLng?a:c.Util.isArray(a)?"number"==typeof a[0]||"string"==typeof a[0]?new c.LatLng(a[0],a[1],a[2]):null:a===d||null===a?a:"object"==typeof a&&"lat"in a?new c.LatLng(a.lat,"lng"in a?a.lng:a.lon):e===d?null:new c.LatLng(a,e)};c.LatLngBounds=function(a,e){if(a)for(var b=e?[a,e]:
a,c=0,d=b.length;d>c;c++)this.extend(b[c])};c.LatLngBounds.prototype={extend:function(a){if(!a)return this;var e=c.latLng(a);return a=null!==e?e:c.latLngBounds(a),a instanceof c.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new c.LatLng(a.lat,a.lng),this._northEast=
new c.LatLng(a.lat,a.lng)):a instanceof c.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this},pad:function(a){var e=this._southWest,b=this._northEast,g=Math.abs(e.lat-b.lat)*a;a*=Math.abs(e.lng-b.lng);return new c.LatLngBounds(new c.LatLng(e.lat-g,e.lng-a),new c.LatLng(b.lat+g,b.lng+a))},getCenter:function(){return new c.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},
getNorthWest:function(){return new c.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new c.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof c.LatLng?c.latLng(a):c.latLngBounds(a);var e,b,g=this._southWest,d=this._northEast;return a instanceof
c.LatLngBounds?(e=a.getSouthWest(),b=a.getNorthEast()):e=b=a,e.lat>=g.lat&&b.lat<=d.lat&&e.lng>=g.lng&&b.lng<=d.lng},intersects:function(a){a=c.latLngBounds(a);var e=this._southWest,b=this._northEast,g=a.getSouthWest();a=a.getNorthEast();var d=a.lng>=e.lng&&g.lng<=b.lng;return a.lat>=e.lat&&g.lat<=b.lat&&d},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a){return a?(a=c.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&
this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}};c.latLngBounds=function(a,e){return!a||a instanceof c.LatLngBounds?a:new c.LatLngBounds(a,e)};c.Projection={};c.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var e=c.LatLng.DEG_TO_RAD,b=this.MAX_LATITUDE,g=a.lng*e;a=Math.max(Math.min(b,a.lat),-b)*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new c.Point(g,a)},unproject:function(a){var e=c.LatLng.RAD_TO_DEG;return new c.LatLng((2*
Math.atan(Math.exp(a.y))-Math.PI/2)*e,a.x*e)}};c.Projection.LonLat={project:function(a){return new c.Point(a.lng,a.lat)},unproject:function(a){return new c.LatLng(a.y,a.x)}};c.CRS={latLngToPoint:function(a,e){var b=this.projection.project(a),c=this.scale(e);return this.transformation._transform(b,c)},pointToLatLng:function(a,e){var b=this.scale(e),b=this.transformation.untransform(a,b);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*
Math.pow(2,a)},getSize:function(a){a=this.scale(a);return c.point(a,a)}};c.CRS.Simple=c.extend({},c.CRS,{projection:c.Projection.LonLat,transformation:new c.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});c.CRS.EPSG3857=c.extend({},c.CRS,{code:"EPSG:3857",projection:c.Projection.SphericalMercator,transformation:new c.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(a){return this.projection.project(a).multiplyBy(6378137)}});c.CRS.EPSG900913=c.extend({},c.CRS.EPSG3857,
{code:"EPSG:900913"});c.CRS.EPSG4326=c.extend({},c.CRS,{code:"EPSG:4326",projection:c.Projection.LonLat,transformation:new c.Transformation(1/360,.5,-1/360,.5)});c.Map=c.Class.extend({includes:c.Mixin.Events,options:{crs:c.CRS.EPSG3857,fadeAnimation:c.DomUtil.TRANSITION&&!c.Browser.android23,trackResize:!0,markerZoomAnimation:c.DomUtil.TRANSITION&&c.Browser.any3d},initialize:function(a,e){e=c.setOptions(this,e);this._initContainer(a);this._initLayout();this._onResize=c.bind(this._onResize,this);this._initEvents();
e.maxBounds&&this.setMaxBounds(e.maxBounds);e.center&&e.zoom!==d&&this.setView(c.latLng(e.center),e.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(e.layers)},setView:function(a,e){return e=e===d?this.getZoom():e,this._resetView(c.latLng(a),this._limitZoom(e)),this},setZoom:function(a,e){return this._loaded?this.setView(this.getCenter(),a,{zoom:e}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,e){return this.setZoom(this._zoom+
(a||1),e)},zoomOut:function(a,e){return this.setZoom(this._zoom-(a||1),e)},setZoomAround:function(a,e,b){var g=this.getZoomScale(e),d=this.getSize().divideBy(2);a=(a instanceof c.Point?a:this.latLngToContainerPoint(a)).subtract(d).multiplyBy(1-1/g);d=this.containerPointToLatLng(d.add(a));return this.setView(d,e,{zoom:b})},fitBounds:function(a,e){e=e||{};a=a.getBounds?a.getBounds():c.latLngBounds(a);var b=c.point(e.paddingTopLeft||e.padding||[0,0]),g=c.point(e.paddingBottomRight||e.padding||[0,0]),
d=this.getBoundsZoom(a,!1,b.add(g)),d=e.maxZoom?Math.min(e.maxZoom,d):d,b=g.subtract(b).divideBy(2),g=this.project(a.getSouthWest(),d),k=this.project(a.getNorthEast(),d),b=this.unproject(g.add(k).divideBy(2).add(b),d);return this.setView(b,d,e)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,e){return this.setView(a,this._zoom,{pan:e})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(c.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=
c.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,e){var b=this.getCenter(),c=this._limitCenter(b,this._zoom,a);return b.equals(c)?this:this.panTo(c,e)},addLayer:function(a){var e=c.stamp(a);return this._layers[e]?this:(this._layers[e]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[e]=a,this._updateZoomLevels()),
this.options.zoomAnimation&&c.TileLayer&&a instanceof c.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var e=c.stamp(a);return this._layers[e]?(this._loaded&&a.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:a}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&c.TileLayer&&a instanceof
c.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(a){return a?c.stamp(a)in this._layers:!1},eachLayer:function(a,e){for(var b in this._layers)a.call(e,this._layers[b]);return this},invalidateSize:function(a){if(!this._loaded)return this;a=c.extend({animate:!1,pan:!0},!0===a?{animate:!0}:a);var e=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var b=this.getSize(),g=e.divideBy(2).round(),d=b.divideBy(2).round(),
g=g.subtract(d);return g.x||g.y?(a.animate&&a.pan?this.panBy(g):(a.pan&&this._rawPanBy(g),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:b})):this},addHandler:function(a,e){if(!e)return this;var b=this[a]=new e(this);return this._handlers.push(b),this.options[a]&&b.enable(),this},remove:function(){this._loaded&&this.fire("unload");this._initEvents("off");
try{delete this._container._leaflet}catch(a){this._container._leaflet=d}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),e=this.unproject(a.getBottomLeft()),a=this.unproject(a.getTopRight());return new c.LatLngBounds(e,
a)},getMinZoom:function(){return this.options.minZoom===d?this._layersMinZoom===d?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===d?this._layersMaxZoom===d?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,e,b){a=c.latLngBounds(a);var g,d=this.getMinZoom()-(e?1:0),k=this.getMaxZoom(),p=this.getSize(),l=a.getNorthWest();a=a.getSouthEast();b=c.point(b||[0,0]);do d++,g=this.project(a,d).subtract(this.project(l,d)).add(b),g=e?g.x<p.x||
g.y<p.y:p.contains(g);while(g&&k>=d);return g&&e?null:e?d:d-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new c.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new c.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},
getZoomScale:function(a){var e=this.options.crs;return e.scale(a)/e.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,e){return e=e===d?this._zoom:e,this.options.crs.latLngToPoint(c.latLng(a),e)},unproject:function(a,e){return e=e===d?this._zoom:e,this.options.crs.pointToLatLng(c.point(a),e)},layerPointToLatLng:function(a){a=c.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(c.latLng(a))._round()._subtract(this.getPixelOrigin())},
containerPointToLayerPoint:function(a){return c.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return c.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(c.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(c.latLng(a)))},mouseEventToContainerPoint:function(a){return c.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},
mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=this._container=c.DomUtil.get(a);if(!a)throw Error("Map container not found.");if(a._leaflet)throw Error("Map container is already initialized.");a._leaflet=!0},_initLayout:function(){var a=this._container;c.DomUtil.addClass(a,"leaflet-container"+(c.Browser.touch?" leaflet-touch":"")+(c.Browser.retina?" leaflet-retina":"")+(c.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?
" leaflet-fade-anim":""));var e=c.DomUtil.getStyle(a,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");
a.overlayPane=this._createPane("leaflet-overlay-pane");a.markerPane=this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");this.options.markerZoomAnimation||(c.DomUtil.addClass(a.markerPane," leaflet-zoom-hide"),c.DomUtil.addClass(a.shadowPane," leaflet-zoom-hide"),c.DomUtil.addClass(a.popupPane," leaflet-zoom-hide"))},_createPane:function(a,e){return c.DomUtil.create("div",a,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},
_addLayers:function(a){a=a?c.Util.isArray(a)?a:[a]:[];for(var e=0,b=a.length;b>e;e++)this.addLayer(a[e])},_resetView:function(a,e,b,g){var d=this._zoom!==e;g||(this.fire("movestart"),d&&this.fire("zoomstart"));this._zoom=e;this._initialCenter=a;this._initialTopLeftPoint=this._getNewTopLeftPoint(a);b?this._initialTopLeftPoint._add(this._getMapPanePos()):c.DomUtil.setPosition(this._mapPane,new c.Point(0,0));this._tileLayersToLoad=this._tileLayersNum;a=!this._loaded;this._loaded=!0;this.fire("viewreset",
{hard:!b});a&&(this.fire("load"),this.eachLayer(this._layerAdd,this));this.fire("move");(d||g)&&this.fire("zoomend");this.fire("moveend",{hard:!b})},_rawPanBy:function(a){c.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,e=1/0,b=-(1/0),c=this._getZoomSpan();for(a in this._zoomBoundLayers){var m=this._zoomBoundLayers[a];isNaN(m.options.minZoom)||(e=Math.min(e,m.options.minZoom));
isNaN(m.options.maxZoom)||(b=Math.max(b,m.options.maxZoom))}a===d?this._layersMaxZoom=this._layersMinZoom=d:(this._layersMaxZoom=b,this._layersMinZoom=e);c!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){if(c.DomEvent){a=a||"on";c.DomEvent[a](this._container,"click",this._onMouseClick,this);var e,b,g="dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu".split(" ");
e=0;for(b=g.length;b>e;e++)c.DomEvent[a](this._container,g[e],this._fireMouseEvent,this);this.options.trackResize&&c.DomEvent[a](f,"resize",this._onResize,this)}},_onResize:function(){c.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=c.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||c.DomEvent._skipped(a)||
(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&!c.DomEvent._skipped(a)){var e=a.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&c.DomEvent.preventDefault(a);var b=this.mouseEventToContainerPoint(a),g=this.containerPointToLayerPoint(b),d=this.layerPointToLatLng(g);this.fire(e,{latlng:d,layerPoint:g,containerPoint:b,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--;
this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,e=this._handlers.length;e>a;a++)this._handlers[a].disable()},whenReady:function(a,e){return this._loaded?a.call(e||this,this):this.on("load",a,e),this},_layerAdd:function(a){a.onAdd(this);this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return c.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},
_getNewTopLeftPoint:function(a,e){var b=this.getSize()._divideBy(2);return this.project(a,e)._subtract(b)._round()},_latLngToNewLayerPoint:function(a,e,b){b=this._getNewTopLeftPoint(b,e).add(this._getMapPanePos());return this.project(a,e)._subtract(b)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,e,b){if(!b)return a;a=
this.project(a,e);var g=this.getSize().divideBy(2),g=new c.Bounds(a.subtract(g),a.add(g));b=this._getBoundsOffset(g,b,e);return this.unproject(a.add(b),e)},_limitOffset:function(a,e){if(!e)return a;var b=this.getPixelBounds(),b=new c.Bounds(b.min.add(a),b.max.add(a));return a.add(this._getBoundsOffset(b,e))},_getBoundsOffset:function(a,e,b){var g=this.project(e.getNorthWest(),b).subtract(a.min);e=this.project(e.getSouthEast(),b).subtract(a.max);a=this._rebound(g.x,-e.x);g=this._rebound(g.y,-e.y);
return new c.Point(a,g)},_rebound:function(a,e){return 0<a+e?Math.round(a-e)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(e))},_limitZoom:function(a){var e=this.getMinZoom(),b=this.getMaxZoom();return Math.max(e,Math.min(b,a))}});c.map=function(a,e){return new c.Map(a,e)};c.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var e=c.LatLng.DEG_TO_RAD,b=this.MAX_LATITUDE,g=this.R_MAJOR,d=a.lng*e*g;a=Math.max(Math.min(b,a.lat),-b)*e;e=this.R_MINOR/
g;e=Math.sqrt(1-e*e);b=e*Math.sin(a);b=Math.pow((1-b)/(1+b),.5*e);return a=-g*Math.log(Math.tan(.5*(.5*Math.PI-a))/b),new c.Point(d,a)},unproject:function(a){var e,b=c.LatLng.RAD_TO_DEG,g=this.R_MAJOR,d=a.x*b/g,k=this.R_MINOR/g,k=Math.sqrt(1-k*k);a=Math.exp(-a.y/g);var g=Math.PI/2-2*Math.atan(a),p=15;for(e=.1;1E-7<Math.abs(e)&&0<--p;)e=k*Math.sin(g),e=Math.PI/2-2*Math.atan(a*Math.pow((1-e)/(1+e),.5*k))-g,g+=e;return new c.LatLng(g*b,d)}};c.CRS.EPSG3395=c.extend({},c.CRS,{code:"EPSG:3395",projection:c.Projection.Mercator,
transformation:function(){var a=.5/(Math.PI*c.Projection.Mercator.R_MAJOR);return new c.Transformation(a,.5,-a,.5)}()});c.TileLayer=c.Class.extend({includes:c.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:c.Browser.mobile,updateWhenIdle:c.Browser.mobile},initialize:function(a,e){e=c.setOptions(this,e);e.detectRetina&&c.Browser.retina&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,
0<e.minZoom&&e.minZoom--,this.options.maxZoom--);e.bounds&&(e.bounds=c.latLngBounds(e.bounds));this._url=a;var b=this.options.subdomains;"string"==typeof b&&(this.options.subdomains=b.split(""))},onAdd:function(a){this._map=a;this._animated=a._zoomAnimated;this._initContainer();a.on({viewreset:this._reset,moveend:this._update},this);this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||(this._limitedUpdate=c.Util.limitExecByInterval(this._update,
150,this),a.on("move",this._limitedUpdate,this));this._reset();this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container);a.off({viewreset:this._reset,moveend:this._update},this);this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this);this._map=this._container=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&
(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),
this},setUrl:function(a,e){return this._url=a,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==d&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,e){var b,c,d,k=a.children,p=-e(1/0,-(1/0));c=0;for(d=k.length;d>c;c++)k[c]!==this._container&&(b=parseInt(k[c].style.zIndex,10),isNaN(b)||(p=e(p,b)));this.options.zIndex=this._container.style.zIndex=(isFinite(p)?
p:0)+e(1,-1)},_updateOpacity:function(){var a,e=this._tiles;if(c.Browser.ielt9)for(a in e)c.DomUtil.setOpacity(e[a],this.options.opacity);else c.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var a=this._map._panes.tilePane;this._container||((this._container=c.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated)?(this._bgBuffer=c.DomUtil.create("div","leaflet-tile-container",this._container),this._tileContainer=c.DomUtil.create("div","leaflet-tile-container",
this._container)):this._tileContainer=this._container,a.appendChild(this._container),1>this.options.opacity&&this._updateOpacity())},_reset:function(a){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={};this._tilesToLoad=0;this.options.reuseTiles&&(this._unusedTiles=[]);this._tileContainer.innerHTML="";this._animated&&a&&a.hard&&this._clearBgBuffer();this._initContainer()},_getTileSize:function(){var a=this._map,e=a.getZoom()+this.options.zoomOffset,b=this.options.maxNativeZoom,
c=this.options.tileSize;return b&&e>b&&(c=Math.round(a.getZoomScale(e)/a.getZoomScale(b)*c)),c},_update:function(){if(this._map){var a=this._map,e=a.getPixelBounds(),a=a.getZoom(),b=this._getTileSize();a>this.options.maxZoom||a<this.options.minZoom||(e=c.bounds(e.min.divideBy(b)._floor(),e.max.divideBy(b)._floor()),this._addTilesFromCenterOut(e),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(e))}},_addTilesFromCenterOut:function(a){var e,b,g,d=[],k=a.getCenter();
for(e=a.min.y;e<=a.max.y;e++)for(b=a.min.x;b<=a.max.x;b++)g=new c.Point(b,e),this._tileShouldBeLoaded(g)&&d.push(g);a=d.length;if(0!==a){d.sort(function(a,e){return a.distanceTo(k)-e.distanceTo(k)});e=h.createDocumentFragment();this._tilesToLoad||this.fire("loading");this._tilesToLoad+=a;for(b=0;a>b;b++)this._addTile(d[b],e);this._tileContainer.appendChild(e)}},_tileShouldBeLoaded:function(a){if(a.x+":"+a.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var b=this._getWrapTileNum();
if(e.noWrap&&(0>a.x||a.x>=b.x)||0>a.y||a.y>=b.y)return!1}return e.bounds&&(b=this._getTileSize(),a=a.multiplyBy(b),b=a.add([b,b]),a=this._map.unproject(a),b=this._map.unproject(b),e.continuousWorld||e.noWrap||(a=a.wrap(),b=b.wrap()),!e.bounds.intersects([a,b]))?!1:!0},_removeOtherTiles:function(a){var e,b,c;for(c in this._tiles)e=c.split(":"),b=parseInt(e[0],10),e=parseInt(e[1],10),(b<a.min.x||b>a.max.x||e<a.min.y||e>a.max.y)&&this._removeTile(c)},_removeTile:function(a){var e=this._tiles[a];this.fire("tileunload",
{tile:e,url:e.src});this.options.reuseTiles?(c.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e);c.Browser.android||(e.onload=null,e.src=c.Util.emptyImageUrl);delete this._tiles[a]},_addTile:function(a,e){var b=this._getTilePos(a),g=this._getTile();c.DomUtil.setPosition(g,b,c.Browser.chrome);this._tiles[a.x+":"+a.y]=g;this._loadTile(g,a);g.parentNode!==this._tileContainer&&e.appendChild(g)},_getZoomForUrl:function(){var a=
this.options,e=this._map.getZoom();return a.zoomReverse&&(e=a.maxZoom-e),e+=a.zoomOffset,a.maxNativeZoom?Math.min(e,a.maxNativeZoom):e},_getTilePos:function(a){var e=this._map.getPixelOrigin(),b=this._getTileSize();return a.multiplyBy(b).subtract(e)},getTileUrl:function(a){return c.Util.template(this._url,c.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this._getTileSize())._floor()},
_adjustTilePoint:function(a){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%e.x+e.x)%e.x);this.options.tms&&(a.y=e.y-a.y-1);a.z=this._getZoomForUrl()},_getSubdomain:function(a){return this.options.subdomains[Math.abs(a.x+a.y)%this.options.subdomains.length]},_getTile:function(){if(this.options.reuseTiles&&0<this._unusedTiles.length){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=
c.DomUtil.create("img","leaflet-tile");return a.style.width=a.style.height=this._getTileSize()+"px",a.galleryimg="no",a.onselectstart=a.onmousemove=c.Util.falseFn,c.Browser.ielt9&&this.options.opacity!==d&&c.DomUtil.setOpacity(a,this.options.opacity),c.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden"),a},_loadTile:function(a,e){a._layer=this;a.onload=this._tileOnLoad;a.onerror=this._tileOnError;this._adjustTilePoint(e);a.src=this.getTileUrl(e);this.fire("tileloadstart",{tile:a,url:a.src})},
_tileLoaded:function(){this._tilesToLoad--;this._animated&&c.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated");this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(c.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==c.Util.emptyImageUrl&&(c.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src}));a._tileLoaded()},_tileOnError:function(){var a=
this._layer;a.fire("tileerror",{tile:this,url:this.src});var e=a.options.errorTileUrl;e&&(this.src=e);a._tileLoaded()}});c.tileLayer=function(a,e){return new c.TileLayer(a,e)};c.TileLayer.WMS=c.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,e){this._url=a;var b=c.extend({},this.defaultWmsParams),g=e.tileSize||this.options.tileSize;e.detectRetina&&c.Browser.retina?b.width=b.height=2*g:
b.width=b.height=g;for(var d in e)this.options.hasOwnProperty(d)||"crs"===d||(b[d]=e[d]);this.wmsParams=b;c.setOptions(this,e)},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;c.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var e=this._map,b=this.options.tileSize,g=a.multiplyBy(b),b=g.add([b,b]),g=this._crs.project(e.unproject(g,a.z)),e=this._crs.project(e.unproject(b,
a.z)),e=1.3<=this._wmsVersion&&this._crs===c.CRS.EPSG4326?[e.y,g.x,g.y,e.x].join():[g.x,e.y,e.x,g.y].join();a=c.Util.template(this._url,{s:this._getSubdomain(a)});return a+c.Util.getParamString(this.wmsParams,a,!0)+"&BBOX="+e},setParams:function(a,e){return c.extend(this.wmsParams,a),e||this.redraw(),this}});c.tileLayer.wms=function(a,e){return new c.TileLayer.WMS(a,e)};c.TileLayer.Canvas=c.TileLayer.extend({options:{async:!1},initialize:function(a){c.setOptions(this,a)},redraw:function(){this._map&&
(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=c.DomUtil.create("canvas","leaflet-tile");return a.width=a.height=this.options.tileSize,a.onselectstart=a.onmousemove=c.Util.falseFn,a},_loadTile:function(a,e){a._layer=this;a._tilePoint=e;this._redrawTile(a);this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});
c.tileLayer.canvas=function(a){return new c.TileLayer.Canvas(a)};c.ImageOverlay=c.Class.extend({includes:c.Mixin.Events,options:{opacity:1},initialize:function(a,e,b){this._url=a;this._bounds=c.latLngBounds(e);c.setOptions(this,b)},onAdd:function(a){this._map=a;this._image||this._initImage();a._panes.overlayPane.appendChild(this._image);a.on("viewreset",this._reset,this);a.options.zoomAnimation&&c.Browser.any3d&&a.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image);
a.off("viewreset",this._reset,this);a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},setUrl:function(a){this._url=a;this._image.src=
this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=c.DomUtil.create("img","leaflet-image-layer");this._map.options.zoomAnimation&&c.Browser.any3d?c.DomUtil.addClass(this._image,"leaflet-zoom-animated"):c.DomUtil.addClass(this._image,"leaflet-zoom-hide");this._updateOpacity();c.extend(this._image,{galleryimg:"no",onselectstart:c.Util.falseFn,onmousemove:c.Util.falseFn,onload:c.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var e=
this._map,b=this._image,g=e.getZoomScale(a.zoom),d=this._bounds.getNorthWest(),k=this._bounds.getSouthEast(),d=e._latLngToNewLayerPoint(d,a.zoom,a.center);a=e._latLngToNewLayerPoint(k,a.zoom,a.center)._subtract(d);a=d._add(a._multiplyBy(.5*(1-1/g)));b.style[c.DomUtil.TRANSFORM]=c.DomUtil.getTranslateString(a)+" scale("+g+") "},_reset:function(){var a=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),b=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);c.DomUtil.setPosition(a,
e);a.style.width=b.x+"px";a.style.height=b.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){c.DomUtil.setOpacity(this._image,this.options.opacity)}});c.imageOverlay=function(a,e,b){return new c.ImageOverlay(a,e,b)};c.Icon=c.Class.extend({options:{className:""},initialize:function(a){c.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,e){var b=this._getIconUrl(a);
if(!b){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}var c;return c=e&&"IMG"===e.tagName?this._createImg(b,e):this._createImg(b),this._setIconStyles(c,a),c},_setIconStyles:function(a,e){var b,g=this.options,d=c.point(g[e+"Size"]);b="shadow"===e?c.point(g.shadowAnchor||g.iconAnchor):c.point(g.iconAnchor);!b&&d&&(b=d.divideBy(2,!0));a.className="leaflet-marker-"+e+" "+g.className;b&&(a.style.marginLeft=-b.x+"px",a.style.marginTop=-b.y+"px");d&&(a.style.width=
d.x+"px",a.style.height=d.y+"px")},_createImg:function(a,e){return e=e||h.createElement("img"),e.src=a,e},_getIconUrl:function(a){return c.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}});c.icon=function(a){return new c.Icon(a)};c.Icon.Default=c.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var e=a+"Url";if(this.options[e])return this.options[e];c.Browser.retina&&"icon"===a&&
(a+="-2x");e=c.Icon.Default.imagePath;if(!e)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return e+"/marker-"+a+".png"}});c.Icon.Default.imagePath=function(){var a,e,b,c,d=h.getElementsByTagName("script"),k=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;a=0;for(e=d.length;e>a;a++)if(b=d[a].src,b.match(k))return c=b.split(k)[0],(c?c+"/":"")+"images"}();c.Marker=c.Class.extend({includes:c.Mixin.Events,options:{icon:new c.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,
keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,e){c.setOptions(this,e);this._latlng=c.latLng(a)},onAdd:function(a){this._map=a;a.on("viewreset",this.update,this);this._initIcon();this.update();this.fire("add");a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable();this._removeIcon();this._removeShadow();this.fire("remove");
a.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=c.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),
this},_initIcon:function(){var a=this.options,e=this._map,b=e.options.zoomAnimation&&e.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",g=a.icon.createIcon(this._icon),e=!1;g!==this._icon&&(this._icon&&this._removeIcon(),e=!0,a.title&&(g.title=a.title),a.alt&&(g.alt=a.alt));c.DomUtil.addClass(g,b);a.keyboard&&(g.tabIndex="0");this._icon=g;this._initInteraction();a.riseOnHover&&c.DomEvent.on(g,"mouseover",this._bringToFront,this).on(g,"mouseout",this._resetZIndex,this);var g=
a.icon.createShadow(this._shadow),d=!1;g!==this._shadow&&(this._removeShadow(),d=!0);g&&c.DomUtil.addClass(g,b);this._shadow=g;1>a.opacity&&this._updateOpacity();a=this._map._panes;e&&a.markerPane.appendChild(this._icon);g&&d&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&c.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex);this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&
this._map._panes.shadowPane.removeChild(this._shadow);this._shadow=null},_setPos:function(a){c.DomUtil.setPosition(this._icon,a);this._shadow&&c.DomUtil.setPosition(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,e=["dblclick",
"mousedown","mouseover","mouseout","contextmenu"];c.DomUtil.addClass(a,"leaflet-clickable");c.DomEvent.on(a,"click",this._onMouseClick,this);c.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var b=0;b<e.length;b++)c.DomEvent.on(a,e[b],this._fireMouseEvent,this);c.Handler.MarkerDrag&&(this.dragging=new c.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||e)&&c.DomEvent.stopPropagation(a);
e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng});"contextmenu"===a.type&&this.hasEventListeners(a.type)&&c.DomEvent.preventDefault(a);"mousedown"!==a.type?c.DomEvent.stopPropagation(a):c.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=
a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){c.DomUtil.setOpacity(this._icon,this.options.opacity);this._shadow&&c.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});c.marker=function(a,e){return new c.Marker(a,e)};c.DivIcon=c.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){a=a&&"DIV"===a.tagName?a:h.createElement("div");
var e=this.options;return!1!==e.html?a.innerHTML=e.html:a.innerHTML="",e.bgPos&&(a.style.backgroundPosition=-e.bgPos.x+"px "+-e.bgPos.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});c.divIcon=function(a){return new c.DivIcon(a)};c.Map.mergeOptions({closePopupOnClick:!0});c.Popup=c.Class.extend({includes:c.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,
e){c.setOptions(this,a);this._source=e;this._animated=c.Browser.any3d&&this.options.zoomAnimation;this._isOpen=!1},onAdd:function(a){this._map=a;this._container||this._initLayout();var e=a.options.fadeAnimation;e&&c.DomUtil.setOpacity(this._container,0);a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this.update();e&&c.DomUtil.setOpacity(this._container,1);this.fire("open");a.fire("popupopen",{popup:this});this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),
this},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._panes.popupPane.removeChild(this._container);c.Util.falseFn(this._container.offsetWidth);a.off(this._getEvents(),this);a.options.fadeAnimation&&c.DomUtil.setOpacity(this._container,0);this._map=null;this.fire("close");a.fire("popupclose",{popup:this});this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=c.latLng(a),this._map&&(this._updatePosition(),
this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:
this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a,e=this._container=c.DomUtil.create("div","leaflet-popup "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"));this.options.closeButton&&(a=this._closeButton=c.DomUtil.create("a","leaflet-popup-close-button",e),a.href="#close",a.innerHTML="&#215;",c.DomEvent.disableClickPropagation(a),
c.DomEvent.on(a,"click",this._onCloseButtonClick,this));a=this._wrapper=c.DomUtil.create("div","leaflet-popup-content-wrapper",e);c.DomEvent.disableClickPropagation(a);this._contentNode=c.DomUtil.create("div","leaflet-popup-content",a);c.DomEvent.disableScrollPropagation(this._contentNode);c.DomEvent.on(a,"contextmenu",c.DomEvent.stopPropagation);this._tipContainer=c.DomUtil.create("div","leaflet-popup-tip-container",e);this._tip=c.DomUtil.create("div","leaflet-popup-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==
typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,e=a.style;e.width="";e.whiteSpace="nowrap";var b=a.offsetWidth,b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth);e.width=b+1+"px";e.whiteSpace="";e.height="";var b=a.offsetHeight,g=this.options.maxHeight;
g&&b>g?(e.height=g+"px",c.DomUtil.addClass(a,"leaflet-popup-scrolled")):c.DomUtil.removeClass(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),e=this._animated,b=c.point(this.options.offset);e&&c.DomUtil.setPosition(this._container,a);this._containerBottom=-b.y-(e?0:a.y);this._containerLeft=-Math.round(this._containerWidth/2)+b.x+(e?0:a.x);this._container.style.bottom=this._containerBottom+
"px";this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);c.DomUtil.setPosition(this._container,a)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,e=this._container.offsetHeight,b=this._containerWidth,g=new c.Point(this._containerLeft,-e-this._containerBottom);this._animated&&g._add(c.DomUtil.getPosition(this._container));var g=a.layerPointToContainerPoint(g),d=c.point(this.options.autoPanPadding),
k=c.point(this.options.autoPanPaddingTopLeft||d),d=c.point(this.options.autoPanPaddingBottomRight||d),p=a.getSize(),l=0,r=0;g.x+b+d.x>p.x&&(l=g.x+b-p.x+d.x);0>g.x-l-k.x&&(l=g.x-k.x);g.y+e+d.y>p.y&&(r=g.y+e-p.y+d.y);0>g.y-r-k.y&&(r=g.y-k.y);(l||r)&&a.fire("autopanstart").panBy([l,r])}},_onCloseButtonClick:function(a){this._close();c.DomEvent.stop(a)}});c.popup=function(a,e){return new c.Popup(a,e)};c.Map.include({openPopup:function(a,e,b){(this.closePopup(),a instanceof c.Popup)||(a=(new c.Popup(b)).setLatLng(e).setContent(a));
return a._isOpen=!0,this._popup=a,this.addLayer(a)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&(this.removeLayer(a),a._isOpen=!1),this}});c.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():
this.openPopup()),this},bindPopup:function(a,e){var b=c.point(this.options.icon.options.popupAnchor||[0,0]);return b=b.add(c.Popup.prototype.options.offset),e&&e.offset&&(b=b.add(e.offset)),e=c.extend({offset:b},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),a instanceof c.Popup?(c.setOptions(a,e),this._popup=a,a._source=this):this._popup=(new c.Popup(e,this)).setContent(a),this},setPopupContent:function(a){return this._popup&&
this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});c.LayerGroup=c.Class.extend({initialize:function(a){this._layers={};var e,b;if(a)for(e=0,b=a.length;b>e;e++)this.addLayer(a[e])},addLayer:function(a){var e=this.getLayerId(a);
return this._layers[e]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(a){var e,b,c=Array.prototype.slice.call(arguments,1);for(e in this._layers)b=this._layers[e],
b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this._map=a;this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a);this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(a,e){for(var b in this._layers)a.call(e,this._layers[b]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[],e;for(e in this._layers)a.push(this._layers[e]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return c.stamp(a)}});
c.layerGroup=function(a){return new c.LayerGroup(a)};c.FeatureGroup=c.LayerGroup.extend({includes:c.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?this:("on"in a&&a.on(c.FeatureGroup.EVENTS,this._propagateEvent,this),c.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?
(a in this._layers&&(a=this._layers[a]),"off"in a&&a.off(c.FeatureGroup.EVENTS,this._propagateEvent,this),c.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,e){return this._popupContent=a,this._popupOptions=e,this.invoke("bindPopup",a,e)},openPopup:function(a){for(var e in this._layers){this._layers[e].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},
bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new c.LatLngBounds;return this.eachLayer(function(e){a.extend(e instanceof c.Marker?e.getLatLng():e.getBounds())}),a},_propagateEvent:function(a){a=c.extend({layer:a.target,target:this},a);this.fire(a.type,a)}});c.featureGroup=function(a){return new c.FeatureGroup(a)};c.Path=c.Class.extend({includes:[c.Mixin.Events],statics:{CLIP_PADDING:Math.max(0,Math.min(.5,((c.Browser.mobile?1280:2E3)/Math.max(f.outerWidth,f.outerHeight)-
1)/2))},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(a){c.setOptions(this,a)},onAdd:function(a){this._map=a;this._container||(this._initElements(),this._initEvents());this.projectLatlngs();this._updatePath();this._container&&this._map._pathRoot.appendChild(this._container);this.fire("add");a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){return a.addLayer(this),
this},onRemove:function(a){a._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;c.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null);a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){return c.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}});c.Map.include({_updatePathViewport:function(){var a=
c.Path.CLIP_PADDING,e=this.getSize(),b=c.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(e.multiplyBy(a)._round()),a=b.add(e.multiplyBy(1+2*a)._round());this._pathViewport=new c.Bounds(b,a)}});c.Path.SVG_NS="http://www.w3.org/2000/svg";c.Browser.svg=!(!h.createElementNS||!h.createElementNS(c.Path.SVG_NS,"svg").createSVGRect);c.Path=c.Path.extend({statics:{SVG:c.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,e=this._container;return e&&a.lastChild!==e&&a.appendChild(e),
this},bringToBack:function(){var a=this._map._pathRoot,e=this._container,b=a.firstChild;return e&&b!==e&&a.insertBefore(e,b),this},getPathString:function(){},_createElement:function(a){return h.createElementNS(c.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");this.options.className&&c.DomUtil.addClass(this._path,this.options.className);this._container.appendChild(this._path)},
_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round"));this.options.fill&&this._path.setAttribute("fill-rule","evenodd");this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents);this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none");this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",
this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none");this.options.fill?
(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0");this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){!c.Browser.svg&&c.Browser.vml||c.DomUtil.addClass(this._path,"leaflet-clickable");c.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a="dblclick mousedown mouseover mouseout mousemove contextmenu".split(" "),
e=0;e<a.length;e++)c.DomEvent.on(this._container,a[e],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this._map&&this.hasEventListeners(a.type)){var e=this._map,b=e.mouseEventToContainerPoint(a),g=e.containerPointToLayerPoint(b),e=e.layerPointToLatLng(g);this.fire(a.type,{latlng:e,layerPoint:g,containerPoint:b,originalEvent:a});"contextmenu"===a.type&&c.DomEvent.preventDefault(a);"mousemove"!==
a.type&&c.DomEvent.stopPropagation(a)}}});c.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=c.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&c.Browser.any3d?(c.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):c.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},
_animatePathZoom:function(a){var e=this.getZoomScale(a.zoom);a=this._getCenterOffset(a.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[c.DomUtil.TRANSFORM]=c.DomUtil.getTranslateString(a)+" scale("+e+") ";this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,e=a.min,b=a.max,a=b.x-e.x,b=b.y-e.y,g=this._pathRoot,d=this._panes.overlayPane;c.Browser.mobileWebkit&&
d.removeChild(g);c.DomUtil.setPosition(g,e);g.setAttribute("width",a);g.setAttribute("height",b);g.setAttribute("viewBox",[e.x,e.y,a,b].join(" "));c.Browser.mobileWebkit&&d.appendChild(g)}}});c.Path.include({bindPopup:function(a,e){return a instanceof c.Popup?this._popup=a:((!this._popup||e)&&(this._popup=new c.Popup(e,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&
(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng);this._map.openPopup(this._popup)}});c.Browser.vml=!c.Browser.svg&&function(){try{var a=h.createElement("div");a.innerHTML=
'<v:shape adj="1"/>';var e=a.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(b){return!1}}();c.Path=c.Browser.svg||!c.Browser.vml?c.Path:c.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return h.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return h.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return h.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),
_initPath:function(){var a=this._container=this._createElement("shape");c.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));this.options.clickable&&c.DomUtil.addClass(a,"leaflet-clickable");a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,e=this._fill,b=this.options,g=this._container;g.stroked=b.stroke;
g.filled=b.fill;b.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",g.appendChild(a)),a.weight=b.weight+"px",a.color=b.color,a.opacity=b.opacity,b.dashArray?a.dashStyle=c.Util.isArray(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):a.dashStyle="",b.lineCap&&(a.endcap=b.lineCap.replace("butt","flat")),b.lineJoin&&(a.joinstyle=b.lineJoin)):a&&(g.removeChild(a),this._stroke=null);b.fill?(e||(e=this._fill=this._createElement("fill"),g.appendChild(e)),e.color=
b.fillColor||b.color,e.opacity=b.fillOpacity):e&&(g.removeChild(e),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+" ";a.display=""}});c.Map.include(c.Browser.svg||!c.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=h.createElement("div");a.className="leaflet-vml-container";this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}}});c.Browser.canvas=
!!h.createElement("canvas").getContext;c.Path=c.Path.SVG&&!f.L_PREFER_CANVAS||!c.Browser.canvas?c.Path:c.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return c.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this);this.options.clickable&&(this._map.off("click",this._onClick,
this),this._map.off("mousemove",this._onMouseMove,this));this._requestUpdate();this.fire("remove");this._map=null},_requestUpdate:function(){this._map&&!c.Path._updateRequest&&(c.Path._updateRequest=c.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){c.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=
a.color);a.fill&&(this._ctx.fillStyle=a.fillColor||a.color);a.lineCap&&(this._ctx.lineCap=a.lineCap);a.lineJoin&&(this._ctx.lineJoin=a.lineJoin)},_drawPath:function(){var a,e,b,g,d,k;this._ctx.beginPath();a=0;for(b=this._parts.length;b>a;a++){e=0;for(g=this._parts[a].length;g>e;e++)d=this._parts[a][e],k=(0===e?"move":"line")+"To",this._ctx[k](d.x,d.y);this instanceof c.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=
this._ctx,e=this.options;this._drawPath();a.save();this._updateStyle();e.fill&&(a.globalAlpha=e.fillOpacity,a.fill(e.fillRule||"evenodd"));e.stroke&&(a.globalAlpha=e.opacity,a.stroke());a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(a){this._containsPoint(a.layerPoint)&&this.fire(a.type,a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&
(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}});c.Map.include(c.Path.SVG&&!f.L_PREFER_CANVAS||!c.Browser.canvas?{}:{_initPathRoot:function(){var a,e=this._pathRoot;e||(e=this._pathRoot=h.createElement("canvas"),e.style.position="absolute",a=this._canvasCtx=e.getContext("2d"),a.lineCap="round",a.lineJoin="round",this._panes.overlayPane.appendChild(e),
this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,e=a.min,a=a.max.subtract(e),b=this._pathRoot;c.DomUtil.setPosition(b,e);b.width=a.x;b.height=a.y;b.getContext("2d").translate(-e.x,-e.y)}}});c.LineUtil={simplify:function(a,
e){if(!e||!a.length)return a.slice();var b=e*e;return a=this._reducePoints(a,b),this._simplifyDP(a,b)},pointToSegmentDistance:function(a,e,b){return Math.sqrt(this._sqClosestPointOnSegment(a,e,b,!0))},closestPointOnSegment:function(a,e,b){return this._sqClosestPointOnSegment(a,e,b)},_simplifyDP:function(a,e){var b=a.length,c=new (typeof Uint8Array!=d+""?Uint8Array:Array)(b);c[0]=c[b-1]=1;this._simplifyDPStep(a,c,e,0,b-1);var m,k=[];for(m=0;b>m;m++)c[m]&&k.push(a[m]);return k},_simplifyDPStep:function(a,
e,b,c,d){var k,p,l,r=0;for(p=c+1;d-1>=p;p++)l=this._sqClosestPointOnSegment(a[p],a[c],a[d],!0),l>r&&(k=p,r=l);r>b&&(e[k]=1,this._simplifyDPStep(a,e,b,c,k),this._simplifyDPStep(a,e,b,k,d))},_reducePoints:function(a,e){for(var b=[a[0]],c=1,d=0,k=a.length;k>c;c++)this._sqDist(a[c],a[d])>e&&(b.push(a[c]),d=c);return k-1>d&&b.push(a[k-1]),b},clipSegment:function(a,b,c,g){var d,k,p=g?this._lastCode:this._getBitCode(a,c),l=this._getBitCode(b,c);for(this._lastCode=l;;){if(!(p|l))return[a,b];if(p&l)return!1;
g=p||l;d=this._getEdgeIntersection(a,b,g,c);k=this._getBitCode(d,c);g===p?(a=d,p=k):(b=d,l=k)}},_getEdgeIntersection:function(a,b,d,g){var m=b.x-a.x;b=b.y-a.y;var k=g.min;g=g.max;return 8&d?new c.Point(a.x+m*(g.y-a.y)/b,g.y):4&d?new c.Point(a.x+m*(k.y-a.y)/b,k.y):2&d?new c.Point(g.x,a.y+b*(g.x-a.x)/m):1&d?new c.Point(k.x,a.y+b*(k.x-a.x)/m):void 0},_getBitCode:function(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c},_sqDist:function(a,b){var c=b.x-a.x,
g=b.y-a.y;return c*c+g*g},_sqClosestPointOnSegment:function(a,b,d,g){var m,k=b.x;b=b.y;var p=d.x-k,l=d.y-b,r=p*p+l*l;return 0<r&&(m=((a.x-k)*p+(a.y-b)*l)/r,1<m?(k=d.x,b=d.y):0<m&&(k+=p*m,b+=l*m)),p=a.x-k,l=a.y-b,g?p*p+l*l:new c.Point(k,b)}};c.Polyline=c.Path.extend({initialize:function(a,b){c.Path.prototype.initialize.call(this,b);this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;b>a;a++)this._originalPoints[a]=
this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,c="";b>a;a++)c+=this._getPathPartStr(this._parts[a]);return c},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(c.latLng(a)),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),
a},closestLayerPoint:function(a){for(var b,d,g=1/0,m=this._parts,k=null,p=0,l=m.length;l>p;p++)for(var r=m[p],t=1,u=r.length;u>t;t++){b=r[t-1];d=r[t];var v=c.LineUtil._sqClosestPointOnSegment(a,b,d,!0);g>v&&(g=v,k=c.LineUtil._sqClosestPointOnSegment(a,b,d))}return k&&(k.distance=Math.sqrt(g)),k},getBounds:function(){return new c.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,b){var d,g,m=b?a:[];d=0;for(g=a.length;g>d;d++){if(c.Util.isArray(a[d])&&"number"!=typeof a[d][0])return;m[d]=
c.latLng(a[d])}return m},_initEvents:function(){c.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){for(var b,d=c.Path.VML,g=0,m=a.length,k="";m>g;g++)b=a[g],d&&b._round(),k+=(g?"L":"M")+b.x+" "+b.y;return k},_clipPoints:function(){var a,b,d,g=this._originalPoints,m=g.length;if(this.options.noClip)return void(this._parts=[g]);var k=this._parts=[],p=this._map._pathViewport,l=c.LineUtil;for(b=a=0;m-1>a;a++)(d=l.clipSegment(g[a],g[a+1],p,a))&&(k[b]=k[b]||[],k[b].push(d[0]),(d[1]!==g[a+
1]||a===m-2)&&(k[b].push(d[1]),b++))},_simplifyPoints:function(){for(var a=this._parts,b=c.LineUtil,d=0,g=a.length;g>d;d++)a[d]=b.simplify(a[d],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),c.Path.prototype._updatePath.call(this))}});c.polyline=function(a,b){return new c.Polyline(a,b)};c.PolyUtil={};c.PolyUtil.clipPolygon=function(a,b){var d,g,m,k,p,l,r,t,u=[1,4,2,8],v=c.LineUtil;g=0;for(l=a.length;l>g;g++)a[g]._code=v._getBitCode(a[g],b);
for(k=0;4>k;k++){r=u[k];d=[];g=0;l=a.length;for(m=l-1;l>g;m=g++)p=a[g],m=a[m],p._code&r?m._code&r||(t=v._getEdgeIntersection(m,p,r,b),t._code=v._getBitCode(t,b),d.push(t)):(m._code&r&&(t=v._getEdgeIntersection(m,p,r,b),t._code=v._getBitCode(t,b),d.push(t)),d.push(p));a=d}return a};c.Polygon=c.Polyline.extend({options:{fill:!0},initialize:function(a,b){c.Polyline.prototype.initialize.call(this,a,b);this._initWithHoles(a)},_initWithHoles:function(a){var b,d;if(a&&c.Util.isArray(a[0])&&"number"!=typeof a[0][0])for(this._latlngs=
this._convertLatLngs(a[0]),this._holes=a.slice(1),a=0,b=this._holes.length;b>a;a++)d=this._holes[a]=this._convertLatLngs(this._holes[a]),d[0].equals(d[d.length-1])&&d.pop();a=this._latlngs;2<=a.length&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){if(c.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var a,b,d,g;a=0;for(d=this._holes.length;d>a;a++)for(this._holePoints[a]=[],b=0,g=this._holes[a].length;g>b;b++)this._holePoints[a][b]=this._map.latLngToLayerPoint(this._holes[a][b])}},
setLatLngs:function(a){return a&&c.Util.isArray(a[0])&&"number"!=typeof a[0][0]?(this._initWithHoles(a),this.redraw()):c.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var a=[];if(this._parts=[this._originalPoints].concat(this._holePoints),!this.options.noClip){for(var b=0,d=this._parts.length;d>b;b++){var g=c.PolyUtil.clipPolygon(this._parts[b],this._map._pathViewport);g.length&&a.push(g)}this._parts=a}},_getPathPartStr:function(a){return c.Polyline.prototype._getPathPartStr.call(this,
a)+(c.Browser.svg?"z":"x")}});c.polygon=function(a,b){return new c.Polygon(a,b)};(function(){function a(a){return c.FeatureGroup.extend({initialize:function(a,b){this._layers={};this._options=b;this.setLatLngs(a)},setLatLngs:function(b){var c=0,d=b.length;for(this.eachLayer(function(a){d>c?a.setLatLngs(b[c++]):this.removeLayer(a)},this);d>c;)this.addLayer(new a(b[c++],this._options));return this},getLatLngs:function(){var a=[];return this.eachLayer(function(b){a.push(b.getLatLngs())}),a}})}c.MultiPolyline=
a(c.Polyline);c.MultiPolygon=a(c.Polygon);c.multiPolyline=function(a,b){return new c.MultiPolyline(a,b)};c.multiPolygon=function(a,b){return new c.MultiPolygon(a,b)}})();c.Rectangle=c.Polygon.extend({initialize:function(a,b){c.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=c.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});c.rectangle=
function(a,b){return new c.Rectangle(a,b)};c.Circle=c.Path.extend({initialize:function(a,b,d){c.Path.prototype.initialize.call(this,d);this._latlng=c.latLng(a);this._mRadius=b},options:{fill:!0},setLatLng:function(a){return this._latlng=c.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,a=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b);this._radius=Math.max(this._point.x-
a.x,1)},getBounds:function(){var a=this._getLngRadius(),b=this._mRadius/40075017*360,d=this._latlng;return new c.LatLngBounds([d.lat-b,d.lng-a],[d.lat+b,d.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;return this._checkIfEmpty()?"":c.Browser.svg?"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-.1)+","+(a.y-b)+" z":(a._round(),b=Math.round(b),"AL "+a.x+","+a.y+" "+b+","+b+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/
40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(c.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,c=this._point;return c.x-b>a.max.x||c.y-b>a.max.y||c.x+b<a.min.x||c.y+b<a.min.y}});c.circle=function(a,b,d){return new c.Circle(a,b,d)};c.CircleMarker=c.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){c.Circle.prototype.initialize.call(this,a,null,b);this._radius=this.options.radius},
projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){c.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(a){return c.Circle.prototype.setLatLng.call(this,a),this._popup&&this._popup._isOpen&&this._popup.setLatLng(a),this},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius}});c.circleMarker=function(a,b){return new c.CircleMarker(a,
b)};c.Polyline.include(c.Path.CANVAS?{_containsPoint:function(a,b){var d,g,m,k,p,l,r,t=this.options.weight/2;c.Browser.touch&&(t+=10);d=0;for(k=this._parts.length;k>d;d++)for(r=this._parts[d],g=0,p=r.length,m=p-1;p>g;m=g++)if((b||0!==g)&&(l=c.LineUtil.pointToSegmentDistance(a,r[m],r[g]),t>=l))return!0;return!1}}:{});c.Polygon.include(c.Path.CANVAS?{_containsPoint:function(a){var b,d,g,m,k,p,l,r=!1;if(c.Polyline.prototype._containsPoint.call(this,a,!0))return!0;m=0;for(p=this._parts.length;p>m;m++)for(b=
this._parts[m],k=0,l=b.length,g=l-1;l>k;g=k++)d=b[k],g=b[g],d.y>a.y!=g.y>a.y&&a.x<(g.x-d.x)*(a.y-d.y)/(g.y-d.y)+d.x&&(r=!r);return r}}:{});c.Circle.include(c.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this.options.stroke?this.options.weight/2:0;return a.distanceTo(this._point)<=this._radius+b}}:{});c.CircleMarker.include(c.Path.CANVAS?{_updateStyle:function(){c.Path.prototype._updateStyle.call(this)}}:
{});c.GeoJSON=c.FeatureGroup.extend({initialize:function(a,b){c.setOptions(this,b);this._layers={};a&&this.addData(a)},addData:function(a){var b,d,g=c.Util.isArray(a)?a:a.features;if(g){a=0;for(b=g.length;b>a;a++)d=g[a],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(g[a]);return this}g=this.options;if(!g.filter||g.filter(a))return b=c.GeoJSON.geometryToLayer(a,g.pointToLayer,g.coordsToLatLng,g),b.feature=c.GeoJSON.asFeature(a),b.defaultOptions=b.options,this.resetStyle(b),g.onEachFeature&&
g.onEachFeature(a,b),this.addLayer(b)},resetStyle:function(a){var b=this.options.style;b&&(c.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,b))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature));a.setStyle&&a.setStyle(b)}});c.extend(c.GeoJSON,{geometryToLayer:function(a,b,d,g){var m,k,p,l="Feature"===a.type?a.geometry:a,r=l.coordinates,t=[];switch(d=d||this.coordsToLatLng,l.type){case "Point":return m=
d(r),b?b(a,m):new c.Marker(m);case "MultiPoint":k=0;for(p=r.length;p>k;k++)m=d(r[k]),t.push(b?b(a,m):new c.Marker(m));return new c.FeatureGroup(t);case "LineString":return k=this.coordsToLatLngs(r,0,d),new c.Polyline(k,g);case "Polygon":if(2===r.length&&!r[1].length)throw Error("Invalid GeoJSON object.");return k=this.coordsToLatLngs(r,1,d),new c.Polygon(k,g);case "MultiLineString":return k=this.coordsToLatLngs(r,1,d),new c.MultiPolyline(k,g);case "MultiPolygon":return k=this.coordsToLatLngs(r,2,
d),new c.MultiPolygon(k,g);case "GeometryCollection":k=0;for(p=l.geometries.length;p>k;k++)t.push(this.geometryToLayer({geometry:l.geometries[k],type:"Feature",properties:a.properties},b,d,g));return new c.FeatureGroup(t);default:throw Error("Invalid GeoJSON object.");}},coordsToLatLng:function(a){return new c.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,c){var g,d,k,p=[];d=0;for(k=a.length;k>d;d++)g=b?this.coordsToLatLngs(a[d],b-1,c):(c||this.coordsToLatLng)(a[d]),p.push(g);return p},latLngToCoords:function(a){var b=
[a.lng,a.lat];return a.alt!==d&&b.push(a.alt),b},latLngsToCoords:function(a){for(var b=[],d=0,g=a.length;g>d;d++)b.push(c.GeoJSON.latLngToCoords(a[d]));return b},getFeature:function(a,b){return a.feature?c.extend({},a.feature,{geometry:b}):c.GeoJSON.asFeature(b)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var n={toGeoJSON:function(){return c.GeoJSON.getFeature(this,{type:"Point",coordinates:c.GeoJSON.latLngToCoords(this.getLatLng())})}};c.Marker.include(n);
c.Circle.include(n);c.CircleMarker.include(n);c.Polyline.include({toGeoJSON:function(){return c.GeoJSON.getFeature(this,{type:"LineString",coordinates:c.GeoJSON.latLngsToCoords(this.getLatLngs())})}});c.Polygon.include({toGeoJSON:function(){var a,b,d,g=[c.GeoJSON.latLngsToCoords(this.getLatLngs())];if(g[0].push(g[0][0]),this._holes)for(a=0,b=this._holes.length;b>a;a++)d=c.GeoJSON.latLngsToCoords(this._holes[a]),d.push(d[0]),g.push(d);return c.GeoJSON.getFeature(this,{type:"Polygon",coordinates:g})}});
(function(){function a(a){return function(){var b=[];return this.eachLayer(function(a){b.push(a.toGeoJSON().geometry.coordinates)}),c.GeoJSON.getFeature(this,{type:a,coordinates:b})}}c.MultiPolyline.include({toGeoJSON:a("MultiLineString")});c.MultiPolygon.include({toGeoJSON:a("MultiPolygon")});c.LayerGroup.include({toGeoJSON:function(){var b,d=this.feature&&this.feature.geometry,g=[];if(d&&"MultiPoint"===d.type)return a("MultiPoint").call(this);var m=d&&"GeometryCollection"===d.type;return this.eachLayer(function(a){a.toGeoJSON&&
(b=a.toGeoJSON(),g.push(m?b.geometry:c.GeoJSON.asFeature(b)))}),m?c.GeoJSON.getFeature(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}})})();c.geoJson=function(a,b){return new c.GeoJSON(a,b)};c.DomEvent={addListener:function(a,b,d,g){var m,k,p,l=c.stamp(d),r="_leaflet_"+b+l;return a[r]?this:(m=function(b){return d.call(g||a,b||c.DomEvent._getEvent())},c.Browser.pointer&&0===b.indexOf("touch")?this.addPointerListener(a,b,m,l):(c.Browser.touch&&"dblclick"===b&&
this.addDoubleTapListener&&this.addDoubleTapListener(a,m,l),"addEventListener"in a?"mousewheel"===b?(a.addEventListener("DOMMouseScroll",m,!1),a.addEventListener(b,m,!1)):"mouseenter"===b||"mouseleave"===b?(k=m,p="mouseenter"===b?"mouseover":"mouseout",m=function(b){return c.DomEvent._checkMouse(a,b)?k(b):void 0},a.addEventListener(p,m,!1)):"click"===b&&c.Browser.android?(k=m,m=function(a){return c.DomEvent._filterClick(a,k)},a.addEventListener(b,m,!1)):a.addEventListener(b,m,!1):"attachEvent"in a&&
a.attachEvent("on"+b,m),a[r]=m,this))},removeListener:function(a,b,d){d=c.stamp(d);var g="_leaflet_"+b+d,m=a[g];return m?(c.Browser.pointer&&0===b.indexOf("touch")?this.removePointerListener(a,b,d):c.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,d):"removeEventListener"in a?"mousewheel"===b?(a.removeEventListener("DOMMouseScroll",m,!1),a.removeEventListener(b,m,!1)):"mouseenter"===b||"mouseleave"===b?a.removeEventListener("mouseenter"===b?"mouseover":"mouseout",
m,!1):a.removeEventListener(b,m,!1):"detachEvent"in a&&a.detachEvent("on"+b,m),a[g]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,c.DomEvent._skipped(a),this},disableScrollPropagation:function(a){var b=c.DomEvent.stopPropagation;return c.DomEvent.on(a,"mousewheel",b).on(a,"MozMousePixelScroll",b)},disableClickPropagation:function(a){for(var b=c.DomEvent.stopPropagation,d=c.Draggable.START.length-1;0<=d;d--)c.DomEvent.on(a,c.Draggable.START[d],
b);return c.DomEvent.on(a,"click",c.DomEvent._fakeStop).on(a,"dblclick",b)},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return c.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){if(!b)return new c.Point(a.clientX,a.clientY);var d=b.getBoundingClientRect();return new c.Point(a.clientX-d.left-b.clientLeft,a.clientY-d.top-b.clientTop)},getWheelDelta:function(a){var b=0;return a.wheelDelta&&(b=a.wheelDelta/
120),a.detail&&(b=-a.detail/3),b},_skipEvents:{},_fakeStop:function(a){c.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,b},_checkMouse:function(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(g){return!1}return c!==a},_getEvent:function(){var a=f.event;if(!a)for(var b=arguments.callee.caller;b&&(a=b.arguments[0],!a||f.Event!==a.constructor);)b=b.caller;return a},_filterClick:function(a,b){var d=
a.timeStamp||a.originalEvent.timeStamp,g=c.DomEvent._lastClick&&d-c.DomEvent._lastClick;return g&&100<g&&500>g||a.target._simulatedClick&&!a._simulated?void c.DomEvent.stop(a):(c.DomEvent._lastClick=d,b(a))}};c.DomEvent.on=c.DomEvent.addListener;c.DomEvent.off=c.DomEvent.removeListener;c.Draggable=c.Class.extend({includes:c.Mixin.Events,statics:{START:c.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},
MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a;this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=c.Draggable.START.length-1;0<=a;a--)c.DomEvent.on(this._dragStartTarget,c.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=c.Draggable.START.length-1;0<=a;a--)c.DomEvent.off(this._dragStartTarget,c.Draggable.START[a],this._onDown,
this);this._moved=this._enabled=!1}},_onDown:function(a){if(this._moved=!1,!(a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(c.DomEvent.stopPropagation(a),c.Draggable._disabled||(c.DomUtil.disableImageDrag(),c.DomUtil.disableTextSelection(),this._moving)))){var b=a.touches?a.touches[0]:a;this._startPoint=new c.Point(b.clientX,b.clientY);this._startPos=this._newPos=c.DomUtil.getPosition(this._element);c.DomEvent.on(h,c.Draggable.MOVE[a.type],this._onMove,this).on(h,c.Draggable.END[a.type],this._onUp,
this)}},_onMove:function(a){if(a.touches&&1<a.touches.length)return void(this._moved=!0);var b=a.touches&&1===a.touches.length?a.touches[0]:a,b=(new c.Point(b.clientX,b.clientY)).subtract(this._startPoint);(b.x||b.y)&&(c.Browser.touch&&3>Math.abs(b.x)+Math.abs(b.y)||(c.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=c.DomUtil.getPosition(this._element).subtract(b),c.DomUtil.addClass(h.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,c.DomUtil.addClass(this._lastTarget,
"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,c.Util.cancelAnimFrame(this._animRequest),this._animRequest=c.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag");c.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(){c.DomUtil.removeClass(h.body,"leaflet-dragging");this._lastTarget&&(c.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);
for(var a in c.Draggable.MOVE)c.DomEvent.off(h,c.Draggable.MOVE[a],this._onMove).off(h,c.Draggable.END[a],this._onUp);c.DomUtil.enableImageDrag();c.DomUtil.enableTextSelection();this._moved&&this._moving&&(c.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1}});c.Handler=c.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&
(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});c.Map.mergeOptions({dragging:!0,inertia:!c.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:c.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1});c.Map.Drag=c.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new c.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);
a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop();a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=
this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b);this._times.push(a);200<a-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,g=this._draggable._newPos.x,
d=(g-b+c)%a+b-c,a=(g+b+c)%a-b-c;this._draggable._newPos.x=Math.abs(d+c)<Math.abs(a+c)?d:a},_onDragEnd:function(a){var b=this._map,d=b.options,g=+new Date-this._lastTime,m=!d.inertia||g>d.inertiaThreshold||!this._positions[0];if(b.fire("dragend",a),m)b.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);var k=d.easeLinearity;a=a.multiplyBy(k/((this._lastTime+g-this._times[0])/1E3));m=a.distanceTo([0,0]);g=Math.min(d.inertiaMaxSpeed,m);a=a.multiplyBy(g/m);var p=g/(d.inertiaDeceleration*
k),l=a.multiplyBy(-p/2).round();l.x&&l.y?(l=b._limitOffset(l,b.options.maxBounds),c.Util.requestAnimFrame(function(){b.panBy(l,{duration:p,easeLinearity:k,noMoveStart:!0})})):b.fire("moveend")}}});c.Map.addInitHook("addHandler","dragging",c.Map.Drag);c.Map.mergeOptions({doubleClickZoom:!0});c.Map.DoubleClickZoom=c.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=
this._map,c=b.getZoom()+(a.originalEvent.shiftKey?-1:1);"center"===b.options.doubleClickZoom?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}});c.Map.addInitHook("addHandler","doubleClickZoom",c.Map.DoubleClickZoom);c.Map.mergeOptions({scrollWheelZoom:!0});c.Map.ScrollWheelZoom=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);c.DomEvent.on(this._map._container,"MozMousePixelScroll",c.DomEvent.preventDefault);this._delta=0},removeHooks:function(){c.DomEvent.off(this._map._container,
"mousewheel",this._onWheelScroll);c.DomEvent.off(this._map._container,"MozMousePixelScroll",c.DomEvent.preventDefault)},_onWheelScroll:function(a){var b=c.DomEvent.getWheelDelta(a);this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);b=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(c.bind(this._performZoom,this),b);c.DomEvent.preventDefault(a);c.DomEvent.stopPropagation(a)},_performZoom:function(){var a=
this._map,b=this._delta,c=a.getZoom(),b=0<b?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(c+b)-c;this._delta=0;this._startTime=null;b&&("center"===a.options.scrollWheelZoom?a.setZoom(c+b):a.setZoomAround(this._lastMousePos,c+b))}});c.Map.addInitHook("addHandler","scrollWheelZoom",c.Map.ScrollWheelZoom);c.extend(c.DomEvent,{_touchstart:c.Browser.msPointer?"MSPointerDown":c.Browser.pointer?"pointerdown":"touchstart",_touchend:c.Browser.msPointer?"MSPointerUp":c.Browser.pointer?
"pointerup":"touchend",addDoubleTapListener:function(a,b,d){function g(a){var b;if(c.Browser.pointer?(v.push(a.pointerId),b=v.length):b=a.touches.length,!(1<b)){b=Date.now();var e=b-(k||b);p=a.touches?a.touches[0]:a;l=0<e&&r>=e;k=b}}function m(a){if(c.Browser.pointer){a=v.indexOf(a.pointerId);if(-1===a)return;v.splice(a,1)}if(l){if(c.Browser.pointer){var g={},d;for(d in p)a=p[d],"function"==typeof a?g[d]=a.bind(p):g[d]=a;p=g}p.type="dblclick";b(p);k=null}}var k,p,l=!1,r=250,t=this._touchstart,u=this._touchend,
v=[];a["_leaflet_"+t+d]=g;a["_leaflet_"+u+d]=m;d=c.Browser.pointer?h.documentElement:a;return a.addEventListener(t,g,!1),d.addEventListener(u,m,!1),c.Browser.pointer&&d.addEventListener(c.DomEvent.POINTER_CANCEL,m,!1),this},removeDoubleTapListener:function(a,b){return a.removeEventListener(this._touchstart,a["_leaflet_"+this._touchstart+b],!1),(c.Browser.pointer?h.documentElement:a).removeEventListener(this._touchend,a["_leaflet_"+this._touchend+b],!1),c.Browser.pointer&&h.documentElement.removeEventListener(c.DomEvent.POINTER_CANCEL,
a["_leaflet_"+this._touchend+b],!1),this}});c.extend(c.DomEvent,{POINTER_DOWN:c.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:c.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:c.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:c.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(a,b,c,g){switch(b){case "touchstart":return this.addPointerListenerStart(a,b,c,g);case "touchend":return this.addPointerListenerEnd(a,
b,c,g);case "touchmove":return this.addPointerListenerMove(a,b,c,g);default:throw"Unknown touch event type";}},addPointerListenerStart:function(a,b,d,g){var m=this._pointers;b=function(a){"mouse"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&c.DomEvent.preventDefault(a);for(var b=!1,e=0;e<m.length;e++)if(m[e].pointerId===a.pointerId){b=!0;break}b||m.push(a);a.touches=m.slice();a.changedTouches=[a];d(a)};(a["_leaflet_touchstart"+g]=b,a.addEventListener(this.POINTER_DOWN,b,!1),this._pointerDocumentListener)||
(a=function(a){for(var b=0;b<m.length;b++)if(m[b].pointerId===a.pointerId){m.splice(b,1);break}},h.documentElement.addEventListener(this.POINTER_UP,a,!1),h.documentElement.addEventListener(this.POINTER_CANCEL,a,!1),this._pointerDocumentListener=!0);return this},addPointerListenerMove:function(a,b,c,g){function d(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var b=0;b<k.length;b++)if(k[b].pointerId===a.pointerId){k[b]=a;break}a.touches=k.slice();a.changedTouches=
[a];c(a)}}var k=this._pointers;return a["_leaflet_touchmove"+g]=d,a.addEventListener(this.POINTER_MOVE,d,!1),this},addPointerListenerEnd:function(a,b,c,g){var d=this._pointers;b=function(a){for(var b=0;b<d.length;b++)if(d[b].pointerId===a.pointerId){d.splice(b,1);break}a.touches=d.slice();a.changedTouches=[a];c(a)};return a["_leaflet_touchend"+g]=b,a.addEventListener(this.POINTER_UP,b,!1),a.addEventListener(this.POINTER_CANCEL,b,!1),this},removePointerListener:function(a,b,c){c=a["_leaflet_"+b+c];
switch(b){case "touchstart":a.removeEventListener(this.POINTER_DOWN,c,!1);break;case "touchmove":a.removeEventListener(this.POINTER_MOVE,c,!1);break;case "touchend":a.removeEventListener(this.POINTER_UP,c,!1),a.removeEventListener(this.POINTER_CANCEL,c,!1)}return this}});c.Map.mergeOptions({touchZoom:c.Browser.touch&&!c.Browser.android23,bounceAtZoomLimits:!0});c.Map.TouchZoom=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){c.DomEvent.off(this._map._container,
"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var d=b.mouseEventToLayerPoint(a.touches[0]),g=b.mouseEventToLayerPoint(a.touches[1]),m=b._getCenterLayerPoint();this._startCenter=d.add(g)._divideBy(2);this._startDist=d.distanceTo(g);this._moved=!1;this._zooming=!0;this._centerOffset=m.subtract(this._startCenter);b._panAnim&&b._panAnim.stop();c.DomEvent.on(h,"touchmove",this._onTouchMove,this).on(h,
"touchend",this._onTouchEnd,this);c.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var d=b.mouseEventToLayerPoint(a.touches[0]),g=b.mouseEventToLayerPoint(a.touches[1]);this._scale=d.distanceTo(g)/this._startDist;this._delta=d._add(g)._divideBy(2)._subtract(this._startCenter);1===this._scale||!b.options.bounceAtZoomLimits&&(b.getZoom()===b.getMinZoom()&&1>this._scale||b.getZoom()===b.getMaxZoom()&&1<this._scale)||(this._moved||
(c.DomUtil.addClass(b._mapPane,"leaflet-touching"),b.fire("movestart").fire("zoomstart"),this._moved=!0),c.Util.cancelAnimFrame(this._animRequest),this._animRequest=c.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),c.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),b=a.layerPointToLatLng(b),c=a.getScaleZoom(this._scale);a._animateZoom(b,c,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||
!this._zooming)return void(this._zooming=!1);var a=this._map;this._zooming=!1;c.DomUtil.removeClass(a._mapPane,"leaflet-touching");c.Util.cancelAnimFrame(this._animRequest);c.DomEvent.off(h,"touchmove",this._onTouchMove).off(h,"touchend",this._onTouchEnd);var b=this._getScaleOrigin(),d=a.layerPointToLatLng(b),g=a.getZoom(),m=a.getScaleZoom(this._scale)-g,g=a._limitZoom(g+(0<m?Math.ceil(m):Math.floor(m))),m=a.getZoomScale(g)/this._scale;a._animateZoom(d,g,b,m)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);
return this._startCenter.add(a)}});c.Map.addInitHook("addHandler","touchZoom",c.Map.TouchZoom);c.Map.mergeOptions({tap:!0,tapTolerance:15});c.Map.Tap=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){c.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(c.DomEvent.preventDefault(a),this._fireClick=!0,1<a.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);
var b=a.touches[0];a=b.target;this._startPos=this._newPos=new c.Point(b.clientX,b.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&c.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(c.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1E3);c.DomEvent.on(h,"touchmove",this._onMove,this).on(h,"touchend",this._onUp,this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),c.DomEvent.off(h,"touchmove",this._onMove,this).off(h,
"touchend",this._onUp,this),this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var b=a.target;b&&b.tagName&&"a"===b.tagName.toLowerCase()&&c.DomUtil.removeClass(b,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new c.Point(a.clientX,a.clientY)},_simulateEvent:function(a,b){var c=h.createEvent("MouseEvents");c._simulated=
!0;b.target._simulatedClick=!0;c.initMouseEvent(a,!0,!0,f,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)}});c.Browser.touch&&!c.Browser.pointer&&c.Map.addInitHook("addHandler","tap",c.Map.Tap);c.Map.mergeOptions({boxZoom:!0});c.Map.BoxZoom=c.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._moved=!1},addHooks:function(){c.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){c.DomEvent.off(this._container,
"mousedown",this._onMouseDown);this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){return this._moved=!1,!a.shiftKey||1!==a.which&&1!==a.button?!1:(c.DomUtil.disableTextSelection(),c.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),void c.DomEvent.on(h,"mousemove",this._onMouseMove,this).on(h,"mouseup",this._onMouseUp,this).on(h,"keydown",this._onKeyDown,this))},_onMouseMove:function(a){this._moved||(this._box=c.DomUtil.create("div","leaflet-zoom-box",
this._pane),c.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var b=this._startLayerPoint,d=this._box,g=this._map.mouseEventToLayerPoint(a);a=g.subtract(b);b=new c.Point(Math.min(g.x,b.x),Math.min(g.y,b.y));c.DomUtil.setPosition(d,b);this._moved=!0;d.style.width=Math.max(0,Math.abs(a.x)-4)+"px";d.style.height=Math.max(0,Math.abs(a.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=
"");c.DomUtil.enableTextSelection();c.DomUtil.enableImageDrag();c.DomEvent.off(h,"mousemove",this._onMouseMove).off(h,"mouseup",this._onMouseUp).off(h,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var b=this._map;a=b.mouseEventToLayerPoint(a);this._startLayerPoint.equals(a)||(a=new c.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint),b.layerPointToLatLng(a)),b.fitBounds(a),b.fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});c.Map.addInitHook("addHandler",
"boxZoom",c.Map.BoxZoom);c.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});c.Map.Keyboard=c.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a;this._setPanOffset(a.options.keyboardPanOffset);this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0");c.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",
this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;c.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var a=h.body,b=h.documentElement,c=a.scrollTop||b.scrollTop,
a=a.scrollLeft||b.scrollLeft;this._map._container.focus();f.scrollTo(a,c)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanOffset:function(a){var b,c,g=this._panKeys={},d=this.keyCodes;b=0;for(c=d.left.length;c>b;b++)g[d.left[b]]=[-1*a,0];b=0;for(c=d.right.length;c>b;b++)g[d.right[b]]=[a,0];b=0;for(c=d.down.length;c>b;b++)g[d.down[b]]=[0,a];b=0;for(c=d.up.length;c>b;b++)g[d.up[b]]=[0,-1*a]},_setZoomOffset:function(a){var b,
c,g=this._zoomKeys={},d=this.keyCodes;b=0;for(c=d.zoomIn.length;c>b;b++)g[d.zoomIn[b]]=a;b=0;for(c=d.zoomOut.length;c>b;b++)g[d.zoomOut[b]]=-a},_addHooks:function(){c.DomEvent.on(h,"keydown",this._onKeyDown,this)},_removeHooks:function(){c.DomEvent.off(h,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var b=a.keyCode,d=this._map;if(b in this._panKeys){if(d._panAnim&&d._panAnim._inProgress)return;d.panBy(this._panKeys[b]);d.options.maxBounds&&d.panInsideBounds(d.options.maxBounds)}else{if(!(b in
this._zoomKeys))return;d.setZoom(d.getZoom()+this._zoomKeys[b])}c.DomEvent.stop(a)}});c.Map.addInitHook("addHandler","keyboard",c.Map.Keyboard);c.Handler.MarkerDrag=c.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new c.Draggable(a,a));this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);this._draggable.enable();c.DomUtil.addClass(this._marker._icon,
"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable();c.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var a=this._marker,b=a._shadow,d=c.DomUtil.getPosition(a._icon),
g=a._map.layerPointToLatLng(d);b&&c.DomUtil.setPosition(b,d);a._latlng=g;a.fire("move",{latlng:g}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}});c.Control=c.Class.extend({options:{position:"topright"},initialize:function(a){c.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},
addTo:function(a){this._map=a;var b=this._container=this.onAdd(a),d=this.getPosition();a=a._controlCorners[d];return c.DomUtil.addClass(b,"leaflet-control"),-1!==d.indexOf("bottom")?a.insertBefore(b,a.firstChild):a.appendChild(b),this},removeFrom:function(a){var b=this.getPosition();return a._controlCorners[b].removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(a),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}});c.control=function(a){return new c.Control(a)};
c.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function a(a,k){b[a+k]=c.DomUtil.create("div",d+a+" "+d+k,g)}var b=this._controlCorners={},d="leaflet-",g=this._controlContainer=c.DomUtil.create("div",d+"control-container",this._container);a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});c.Control.Zoom=
c.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var b=c.DomUtil.create("div","leaflet-control-zoom leaflet-bar");return this._map=a,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,"leaflet-control-zoom-in",b,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,"leaflet-control-zoom-out",b,this._zoomOut,this),this._updateDisabled(),
a.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,b,d,g,m,k){d=c.DomUtil.create("a",d,g);d.innerHTML=a;d.href="#";d.title=b;a=c.DomEvent.stopPropagation;return c.DomEvent.on(d,"click",a).on(d,"mousedown",a).on(d,"dblclick",a).on(d,"click",c.DomEvent.preventDefault).on(d,"click",
m,k).on(d,"click",this._refocusOnMap,k),d},_updateDisabled:function(){var a=this._map;c.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");c.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMinZoom()&&c.DomUtil.addClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMaxZoom()&&c.DomUtil.addClass(this._zoomInButton,"leaflet-disabled")}});c.Map.mergeOptions({zoomControl:!0});c.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new c.Control.Zoom,
this.addControl(this.zoomControl))});c.control.zoom=function(a){return new c.Control.Zoom(a)};c.Control.Attribution=c.Control.extend({options:{position:"bottomright",prefix:'<a href="http://smims.com" title="smims.com">SMIMS</a>'},initialize:function(a){c.setOptions(this,a);this._attributions={}},onAdd:function(a){this._container=c.DomUtil.create("div","leaflet-control-attribution");c.DomEvent.disableClickPropagation(this._container);for(var b in a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());
return a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,
this._update()),this):void 0},_update:function(){if(this._map){var a=[],b;for(b in this._attributions)this._attributions[b]&&a.push(b);b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}});c.Map.mergeOptions({attributionControl:!0});
c.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new c.Control.Attribution).addTo(this))});c.control.attribution=function(a){return new c.Control.Attribution(a)};c.Control.Scale=c.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var b=c.DomUtil.create("div","leaflet-control-scale"),d=this.options;return this._addScales(d,"leaflet-control-scale",b),a.on(d.updateWhenIdle?"moveend":
"move",this._update,this),a.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,d){a.metric&&(this._mScale=c.DomUtil.create("div",b+"-line",d));a.imperial&&(this._iScale=c.DomUtil.create("div",b+"-line",d))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,a=6378137*Math.PI*Math.cos(b*Math.PI/180)*(a.getNorthEast().lng-a.getSouthWest().lng)/180,b=this._map.getSize(),c=this.options,g=0;
0<b.x&&(g=c.maxWidth/b.x*a);this._updateScales(c,g)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b);a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=1E3>b?b+" m":b/1E3+" km"},_updateImperial:function(a){var b,c,g;a*=3.2808399;var d=this._iScale;5280<a?(b=a/5280,c=this._getRoundNum(b),d.style.width=this._getScaleWidth(c/b)+"px",d.innerHTML=c+" mi"):(g=this._getRoundNum(a),
d.style.width=this._getScaleWidth(g/a)+"px",d.innerHTML=g+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return a=10<=a?10:5<=a?5:3<=a?3:2<=a?2:1,b*a}});c.control.scale=function(a){return new c.Control.Scale(a)};c.Control.Layers=c.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(a,b,d){c.setOptions(this,d);this._layers={};this._lastZIndex=0;this._handlingClick=
!1;for(var g in a)this._addLayer(a[g],g);for(g in b)this._addLayer(b[g],g,!0)},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update(),this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._update(),this},removeLayer:function(a){a=
c.stamp(a);return delete this._layers[a],this._update(),this},_initLayout:function(){var a=this._container=c.DomUtil.create("div","leaflet-control-layers");a.setAttribute("aria-haspopup",!0);c.Browser.touch?c.DomEvent.on(a,"click",c.DomEvent.stopPropagation):c.DomEvent.disableClickPropagation(a).disableScrollPropagation(a);var b=this._form=c.DomUtil.create("form","leaflet-control-layers-list");if(this.options.collapsed){c.Browser.android||c.DomEvent.on(a,"mouseover",this._expand,this).on(a,"mouseout",
this._collapse,this);var d=this._layersLink=c.DomUtil.create("a","leaflet-control-layers-toggle",a);d.href="#";d.title="Layers";c.Browser.touch?c.DomEvent.on(d,"click",c.DomEvent.stop).on(d,"click",this._expand,this):c.DomEvent.on(d,"focus",this._expand,this);c.DomEvent.on(b,"click",function(){setTimeout(c.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=c.DomUtil.create("div","leaflet-control-layers-base",b);this._separator=
c.DomUtil.create("div","leaflet-control-layers-separator",b);this._overlaysList=c.DomUtil.create("div","leaflet-control-layers-overlays",b);a.appendChild(b)},_addLayer:function(a,b,d){var g=c.stamp(a);this._layers[g]={layer:a,name:b,overlay:d};this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="";this._overlaysList.innerHTML="";var a,b,c=!1,g=!1;for(a in this._layers)b=this._layers[a],this._addItem(b),
g=g||b.overlay,c=c||!b.overlay;this._separator.style.display=g&&c?"":"none"}},_onLayerChange:function(a){var b=this._layers[c.stamp(a.layer)];b&&(this._handlingClick||this._update(),(a=b.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null)&&this._map.fire(a,b))},_createRadioElement:function(a,b){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"';b&&(c+=' checked="checked"');var c=c+"/>",g=h.createElement("div");return g.innerHTML=
c,g.firstChild},_addItem:function(a){var b,d=h.createElement("label"),g=this._map.hasLayer(a.layer);a.overlay?(b=h.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=g):b=this._createRadioElement("leaflet-base-layers",g);b.layerId=c.stamp(a.layer);c.DomEvent.on(b,"click",this._onInputClick,this);g=h.createElement("span");g.innerHTML=" "+a.name;d.appendChild(b);d.appendChild(g);return(a.overlay?this._overlaysList:this._baseLayersList).appendChild(d),
d},_onInputClick:function(){var a,b,c,g=this._form.getElementsByTagName("input"),d=g.length;this._handlingClick=!0;for(a=0;d>a;a++)b=g[a],c=this._layers[b.layerId],b.checked&&!this._map.hasLayer(c.layer)?this._map.addLayer(c.layer):!b.checked&&this._map.hasLayer(c.layer)&&this._map.removeLayer(c.layer);this._handlingClick=!1;this._refocusOnMap()},_expand:function(){c.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded",
"")}});c.control.layers=function(a,b,d){return new c.Control.Layers(a,b,d)};c.PosAnimation=c.Class.extend({includes:c.Mixin.Events,run:function(a,b,d,g){this.stop();this._el=a;this._inProgress=!0;this._newPos=b;this.fire("start");a.style[c.DomUtil.TRANSITION]="all "+(d||.25)+"s cubic-bezier(0,0,"+(g||.5)+",1)";c.DomEvent.on(a,c.DomUtil.TRANSITION_END,this._onTransitionEnd,this);c.DomUtil.setPosition(a,b);c.Util.falseFn(a.offsetWidth);this._stepTimer=setInterval(c.bind(this._onStep,this),50)},stop:function(){this._inProgress&&
(c.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),c.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,b,d=f.getComputedStyle(this._el);if(c.Browser.any3d){if(b=d[c.DomUtil.TRANSFORM].match(this._transformRe),!b)return;a=parseFloat(b[1]);b=parseFloat(b[2])}else a=parseFloat(d.left),
b=parseFloat(d.top);return new c.Point(a,b,!0)},_onTransitionEnd:function(){c.DomEvent.off(this._el,c.DomUtil.TRANSITION_END,this._onTransitionEnd,this);this._inProgress&&(this._inProgress=!1,this._el.style[c.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}});c.Map.include({setView:function(a,b,q){if(b=b===d?this._zoom:this._limitZoom(b),a=this._limitCenter(c.latLng(a),b,this.options.maxBounds),q=q||{},this._panAnim&&this._panAnim.stop(),
this._loaded&&!q.reset&&!0!==q)if(q.animate!==d&&(q.zoom=c.extend({animate:q.animate},q.zoom),q.pan=c.extend({animate:q.animate},q.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,q.zoom):this._tryAnimatedPan(a,q.pan))return clearTimeout(this._sizeTimer),this;return this._resetView(a,b),this},panBy:function(a,b){if(a=c.point(a).round(),b=b||{},!a.x&&!a.y)return this;if(this._panAnim||(this._panAnim=new c.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},
this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate){c.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,d,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){c.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._floor();
return!0===(b&&b.animate)||this.getSize().contains(c)?(this.panBy(c,b),!0):!1}});c.PosAnimation=c.DomUtil.TRANSITION?c.PosAnimation:c.PosAnimation.extend({run:function(a,b,d,g){this.stop();this._el=a;this._inProgress=!0;this._duration=d||.25;this._easeOutPower=1/Math.max(g||.5,.2);this._startPos=c.DomUtil.getPosition(a);this._offset=b.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=
c.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var a=+new Date-this._startTime,b=1E3*this._duration;b>a?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){a=this._startPos.add(this._offset.multiplyBy(a));c.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){c.Util.cancelAnimFrame(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});c.Map.mergeOptions({zoomAnimation:!0,
zoomAnimationThreshold:4});c.DomUtil.TRANSITION&&c.Map.addInitHook(function(){(this._zoomAnimated=this.options.zoomAnimation&&c.DomUtil.TRANSITION&&c.Browser.any3d&&!c.Browser.android23&&!c.Browser.mobileOpera)&&c.DomEvent.on(this._mapPane,c.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});c.Map.include(c.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},
_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(b),d=this._getCenterOffset(a)._divideBy(1-1/g),k=this._getCenterLayerPoint()._add(d);return!0===c.animate||this.getSize().contains(d)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(a,b,k,g,null,!0),!0):!1},_animateZoom:function(a,b,d,g,m,k,p){p||(this._animatingZoom=
!0);c.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=a;this._animateToZoom=b;c.Draggable&&(c.Draggable._disabled=!0);c.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:a,zoom:b,origin:d,scale:g,delta:m,backwards:k});setTimeout(c.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,c.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),c.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,
this._animateToZoom,!0,!0);c.Draggable&&(c.Draggable._disabled=!1)},this))}}:{});c.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var b=this._bgBuffer,d=c.DomUtil.TRANSFORM,g=a.delta?c.DomUtil.getTranslateString(a.delta):b.style[d],m=c.DomUtil.getScaleString(a.scale,a.origin);b.style[d]=a.backwards?m+" "+g:g+" "+m},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="";a.parentNode.appendChild(a);c.Util.falseFn(b.offsetWidth);
a=this._map.getZoom();(a>this.options.maxZoom||a<this.options.minZoom)&&this._clearBgBuffer();this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[c.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,b=this._bgBuffer,d=this._getLoadedTilesPercentage(b),g=this._getLoadedTilesPercentage(a);return b&&.5<d&&.5>g?(a.style.visibility="hidden",void this._stopLoadingImages(a)):
(b.style.visibility="hidden",b.style[c.DomUtil.TRANSFORM]="",this._tileContainer=b,b=this._bgBuffer=a,this._stopLoadingImages(b),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(a){var b,c=a.getElementsByTagName("img"),g=0;a=0;for(b=c.length;b>a;a++)c[a].complete&&g++;return g/b},_stopLoadingImages:function(a){var b,d,g=Array.prototype.slice.call(a.getElementsByTagName("img"));a=0;for(b=g.length;b>a;a++)d=g[a],d.complete||(d.onload=c.Util.falseFn,d.onerror=c.Util.falseFn,
d.src=c.Util.emptyImageUrl,d.parentNode.removeChild(d))}});c.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1E4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){if(a=this._locateOptions=c.extend(this._defaultLocateOptions,a),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=c.bind(this._handleGeolocationResponse,this),d=c.bind(this._handleGeolocationError,this);return a.watch?this._locationWatchId=
navigator.geolocation.watchPosition(b,d,a):navigator.geolocation.getCurrentPosition(b,d,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+
a+"."})},_handleGeolocationResponse:function(a){var b=a.coords.latitude,d=a.coords.longitude,g=new c.LatLng(b,d),m=180*a.coords.accuracy/40075017,k=m/Math.cos(c.LatLng.DEG_TO_RAD*b),b=c.latLngBounds([b-m,d-k],[b+m,d+k]),d=this._locateOptions;d.setView&&(d=Math.min(this.getBoundsZoom(b),d.maxZoom),this.setView(g,d));var g={latlng:g,bounds:b,timestamp:a.timestamp},p;for(p in a.coords)"number"==typeof a.coords[p]&&(g[p]=a.coords[p]);this.fire("locationfound",g)}})}(window,document);!function(f,h,d){L.drawVersion="0.3.0-dev";L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},marker:{tooltip:{start:"Click map to place marker."}},
polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes.",
text:"Save"},cancel:{title:"Cancel editing, discards all changes.",text:"Cancel"}},buttons:{edit:"Edit layers.",editDisabled:"No layers to edit.",remove:"Delete layers.",removeDisabled:"No layers to delete."}},handlers:{edit:{tooltip:{text:"Drag handles, or marker to edit feature.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove"}}}}};L.Draw={};L.Draw.Feature=L.Handler.extend({includes:L.Mixin.Events,initialize:function(b,c){this._map=b;this._container=
b._container;this._overlayPane=b._panes.overlayPane;this._popupPane=b._panes.popupPane;c&&c.shapeOptions&&(c.shapeOptions=L.Util.extend({},this.options.shapeOptions,c.shapeOptions));L.setOptions(this,c)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire("draw:drawstart",{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire("draw:drawstop",{layerType:this.type}),
this.fire("disabled",{handler:this.type}))},addHooks:function(){var b=this._map;b&&(L.DomUtil.disableTextSelection(),b.getContainer().focus(),this._tooltip=new L.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(b){L.setOptions(this,b)},_fireCreatedEvent:function(b){this._map.fire("draw:created",
{layer:b,layerType:this.type})},_cancelDrawing:function(b){this._map.fire("draw:canceled",{layerType:this.type});27===b.keyCode&&this.disable()}});L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),
guidelineDistance:20,maxGuideLineLength:4E3,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,showLength:!0,zIndexOffset:2E3},initialize:function(b,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon);this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error;c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError));this.type=L.Draw.Polyline.TYPE;L.Draw.Feature.prototype.initialize.call(this,b,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);
this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),L.Browser.touch||this._map.on("mouseup",this._onMouseUp,this),this._mouseMarker.on("mousedown",
this._onMouseDown,this).on("mouseout",this._onMouseOut,this).on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("click",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._clearHideErrorTimeout();this._cleanUpShape();this._map.removeLayer(this._markerGroup);
delete this._markerGroup;delete this._markers;this._map.removeLayer(this._poly);delete this._poly;this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this);this._map.removeLayer(this._mouseMarker);delete this._mouseMarker;this._clearGuides();this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",
this._onZoomEnd,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(1>=this._markers.length)){var b=this._markers.pop(),c=this._poly,d=this._poly.spliceLatLngs(c.getLatLngs().length-1,1)[0];this._markerGroup.removeLayer(b);2>c.getLatLngs().length&&this._map.removeLayer(c);this._vertexChanged(d,!1)}},addVertex:function(b){return 0<this._markers.length&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(b)?void this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),
this._markers.push(this._createMarker(b)),this._poly.addLatLng(b),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),void this._vertexChanged(b,!0))},completeShape:function(){1>=this._markers.length||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var b=this._poly.newLatLngIntersects(this._poly.getLatLngs()[this._poly.getLatLngs().length-1]);return!this.options.allowIntersection&&b||!this._shapeIsValid()?void this._showErrorTooltip():
(this._fireCreatedEvent(),this.disable(),void(this.options.repeatMode&&this.enable()))},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(b){var c=this._map.mouseEventToLayerPoint(b.originalEvent),d=this._map.layerPointToLatLng(c);this._currentLatLng=d;this._updateTooltip(d);this._updateGuide(c);this._mouseMarker.setLatLng(d);L.DomEvent.preventDefault(b.originalEvent)},_vertexChanged:function(b,c){this._map.fire("draw:drawvertex",
{layers:this._markerGroup});this._updateFinishHandler();this._updateRunningMeasure(b,c);this._clearGuides();this._updateTooltip()},_onMouseDown:function(b){b=b.originalEvent;this._mouseDownOrigin=L.point(b.clientX,b.clientY)},_onMouseUp:function(b){if(this._mouseDownOrigin){var c=L.point(b.originalEvent.clientX,b.originalEvent.clientY).distanceTo(this._mouseDownOrigin);Math.abs(c)<9*(f.devicePixelRatio||1)&&this.addVertex(b.latlng)}this._mouseDownOrigin=null},_onTouch:function(b){L.Browser.touch&&
(this._onMouseDown(b),this._onMouseUp(b))},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_updateFinishHandler:function(){var b=this._markers.length;1<b&&this._markers[b-1].on("click",this._finishShape,this);2<b&&this._markers[b-2].off("click",this._finishShape,this)},_createMarker:function(b){b=new L.Marker(b,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(b),b},_updateGuide:function(b){var c=this._markers?
this._markers.length:0;0<c&&(b=b||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[c-1].getLatLng()),b))},_updateTooltip:function(b){var c=this._getTooltipText();b&&this._tooltip.updatePosition(b);this._errorShown||this._tooltip.updateContent(c)},_drawGuide:function(b,c){var d,a,e=Math.floor(Math.sqrt(Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2))),q=this.options.guidelineDistance;d=this.options.maxGuideLineLength;q=e>d?e-d:
q;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));e>q;q+=this.options.guidelineDistance)d=q/e,d={x:Math.floor(b.x*(1-d)+d*c.x),y:Math.floor(b.y*(1-d)+d*c.y)},a=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),a.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(a,d)},_updateGuideColor:function(b){if(this._guidesContainer)for(var c=0,d=this._guidesContainer.childNodes.length;d>
c;c++)this._guidesContainer.childNodes[c].style.backgroundColor=b},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var b,c,d=this.options.showLength;return 0===this._markers.length?b={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(c=d?this._getMeasurementString():"",b=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:c}:
{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:c}),b},_updateRunningMeasure:function(b,c){var d,a,e=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(d=e-(c?2:1),a=b.distanceTo(this._markers[d].getLatLng()),this._measurementRunningTotal+=a*(c?1:-1))},_getMeasurementString:function(){var b,c=this._currentLatLng,d=this._markers[this._markers.length-1].getLatLng();return b=this._measurementRunningTotal+c.distanceTo(d),L.GeometryUtil.readableDistance(b,this.options.metric,
this.options.feet)},_showErrorTooltip:function(){this._errorShown=!0;this._tooltip.showAsError().updateContent({text:this.options.drawError.message});this._updateGuideColor(this.options.drawError.color);this._poly.setStyle({color:this.options.drawError.color});this._clearHideErrorTimeout();this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1;this._clearHideErrorTimeout();this._tooltip.removeError().updateContent(this._getTooltipText());
this._updateGuideColor(this.options.shapeOptions.color);this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_cleanUpShape:function(){1<this._markers.length&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var b=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,
b)}});L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0},initialize:function(b,c){L.Draw.Polyline.prototype.initialize.call(this,b,c);this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var b=this._markers.length;1===b&&this._markers[0].on("click",this._finishShape,this);2<b&&(this._markers[b-1].on("dblclick",this._finishShape,
this),3<b&&this._markers[b-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var b,c;return 0===this._markers.length?b=L.drawLocal.draw.handlers.polygon.tooltip.start:3>this._markers.length?b=L.drawLocal.draw.handlers.polygon.tooltip.cont:(b=L.drawLocal.draw.handlers.polygon.tooltip.end,c=this._getMeasurementString()),{text:b,subtext:c}},_getMeasurementString:function(){var b=this._area;return b?L.GeometryUtil.readableArea(b,this.options.metric):null},_shapeIsValid:function(){return 3<=
this._markers.length},_vertexChanged:function(b,c){var d;!this.options.allowIntersection&&this.options.showArea&&(d=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(d));L.Draw.Polyline.prototype._vertexChanged.call(this,b,c)},_cleanUpShape:function(){var b=this._markers.length;0<b&&(this._markers[0].off("click",this._finishShape,this),2<b&&this._markers[b-1].off("dblclick",this._finishShape,this))}});L.SimpleShape={};L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},
initialize:function(b,c){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end;L.Draw.Feature.prototype.initialize.call(this,b,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,
this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(h,"mouseup",this._onMouseUp,this),L.DomEvent.off(h,"touchend",this._onMouseUp,
this),this._shape&&(this._map.removeLayer(this._shape),delete this._shape));this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(b){this._isDrawing=!0;this._startLatLng=b.latlng;L.DomEvent.on(h,"mouseup",this._onMouseUp,this).on(h,"touchend",this._onMouseUp,this).preventDefault(b.originalEvent)},_onMouseMove:function(b){b=b.latlng;this._tooltip.updatePosition(b);this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(b))},
_onMouseUp:function(){this._shape&&this._fireCreatedEvent();this.disable();this.options.repeatMode&&this.enable()}});L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0},initialize:function(b,c){this.type=L.Draw.Rectangle.TYPE;this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start;L.Draw.SimpleShape.prototype.initialize.call(this,b,
c)},_drawShape:function(b){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,b)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,b),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var b=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,b)},_getTooltipText:function(){var b,c,d,a=L.Draw.SimpleShape.prototype._getTooltipText.call(this);return this._shape&&
(b=this._shape.getLatLngs(),c=L.GeometryUtil.geodesicArea(b),d=L.GeometryUtil.readableArea(c,this.options.metric)),{text:a.text,subtext:d}}});L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0},initialize:function(b,c){this.type=L.Draw.Circle.TYPE;this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start;L.Draw.SimpleShape.prototype.initialize.call(this,
b,c)},_drawShape:function(b){this._shape?this._shape.setRadius(this._startLatLng.distanceTo(b)):(this._shape=new L.Circle(this._startLatLng,this._startLatLng.distanceTo(b),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var b=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,b)},_onMouseMove:function(b){var c;b=b.latlng;var d=this.options.showRadius,a=this.options.metric;
this._tooltip.updatePosition(b);this._isDrawing&&(this._drawShape(b),c=this._shape.getRadius().toFixed(1),this._tooltip.updateContent({text:this._endLabelText,subtext:d?L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(c,a,this.options.feet):""}))}});L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2E3},initialize:function(b,c){this.type=L.Draw.Marker.TYPE;L.Draw.Feature.prototype.initialize.call(this,
b,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);this._map&&(this._tooltip.updateContent({text:L.drawLocal.draw.handlers.marker.tooltip.start}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",
this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).off("click",this._onTouch,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(b){b=b.latlng;this._tooltip.updatePosition(b);
this._mouseMarker.setLatLng(b);this._marker?(b=this._mouseMarker.getLatLng(),this._marker.setLatLng(b)):(this._marker=new L.Marker(b,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset}),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_onClick:function(){this._fireCreatedEvent();this.disable();this.options.repeatMode&&this.enable()},_onTouch:function(b){this._onMouseMove(b);this._onClick()},_fireCreatedEvent:function(){var b=
new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,b)}});L.Edit=L.Edit||{};L.Edit.Marker=L.Handler.extend({initialize:function(b,c){this._marker=b;L.setOptions(this,c)},addHooks:function(){var b=this._marker;b.dragging.enable();b.on("dragend",this._onDragEnd,b);this._toggleMarkerHighlight()},removeHooks:function(){var b=this._marker;b.dragging.disable();b.off("dragend",this._onDragEnd,b);this._toggleMarkerHighlight()},_onDragEnd:function(b){b=
b.target;b.edited=!0;this._map.fire("draw:editmove",{layer:b})},_toggleMarkerHighlight:function(){var b=this._marker._icon;b&&(b.style.display="none",L.DomUtil.hasClass(b,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(b,"leaflet-edit-marker-selected"),this._offsetMarker(b,-4)):(L.DomUtil.addClass(b,"leaflet-edit-marker-selected"),this._offsetMarker(b,4)),b.style.display="")},_offsetMarker:function(b,c){var d=parseInt(b.style.marginTop,10)-c,a=parseInt(b.style.marginLeft,10)-c;b.style.marginTop=
d+"px";b.style.marginLeft=a+"px"}});L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())});L.Edit=L.Edit||{};L.Edit.Poly=L.Handler.extend({options:{},initialize:function(b,c){this.latlngs=[b._latlngs];b._holes&&(this.latlngs=this.latlngs.concat(b._holes));this._poly=b;L.setOptions(this,c);this._poly.on("revert-edited",this._updateLatLngs,this)},_eachVertexHandler:function(b){for(var c=0;c<this._verticesHandlers.length;c++)b(this._verticesHandlers[c])},
addHooks:function(){this._initHandlers();this._eachVertexHandler(function(b){b.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(b){b.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(b){b.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var b=0;b<this.latlngs.length;b++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[b],this.options))},_updateLatLngs:function(b){this.latlngs=[b.layer._latlngs];b.layer._holes&&
(this.latlngs=this.latlngs.concat(b.layer._holes))}});L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1E3}},initialize:function(b,c,d){L.Browser.touch&&(this.options.icon=this.options.touchIcon);this._poly=b;d&&d.drawError&&(d.drawError=L.Util.extend({},
this.options.drawError,d.drawError));this._latlngs=c;L.setOptions(this,d)},addHooks:function(){var b=this._poly;b instanceof L.Polygon||(b.options.fill=!1);b.setStyle(b.options.editing);this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var b=this._poly;b.setStyle(b.options.original);b._map&&(b._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers();
this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup);this._markers=[];var b,c,d,a=this._latlngs;b=0;for(d=a.length;d>b;b++)c=this._createMarker(a[b],b),c.on("click",this._onMarkerClick,this),this._markers.push(c);var e,q;b=0;for(c=d-1;d>b;c=b++)(0!==b||L.Polygon&&this._poly instanceof L.Polygon)&&(e=this._markers[c],q=this._markers[b],this._createMiddleMarker(e,q),this._updatePrevNext(e,q))},_createMarker:function(b,c){var d=new L.Marker.Touch(b,{draggable:!0,
icon:this.options.icon});return d._origLatLng=b,d._index=c,d.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(d),d},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var b=[].splice.apply(this._latlngs,arguments);return this._poly._convertLatLngs(this._latlngs,
!0),this._poly.redraw(),b},_removeMarker:function(b){var c=b._index;this._markerGroup.removeLayer(b);this._markers.splice(c,1);this._spliceLatLngs(c,1);this._updateIndexes(c,-1);b.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=
!0;this._poly.fire("edit");this._poly._map.fire("draw:editvertex",{layers:this._markerGroup})},_onMarkerDrag:function(b){var c=b.target,d=this._poly;if(L.extend(c._origLatLng,c._latlng),c._middleLeft&&c._middleLeft.setLatLng(this._getMiddleLatLng(c._prev,c)),c._middleRight&&c._middleRight.setLatLng(this._getMiddleLatLng(c,c._next)),d.options.poly){var a=d._map._editTooltip;if(!d.options.poly.allowIntersection&&d.intersects()){var e=d.options.color;d.setStyle({color:this.options.drawError.color});
a&&a.updateContent({text:L.drawLocal.draw.handlers.polyline.error});setTimeout(function(){d.setStyle({color:e});a&&a.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1E3);this._onMarkerClick(b)}}this._poly.redraw();this._poly.fire("editdrag")},_onMarkerClick:function(b){b=b.target;this._latlngs.length<(L.Polygon&&this._poly instanceof L.Polygon?4:3)||(this._removeMarker(b),this._updatePrevNext(b._prev,b._next),b._middleLeft&&
this._markerGroup.removeLayer(b._middleLeft),b._middleRight&&this._markerGroup.removeLayer(b._middleRight),b._prev&&b._next?this._createMiddleMarker(b._prev,b._next):b._prev?b._next||(b._prev._middleRight=null):b._next._middleLeft=null,this._fireEdit())},_onTouchMove:function(b){var c=this._map.mouseEventToLayerPoint(b.originalEvent.touches[0]),c=this._map.layerPointToLatLng(c);b=b.target;L.extend(b._origLatLng,c);b._middleLeft&&b._middleLeft.setLatLng(this._getMiddleLatLng(b._prev,b));b._middleRight&&
b._middleRight.setLatLng(this._getMiddleLatLng(b,b._next));this._poly.redraw();this.updateMarkers()},_updateIndexes:function(b,c){this._markerGroup.eachLayer(function(d){d._index>b&&(d._index+=c)})},_createMiddleMarker:function(b,c){var d,a,e,q=this._getMiddleLatLng(b,c),g=this._createMarker(q);g.setOpacity(.6);b._middleRight=c._middleLeft=g;a=function(){g.off("touchmove",a,this);var e=c._index;g._index=e;g.off("click",d,this).on("click",this._onMarkerClick,this);q.lat=g.getLatLng().lat;q.lng=g.getLatLng().lng;
this._spliceLatLngs(e,0,q);this._markers.splice(e,0,g);g.setOpacity(1);this._updateIndexes(e,1);c._index++;this._updatePrevNext(b,g);this._updatePrevNext(g,c);this._poly.fire("editstart")};e=function(){g.off("dragstart",a,this);g.off("dragend",e,this);g.off("touchmove",a,this);this._createMiddleMarker(b,g);this._createMiddleMarker(g,c)};d=function(){a.call(this);e.call(this);this._fireEdit()};g.on("click",d,this).on("dragstart",a,this).on("dragend",e,this).on("touchmove",a,this);this._markerGroup.addLayer(g)},
_updatePrevNext:function(b,c){b&&(b._next=c);c&&(c._prev=b)},_getMiddleLatLng:function(b,c){var d=this._poly._map,a=d.project(b.getLatLng()),e=d.project(c.getLatLng());return d.unproject(a._add(e)._divideBy(2))}});L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this,this.options.poly),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&
this.editing.enabled()&&this.editing.removeHooks()}))});L.Edit=L.Edit||{};L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),
touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(b,c){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon);this._shape=b;L.Util.setOptions(this,c)},addHooks:function(){var b=this._shape;this._shape._map&&(this._map=this._shape._map,b.setStyle(b.options.editing),b._map&&(this._map=b._map,this._markerGroup||this._initMarkers(),
this._map.addLayer(this._markerGroup)))},removeHooks:function(){var b=this._shape;if(b.setStyle(b.options.original),b._map){this._unbindMarker(this._moveMarker);for(var b=0,c=this._resizeMarkers.length;c>b;b++)this._unbindMarker(this._resizeMarkers[b]);this._resizeMarkers=null;this._map.removeLayer(this._markerGroup);delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers();this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup);
this._createMoveMarker();this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(b,c){var d=new L.Marker.Touch(b,{draggable:!0,icon:c,zIndexOffset:10});return this._bindMarker(d),this._markerGroup.addLayer(d),d},_bindMarker:function(b){b.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",
this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(b){b.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(b){b.target.setOpacity(0);
this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0;this._shape.fire("edit")},_onMarkerDrag:function(b){b=b.target;var c=b.getLatLng();b===this._moveMarker?this._move(c):this._resize(c);this._shape.redraw();this._shape.fire("editdrag")},_onMarkerDragEnd:function(b){b.target.setOpacity(1);this._fireEdit()},_onTouchStart:function(b){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,b),"function"==typeof this._getCorners){var c=this._getCorners();b=b.target;var d=b._cornerIndex;
b.setOpacity(0);this._oppositeCorner=c[(d+2)%4];this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(b){var c=this._map.mouseEventToLayerPoint(b.originalEvent.touches[0]),c=this._map.layerPointToLatLng(c);return b.target===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw(),!1},_onTouchEnd:function(b){b.target.setOpacity(1);this.updateMarkers();this._fireEdit()},_move:function(){},_resize:function(){}});L.Edit=L.Edit||{};L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var b=
this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(b,this.options.moveIcon)},_createResizeMarker:function(){var b=this._getCorners();this._resizeMarkers=[];for(var c=0,d=b.length;d>c;c++)this._resizeMarkers.push(this._createMarker(b[c],this.options.resizeIcon)),this._resizeMarkers[c]._cornerIndex=c},_onMarkerDragStart:function(b){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,b);var c=this._getCorners();b=b.target._cornerIndex;this._oppositeCorner=c[(b+2)%4];this._toggleCornerMarkers(0,
b)},_onMarkerDragEnd:function(b){var c,d,a=b.target;a===this._moveMarker&&(c=this._shape.getBounds(),d=c.getCenter(),a.setLatLng(d));this._toggleCornerMarkers(1);this._repositionCornerMarkers();L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,b)},_move:function(b){for(var c,d=this._shape.getLatLngs(),a=this._shape.getBounds().getCenter(),e=[],q=0,g=d.length;g>q;q++)c=[d[q].lat-a.lat,d[q].lng-a.lng],e.push([b.lat+c[0],b.lng+c[1]]);this._shape.setLatLngs(e);this._repositionCornerMarkers();this._map.fire("draw:editmove",
{layer:this._shape})},_resize:function(b){this._shape.setBounds(L.latLngBounds(b,this._oppositeCorner));b=this._shape.getBounds();this._moveMarker.setLatLng(b.getCenter());this._map.fire("draw:editresize",{layer:this._shape})},_getCorners:function(){var b=this._shape.getBounds(),c=b.getNorthWest(),d=b.getNorthEast(),a=b.getSouthEast(),b=b.getSouthWest();return[c,d,a,b]},_toggleCornerMarkers:function(b){for(var c=0,d=this._resizeMarkers.length;d>c;c++)this._resizeMarkers[c].setOpacity(b)},_repositionCornerMarkers:function(){for(var b=
this._getCorners(),c=0,d=this._resizeMarkers.length;d>c;c++)this._resizeMarkers[c].setLatLng(b[c])}});L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())});L.Edit=L.Edit||{};L.Edit.Circle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var b=this._shape.getLatLng();this._moveMarker=this._createMarker(b,this.options.moveIcon)},_createResizeMarker:function(){var b=this._shape.getLatLng(),b=this._getResizeMarkerPoint(b);
this._resizeMarkers=[];this._resizeMarkers.push(this._createMarker(b,this.options.resizeIcon))},_getResizeMarkerPoint:function(b){var c=this._shape._radius*Math.cos(Math.PI/4);b=this._map.project(b);return this._map.unproject([b.x+c,b.y-c])},_move:function(b){var c=this._getResizeMarkerPoint(b);this._resizeMarkers[0].setLatLng(c);this._shape.setLatLng(b);this._map.fire("draw:editmove",{layer:this._shape})},_resize:function(b){b=this._moveMarker.getLatLng().distanceTo(b);this._shape.setRadius(b);this._map.fire("draw:editresize",
{layer:this._shape})}});L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable());this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()});this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})});L.Map.mergeOptions({touchExtend:!0});L.Map.TouchExtend=L.Handler.extend({initialize:function(b){this._map=b;this._container=b._container;this._pane=b._panes.overlayPane},
addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this);L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this);L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this);this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,
this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart);L.DomEvent.off(this._container,"touchend",this._onTouchEnd);L.DomEvent.off(this._container,"touchmove",this._onTouchMove);this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),
L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(b,c){var d;if("undefined"!=typeof b.touches){if(!b.touches.length)return;d=b.touches[0]}else if("touch"!==b.pointerType||(d=b,!this._filterClick(b)))return;var a=this._map.mouseEventToContainerPoint(d),e=this._map.mouseEventToLayerPoint(d),
q=this._map.layerPointToLatLng(e);this._map.fire(c,{latlng:q,layerPoint:e,containerPoint:a,pageX:d.pageX,pageY:d.pageY,originalEvent:b})},_filterClick:function(b){var c=b.timeStamp||b.originalEvent.timeStamp,d=L.DomEvent._lastClick&&c-L.DomEvent._lastClick;return d&&100<d&&500>d||b.target._simulatedClick&&!b._simulated?(L.DomEvent.stop(b),!1):(L.DomEvent._lastClick=c,!0)},_onTouchStart:function(b){this._map._loaded&&this._touchEvent(b,"touchstart")},_onTouchEnd:function(b){this._map._loaded&&this._touchEvent(b,
"touchend")},_onTouchCancel:function(b){if(this._map._loaded){var c="touchcancel";this._detectIE()&&(c="pointercancel");this._touchEvent(b,c)}},_onTouchLeave:function(b){this._map._loaded&&this._touchEvent(b,"touchleave")},_onTouchMove:function(b){this._map._loaded&&this._touchEvent(b,"touchmove")},_detectIE:function(){var b=f.navigator.userAgent,c=b.indexOf("MSIE ");if(0<c)return parseInt(b.substring(c+5,b.indexOf(".",c)),10);if(0<b.indexOf("Trident/"))return c=b.indexOf("rv:"),parseInt(b.substring(c+
3,b.indexOf(".",c)),10);c=b.indexOf("Edge/");return 0<c?parseInt(b.substring(c+5,b.indexOf(".",c)),10):!1}});L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend);L.Marker.Touch=L.Marker.extend({_initInteraction:function(){if(this.options.clickable){var b=this._icon,c="dblclick mousedown mouseover mouseout contextmenu touchstart touchend touchmove".split(" ");this._detectIE?c.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):c.concat(["touchcancel"]);L.DomUtil.addClass(b,
"leaflet-clickable");L.DomEvent.on(b,"click",this._onMouseClick,this);L.DomEvent.on(b,"keypress",this._onKeyPress,this);for(var d=0;d<c.length;d++)L.DomEvent.on(b,c[d],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var b=f.navigator.userAgent,c=b.indexOf("MSIE ");if(0<c)return parseInt(b.substring(c+5,b.indexOf(".",c)),10);if(0<b.indexOf("Trident/"))return c=b.indexOf("rv:"),parseInt(b.substring(c+
3,b.indexOf(".",c)),10);c=b.indexOf("Edge/");return 0<c?parseInt(b.substring(c+5,b.indexOf(".",c)),10):!1}});L.LatLngUtil={cloneLatLngs:function(b){for(var c=[],d=0,a=b.length;a>d;d++)c.push(this.cloneLatLng(b[d]));return c},cloneLatLng:function(b){return L.latLng(b.lat,b.lng)}};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(b){var c,d,a=b.length,e=0,q=L.LatLng.DEG_TO_RAD;if(2<a){for(var g=0;a>g;g++)c=b[g],d=b[(g+1)%a],e+=(d.lng-c.lng)*q*(2+Math.sin(c.lat*q)+Math.sin(d.lat*q));
e=40680631590769*e/2}return Math.abs(e)},readableArea:function(b,c){var d;return c?d=1E4<=b?(1E-4*b).toFixed(2)+" ha":b.toFixed(2)+" m&sup2;":(b/=.836127,d=3097600<=b?(b/3097600).toFixed(2)+" mi&sup2;":4840<=b?(b/4840).toFixed(2)+" acres":Math.ceil(b)+" yd&sup2;"),d},readableDistance:function(b,c,d){c?b=1E3<b?(b/1E3).toFixed(2)+" km":Math.ceil(b)+" m":(b*=1.09361,1760<b)?b=(b/1760).toFixed(2)+" miles":(c=" yd",d&&(b*=3,c=" ft"),b=Math.ceil(b)+c);return b}});L.Util.extend(L.LineUtil,{segmentsIntersect:function(b,
c,d,a){return this._checkCounterclockwise(b,d,a)!==this._checkCounterclockwise(c,d,a)&&this._checkCounterclockwise(b,c,d)!==this._checkCounterclockwise(b,c,a)},_checkCounterclockwise:function(b,c,d){return(d.y-b.y)*(c.x-b.x)>(c.y-b.y)*(d.x-b.x)}});L.Polyline.include({intersects:function(){var b,c,d,a=this._originalPoints;b=a?a.length:0;if(this._tooFewPointsForIntersection())return!1;for(--b;3<=b;b--)if(c=a[b-1],d=a[b],this._lineSegmentsIntersectsRange(c,d,b-2))return!0;return!1},newLatLngIntersects:function(b,
c){return this._map?this.newPointIntersects(this._map.latLngToLayerPoint(b),c):!1},newPointIntersects:function(b,c){var d=this._originalPoints,a=d?d.length:0,d=d?d[a-1]:null,a=a-2;return this._tooFewPointsForIntersection(1)?!1:this._lineSegmentsIntersectsRange(d,b,a,c?1:0)},_tooFewPointsForIntersection:function(b){var c=this._originalPoints,c=c?c.length:0;return c+=b||0,!this._originalPoints||3>=c},_lineSegmentsIntersectsRange:function(b,c,d,a){var e,q,g=this._originalPoints;for(a=a||0;d>a;d--)if(e=
g[d-1],q=g[d],L.LineUtil.segmentsIntersect(b,c,e,q))return!0;return!1}});L.Polygon.include({intersects:function(){var b,c,d,a,e=this._originalPoints;return this._tooFewPointsForIntersection()?!1:L.Polyline.prototype.intersects.call(this)?!0:(b=e.length,c=e[0],d=e[b-1],a=b-2,this._lineSegmentsIntersectsRange(d,c,a,1))}});L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(b){if("0.7">L.version)throw Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");
L.Control.prototype.initialize.call(this,b);var c;this._toolbars={};L.DrawToolbar&&this.options.draw&&(c=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=c,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this));L.EditToolbar&&this.options.edit&&(c=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=c,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this));L.toolbar=this},onAdd:function(b){var c,d=L.DomUtil.create("div",
"leaflet-draw"),a=!1,e;for(e in this._toolbars)this._toolbars.hasOwnProperty(e)&&(c=this._toolbars[e].addToolbar(b),c&&(a||(L.DomUtil.hasClass(c,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(c.childNodes[0],"leaflet-draw-toolbar-top"),a=!0),d.appendChild(c)));return d},onRemove:function(){for(var b in this._toolbars)this._toolbars.hasOwnProperty(b)&&this._toolbars[b].removeToolbar()},setDrawingOptions:function(b){for(var c in this._toolbars)this._toolbars[c]instanceof L.DrawToolbar&&this._toolbars[c].setOptions(b)},
_toolbarEnabled:function(b){b=b.target;for(var c in this._toolbars)this._toolbars[c]!==b&&this._toolbars[c].disable()}});L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1});L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))});L.Toolbar=L.Class.extend({includes:[L.Mixin.Events],initialize:function(b){L.setOptions(this,b);this._modes={};this._actionButtons=[];this._activeMode=null},enabled:function(){return null!==this._activeMode},
disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(b){var c=L.DomUtil.create("div","leaflet-draw-section"),d=0,a=this._toolbarClass||"",e=this.getModeHandlers(b);this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar");this._map=b;for(b=0;b<e.length;b++)e[b].enabled&&this._initModeHandler(e[b].handler,this._toolbarContainer,d++,a,e[b].title);return d?(this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),
c.appendChild(this._toolbarContainer),c.appendChild(this._actionsContainer),c):void 0},removeToolbar:function(){for(var b in this._modes)this._modes.hasOwnProperty(b)&&(this._disposeButton(this._modes[b].button,this._modes[b].handler.enable,this._modes[b].handler),this._modes[b].handler.disable(),this._modes[b].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};b=0;for(var c=this._actionButtons.length;c>b;b++)this._disposeButton(this._actionButtons[b].button,
this._actionButtons[b].callback,this);this._actionButtons=[];this._actionsContainer=null},_initModeHandler:function(b,c,d,a,e){var q=b.type;this._modes[q]={};this._modes[q].handler=b;this._modes[q].button=this._createButton({type:q,title:e,className:a+"-"+q,container:c,callback:this._modes[q].handler.enable,context:this._modes[q].handler});this._modes[q].buttonIndex=d;this._modes[q].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_createButton:function(b){var c=
L.DomUtil.create("a",b.className||"",b.container);return c.href="#",b.text&&(c.innerHTML=b.text),b.title&&(c.title=b.title),L.DomEvent.on(c,"click",L.DomEvent.stopPropagation).on(c,"mousedown",L.DomEvent.stopPropagation).on(c,"dblclick",L.DomEvent.stopPropagation).on(c,"click",L.DomEvent.preventDefault).on(c,"click",b.callback,b.context),c},_disposeButton:function(b,c){L.DomEvent.off(b,"click",L.DomEvent.stopPropagation).off(b,"mousedown",L.DomEvent.stopPropagation).off(b,"dblclick",L.DomEvent.stopPropagation).off(b,
"click",L.DomEvent.preventDefault).off(b,"click",c)},_handlerActivated:function(b){this.disable();this._activeMode=this._modes[b.handler];L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled");this._showActionsToolbar();this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar();L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled");this._activeMode=null;this.fire("disable")},_createActions:function(b){var c,d,a,e,q=this._actionsContainer;
b=this.getActions(b);var g=b.length;d=0;for(a=this._actionButtons.length;a>d;d++)this._disposeButton(this._actionButtons[d].button,this._actionButtons[d].callback);for(this._actionButtons=[];q.firstChild;)q.removeChild(q.firstChild);for(d=0;g>d;d++)"enabled"in b[d]&&!b[d].enabled||(c=L.DomUtil.create("li","",q),e=this._createButton({title:b[d].title,text:b[d].text,container:c,callback:b[d].callback,context:b[d].context}),this._actionButtons.push({button:e,callback:b[d].callback}))},_showActionsToolbar:function(){var b=
this._activeMode.buttonIndex,c=this._lastButtonIndex,d=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler);this._actionsContainer.style.top=d+"px";0===b&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top"));b===c&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom"));this._actionsContainer.style.display=
"block"},_hideActionsToolbar:function(){this._actionsContainer.style.display="none";L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top");L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom")}});L.Tooltip=L.Class.extend({initialize:function(b){this._map=b;this._popupPane=b._panes.popupPane;this._container=
b.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null;this._singleLineLabel=!1;this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this);this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(b){return this._container?(b.subtext=b.subtext||"",0!==b.subtext.length||this._singleLineLabel?0<b.subtext.length&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,
"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(0<b.subtext.length?'<span class="leaflet-draw-tooltip-subtext">'+b.subtext+"</span><br />":"")+"<span>"+b.text+"</span>",this):this},updatePosition:function(b){b=this._map.latLngToLayerPoint(b);var c=this._container;return this._container&&(c.style.visibility="inherit",L.DomUtil.setPosition(c,b)),this},showAsError:function(){return this._container&&
L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}});L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{}},initialize:function(b){for(var c in this.options)this.options.hasOwnProperty(c)&&b[c]&&(b[c]=L.extend({},
this.options[c],b[c]));this._toolbarClass="leaflet-draw-draw";L.Toolbar.prototype.initialize.call(this,b)},getModeHandlers:function(b){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(b,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(b,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(b,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},
{enabled:this.options.circle,handler:new L.Draw.Circle(b,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(b,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker}]},getActions:function(b){return[{enabled:b.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:b.completeShape,context:b},{enabled:b.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,
callback:b.deleteLastVertex,context:b},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(b){L.setOptions(this,b);for(var c in this._modes)this._modes.hasOwnProperty(c)&&b.hasOwnProperty(c)&&this._modes[c].handler.setOptions(b[c])}});L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},
remove:{},poly:null,featureGroup:null},initialize:function(b){b.edit&&("undefined"==typeof b.edit.selectedPathOptions&&(b.edit.selectedPathOptions=this.options.edit.selectedPathOptions),b.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,b.edit.selectedPathOptions));b.remove&&(b.remove=L.extend({},this.options.remove,b.remove));b.poly&&(b.poly=L.extend({},this.options.poly,b.poly));this._toolbarClass="leaflet-draw-edit";L.Toolbar.prototype.initialize.call(this,b);this._selectedFeatureCount=
0},getModeHandlers:function(b){var c=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(b,{featureGroup:c,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(b,{featureGroup:c}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(){return[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,
callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}]},addToolbar:function(b){b=L.Toolbar.prototype.addToolbar.call(this,b);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),b},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this);L.Toolbar.prototype.removeToolbar.call(this)},
disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save();this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var b,c=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(b=this._modes[L.EditToolbar.Edit.TYPE].button,c?L.DomUtil.removeClass(b,"leaflet-disabled"):L.DomUtil.addClass(b,"leaflet-disabled"),b.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.edit:
L.drawLocal.edit.toolbar.buttons.editDisabled));this.options.remove&&(b=this._modes[L.EditToolbar.Delete.TYPE].button,c?L.DomUtil.removeClass(b,"leaflet-disabled"):L.DomUtil.addClass(b,"leaflet-disabled"),b.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}});L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},includes:L.Mixin.Events,initialize:function(b,c){if(L.Handler.prototype.initialize.call(this,b),L.setOptions(this,c),this._featureGroup=
c.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={};this.type=L.EditToolbar.Edit.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire("draw:editstart",{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&
(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire("draw:editstop",{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var b=this._map;b&&(b.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),
b._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on("click",this._editStyle,this).on("draw:editvertex",this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,
this).off("MSPointerMove",this._onMouseMove,this).off("click",this._editStyle,this).off("draw:editvertex",this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(b){this._revertLayer(b)},this)},save:function(){var b=new L.LayerGroup;this._featureGroup.eachLayer(function(c){c.edited&&(b.addLayer(c),c.edited=!1)});this._map.fire("draw:edited",{layers:b})},_backupLayer:function(b){var c=L.Util.stamp(b);this._uneditedLayerProps[c]||(b instanceof L.Polyline||b instanceof
L.Polygon||b instanceof L.Rectangle?this._uneditedLayerProps[c]={latlngs:L.LatLngUtil.cloneLatLngs(b.getLatLngs())}:b instanceof L.Circle?this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(b.getLatLng()),radius:b.getRadius()}:b instanceof L.Marker&&(this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(b.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},
_revertLayer:function(b){var c=L.Util.stamp(b);b.edited=!1;this._uneditedLayerProps.hasOwnProperty(c)&&(b instanceof L.Polyline||b instanceof L.Polygon||b instanceof L.Rectangle?b.setLatLngs(this._uneditedLayerProps[c].latlngs):b instanceof L.Circle?(b.setLatLng(this._uneditedLayerProps[c].latlng),b.setRadius(this._uneditedLayerProps[c].radius)):b instanceof L.Marker&&b.setLatLng(this._uneditedLayerProps[c].latlng),b.fire("revert-edited",{layer:b}))},_enableLayerEdit:function(b){var c,d;b=b.layer||
b.target||b;this._backupLayer(b);this.options.poly&&(d=L.Util.extend({},this.options.poly),b.options.poly=d);this.options.selectedPathOptions&&(c=L.Util.extend({},this.options.selectedPathOptions),c.maintainColor&&(c.color=b.options.color,c.fillColor=b.options.fillColor),b.options.original=L.extend({},b.options),b.options.editing=c);this.isMarker?(b.dragging.enable(),b.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",
this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):b.editing.enable()},_disableLayerEdit:function(b){b=b.layer||b.target||b;b.edited=!1;b.editing.disable();delete b.options.editing;delete b.options.original;this._selectedPathOptions&&(b instanceof L.Marker?this._toggleMarkerHighlight(b):(b.setStyle(b.options.previousOptions),delete b.options.previousOptions));b instanceof L.Marker?(b.dragging.disable(),b.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,
this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):b.editing.disable()},_onMouseMove:function(b){this._tooltip.updatePosition(b.latlng)},_onTouchMove:function(b){var c=this._map.mouseEventToLayerPoint(b.originalEvent.changedTouches[0]),c=this._map.layerPointToLatLng(c);b.target.setLatLng(c)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}});L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},
includes:L.Mixin.Events,initialize:function(b,c){if(L.Handler.prototype.initialize.call(this,b),L.Util.setOptions(this,c),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire("draw:deletestart",{handler:this.type}),L.Handler.prototype.enable.call(this),
this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire("draw:deletestop",{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var b=this._map;b&&(b.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,
this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(b){this._deletableLayers.addLayer(b);
b.fire("revert-deleted",{layer:b})},this)},save:function(){this._map.fire("draw:deleted",{layers:this._deletedLayers})},_enableLayerDelete:function(b){(b.layer||b.target||b).on("click",this._removeLayer,this)},_disableLayerDelete:function(b){b=b.layer||b.target||b;b.off("click",this._removeLayer,this);this._deletedLayers.removeLayer(b)},_removeLayer:function(b){b=b.layer||b.target||b;this._deletableLayers.removeLayer(b);this._deletedLayers.addLayer(b);b.fire("deleted")},_onMouseMove:function(b){this._tooltip.updatePosition(b.latlng)},
_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document);function create_map_area_on7688(f,h,d,b){var c={};c.project_id=""+project_id;c.NEW_AREA=1;c.geojson=f;c.areaid=h;return jQuery.ajax({url:gl_target_server+"/php/map.php",type:"POST",data:c,success:function(c){b(c,d)},error:function(b,a,c){alert(c);alert(b.responseText)}})}
function update_map_area_on7688(f,h,d){d={};d.project_id=""+project_id;d.EDIT_AREA=1;d.geojson=h;d.areaid=f;return jQuery.ajax({url:gl_target_server+"/php/map.php",type:"POST",data:d,success:function(b){},error:function(b,c,d){alert("error="+d+",responseText="+b.responseText)}})}function getRandomInt(f,h){return Math.floor(Math.random()*(h-f+1))+f}function get_maparea_From7688(f){$.getJSON(gl_target_server+"/php/map.php","project_id="+project_id,function(h){f(h)})}
function delete_map_area_on7688(f){var h={};h.project_id=""+project_id;h.DELETE_AREA=1;h.areaid=f;return jQuery.ajax({url:gl_target_server+"/php/map.php",type:"POST",data:h,success:function(d){},error:function(d,b,c){alert(c);alert(d.responseText)}})}
function update_map_info(f,h){var d={};d.project_id=""+project_id;d.updatemap="1";d.SCALE=""+f;d.COEFF=""+h;jQuery.ajax({url:gl_target_server+"/php/map.php",type:"POST",data:d,dataType:"json",success:function(b){},error:function(b,c,d){alert("error = "+d);alert("xhr.responseText = "+b.responseText)}});return!1}var upload_img_width=0,upload_img_height=0,_URL=window.URL||window.webkitURL;
$("#imageUpload").change(function(){var f=this.files[0],h=f.type,d=["image/jpeg","image/png","image/jpg"];if(h!=d[0]&&h!=d[1]&&h!=d[2])return $("#upload_msg").text("Only Jpeg/ Jpg /Png /Gif are allowed"),!1;img=new Image;img.onload=function(){upload_img_width=this.width;upload_img_height=this.height};img.src=_URL.createObjectURL(f);$("#upload_msg").hide()});
$("#formContent").submit(function(f){f.preventDefault();if(void 0==document.getElementById("imageUpload").files[0])return alert("Please assign image file!"),!1;f=new FormData($("#formContent")[0]);f.append("upload_img_width",upload_img_width);f.append("upload_img_height",upload_img_height);f.append("project_id",""+project_id);$("#uploadIm").show();jQuery.ajax({url:gl_target_server+"/php/uploadmap.php",type:"POST",processData:!1,contentType:!1,data:f,success:function(f){$("#uploadIm").hide();$("#upload_msg").show().html("Image uploaded successfully<br>");
window.glLiveMap?(f="/upload/"+document.getElementById("imageUpload").files[0].name,window.glLiveMap.changeUserMap(f,upload_img_width,upload_img_height)):$("#upload_msg").show().html("Can not change map.<br>")},error:function(f,d,b){$("#uploadIm").hide();alert("upload image error!")}});return!1});function Indoor2DMap(){function f(){M.removeLayer(G);var a=R+H/(S*aa),b=W+ja/(S*aa);ba=[g(R,W),g(a,b)];G=L.imageOverlay(ua,ba,{attribution:ka,opacity:.5});M.addLayer(G,ka)}function h(a){var b=a.target.type;a=a.target.index;"coord"===b?(A[a].openPopup(),$("#ProfileMarkerName").text(A[a].nodename),$("#ProfileMarkerPosition").text("("+A[a].posX+","+A[a].posY+","+A[a].posZ+")"),$("#ProfileMarkerUpdateTime").text(moment.utc(A[a].date).local().format("MMM Do, hh:mm A"))):"anchor"===b?(D[a].openPopup(),
$("#ProfileMarkerName").text(D[a].nodename),$("#ProfileMarkerPosition").text("("+D[a].posX+","+D[a].posY+","+D[a].posZ+")"),$("#ProfileMarkerUpdateTime").text(moment.utc(D[a].date).local().format("MMM Do, hh:mm A"))):"tag"===b?(y[a].openPopup(),$("#ProfileMarkerName").text(y[a].nodename),$("#ProfileMarkerPosition").text("("+y[a].posX+","+y[a].posY+","+y[a].posZ+")"),$("#ProfileMarkerUpdateTime").text(moment.utc(y[a].date).local().format("MMM Do, hh:mm A"))):"Origin"===b&&null!=C&&(C.openPopup(),$("#ProfileMarkerName").text(C.nodename),
$("#ProfileMarkerPosition").text("("+C.posX+","+C.posY+","+C.posZ+")"),$("#ProfileMarkerLocation").text(""),$("#ProfileMarkerUpdateTime").text(""))}function d(a,b,c,d,l,e,p,k){var u=c;0==c.length&&(u=b);var r=L.marker(g(parseFloat(d/100*8.9987E-6),parseFloat(l/100*8.9987E-6)),{title:b,draggable:k}).bindPopup(u);r.nodeid=b;r.macaddress=a;r.nodename=c;r.posX=d;r.posY=l;r.posZ=e;r.date=p;r.on("click",h);r.on("dragend",function(a){a=a.target;var b=a.getLatLng();a.posX=parseFloat(b.lng/8.9987E-6*100).toFixed(2);
a.posY=parseFloat(b.lat/8.9987E-6*100).toFixed(2);"function"===typeof B&&B(a.type,r.macaddress,a.nodeid,a.posX,a.posY,a.posZ)});return r}function b(){for(index=0;index<y.length;index++){tag_node=y[index];var a=tag_node.nodeid,d=[],l=[],e=z[a],p=x[a],g=c("Tags",tag_node.buildingid,tag_node.floor);null!=e&&g.removeLayer(e);if(null!=p&&void 0!=p){for(var e="rgb(244, 131, 66)",k=0;k<p.length;k++){var u=p[k],r=u.options.radius,e=u.options.color;.5>=r?g.removeLayer(u):(u.setStyle({radius:r-.5}),r=u.getLatLng(),
d.push([r.lat,r.lng]),l[l.length]=u)}x[a]=l;e=new L.Polyline(d,{color:e,weight:5,opacity:.4,smoothFactor:1});g.addLayer(e);z[a]=e}}setTimeout(b,1E3)}function c(a,b,c){b=a+"_"+b+"_"+c;c=t[b];void 0==c&&(c=new L.LayerGroup,t[b]=c,"Tags"==a&&M.addLayer(c,b),N.addOverlay(c,b));return c}function n(a,b,d,l,p,k,u,t,m,q,v){var C=!1,f;for(index=0;index<a.length;index++)if(f=a[index],f.nodeid==d){f.nodename=0==l.length?d:l;f.posX=p;f.posY=k;f.posZ=u;f.buildingid=t;f.floor=m;f.date=q;f.macaddress=b;var n=parseFloat(parseFloat(p)/
100*8.9987E-6),A=parseFloat(parseFloat(k)/100*8.9987E-6);if(!isNaN(n)&&!isNaN(A)){f.setLatLng(g(n,A));if(v){"hidden"==f._icon.style.visibility&&e(f);b=index;10<=b&&(b-=10);a=r[b];b=r[b];n=L.circleMarker(g(n,A),{color:a,opacity:.3,fillColor:b,fillOpacity:.2,className:"geoData",radius:5});A=c("Tags",t,m);n.buildingid=t;n.floor=m;n.addTo(A);t=x[f.nodeid];if(null==t||void 0==t)t=[];t[t.length]=n;x[f.nodeid]=t}C=!0;break}}return C}function a(a,b,c){var d;for(index=0;index<a.length;index++)if(d=a[index],
d.nodeid==b){c?e(d):(a=d,a._icon.style.visibility="hidden",a._shadow.style.visibility="hidden",a.closePopup());break}}function e(a){a._icon.style.visibility="visible";a._shadow.style.visibility="visible";a.openPopup()}var q=L.latLng,g=function(a,b){return L.Util.isArray(a)?q(a[1],a[0]):q(b,a)},m=L.icon({iconUrl:"/images/orig-icon-2x.png",shadowUrl:"/images/marker-shadow.png",iconSize:[25,37],shadowSize:[41,41],iconAnchor:[14,37],shadowAnchor:[14,41],popupAnchor:[0,-35]}),k=L.icon({iconUrl:"/images/coord-icon-2x.png",
shadowUrl:"/images/marker-shadow.png",iconSize:[25,37],shadowSize:[41,41],iconAnchor:[14,37],shadowAnchor:[14,41],popupAnchor:[0,-35]}),p=L.icon({iconUrl:"/images/marker-icon-2x.png",shadowUrl:"/images/marker-shadow.png",iconSize:[25,37],shadowSize:[41,41],iconAnchor:[14,37],shadowAnchor:[14,41],popupAnchor:[0,-35]}),l=L.icon({iconUrl:"/images/anchor-icon-2x.png",shadowUrl:"/images/marker-shadow.png",iconSize:[25,37],shadowSize:[41,41],iconAnchor:[14,37],shadowAnchor:[14,41],popupAnchor:[0,-35]}),
r="#FF6347 #FFA500 #FFD700 #32CD32 #87CEEB #7B68EE #8A2BE2 #4245f4 #F08080 #f441d9".split(" "),t=[],u=99,v=1,C=null,A=[],D=[],y=[],w=[],z=[[]],x=[[]],B=null,F=null,Q=null,P=!1,I=!1,O=null,K=null,J=null,N=null,R=0,W=0,H=0,ja=0,S=0,aa=0,ba=[g(0,0),g(1E3,1E3)],G=null,ua=null,ka=null;this.baseLayers={};var U=new L.FeatureGroup;this.overlays={};L.Map=L.Map.extend({openPopup:function(a,b,c){a instanceof L.Popup||(a=(new L.Popup(c)).setContent(a));b&&a.setLatLng(b);if(this.hasLayer(a))return this;this._popup=
a;return this.addLayer(a)}});var M=L.map("mapid",{crs:L.CRS.Simple,minZoom:15,maxZoom:26,zoomControl:!0,zoomSnap:.25,zoomDelta:.5,wheelPxPerZoomLevel:50,doubleClickZoom:!1});this.setMapCoeff=function(a,b,c,d,l,e){null==a&&(a=0);null==b&&(b=0);R=parseFloat(-1*parseFloat(a)/100*8.9987E-6);W=parseFloat(-1*parseFloat(b)/100*8.9987E-6);H=parseInt(c);ja=parseInt(d);S=parseFloat(l);aa=parseFloat(e);ba=[g(R,W),g(R+H/(S*aa),W+ja/(S*aa))]};this.setMapImage=function(a,b){ua=a;ka=b;G=L.imageOverlay(a,ba,{attribution:b,
opacity:.5});M.addLayer(G,b);M.fitBounds(ba,{paddingTopLeft:[0,0]});M.zoomControl.setPosition("topright");N=L.control.layers(this.baseLayers,this.overlays).addTo(M);L.control.scale({imperial:!1,maxWidth:300}).addTo(M);N.addOverlay(U,"Areas");$a(M)};this.setBuildingInfo=function(a,b){u=a;v=b};this.changeUserMap=function(a,b,c){ua=a;M.removeLayer(G);H=b;ja=c;bounds=[g(0,0),g(H/(S*aa),ja/(S*aa))];G=L.imageOverlay(ua,bounds,{attribution:ka,opacity:.5});M.addLayer(G,ka)};this.editmode=function(){return P};
var la=function(a){if(P&&!I){layer=w[a.target.index];var b=layer.toGeoJSON();edit_maparea_index=a.target.index;$("#areaname_input").val(b.properties.areaname);$("#areaname_color").minicolors("value",b.properties.style.fillColor);$("#areaname_color").minicolors("opacity",b.properties.style.fillOpacity);$("#areaname_edit").css("display","block")}};this.createMapEditor=function(){J=new Qa;K=new ya;O=new va;M.addControl(O);b()};this.setNodeDragCallback=function(a){B=a};this.setOrigNodeDragCallback=function(a){F=
a};this.setUpdateMapInfoCallback=function(a){Q=a};this.addOriginMarker=function(a,b,l){a=d("0000","OriginXYZID","Origin",a,b,l,null,!1);a.setIcon(m);b=c("Origin",99,1);a.addTo(b);C=a;a.type="Origin";a.index=0;a.on("dragend",function(a){a=a.target;var b=a.getLatLng(),c=b.lng-R,b=b.lat-W;R=-1*c;W=-1*b;c=parseFloat(c/8.9987E-6*100);b=parseFloat(b/8.9987E-6*100);f();a.setLatLng(new L.LatLng(0,0));M.panTo(a.getLatLng());"function"===typeof F&&F(c,b)})};this.addCoordinator=function(a,b,l,e,p,g,u,r,t,m){b=
d(b,l,e,p,g,u,m,!1);r=c("Coordinators",r,t);b.setIcon(k);b.addTo(r);A[a]=b;b.type="coord";b.index=a};this.addAnchor=function(a,b,e,p,g,k,u,r,t,m){b=d(b,e,p,g,k,u,m,!1);r=c("Anchors",r,t);b.setIcon(l);b.addTo(r);D[a]=b;b.type="anchor";b.index=a};this.addTag=function(a,b,l,e,g,k,u,r,t,m){b=d(b,l,e,g,k,u,m,!1);r=c("Tags",r,t);b.setIcon(p);r.addLayer(b);b.openPopup();y[a]=b;b.type="tag";b.index=a};this.updateCoordinatorMarker=function(a,b,c,d,l,e,p,g,k){if(99==u||99==p||p==u&&g==v)n(A,a,b,c,d,l,e,p,g,
k,!1)||this.addCoordinator(A.length,a,b,c,d,l,e,p,g,k)};this.updateAnchorMarker=function(a,b,c,d,l,e,p,g,k){if(99==u||99==p||p==u&&g==v)n(D,a,b,c,d,l,e,p,g,k,!1)||this.addAnchor(D.length,a,b,c,d,l,e,p,g,k)};this.updateTagMarker=function(b,c,d,l,e,p,g,k,r){99==u||99==g||g==u&&k==v?n(y,b,c,d,l,e,p,g,k,r,!0)||this.addTag(y.length,b,c,d,l,e,p,g,k,r):a(y,c,!1)};this.showTag=function(b,c){a(y,b,c)};var va=L.Control.extend({options:{position:"topleft"},onAdd:function(a){var b=L.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-custom");
b.style.backgroundColor="white";b.style.backgroundImage="url(/images/edit-icon.png)";b.style.backgroundSize="25px 25px";b.style.width="25px";b.style.height="25px";b.onclick=function(){P?(a.removeControl(K),a.removeControl(J),a.removeControl(Da),P=!1,$("#areaname_edit").css("display","none")):(a.addControl(K),a.addControl(J),a.addControl(Da),P=!0);var b=P;null!=C&&null!=C.dragging&&(b?C.dragging.enable():C.dragging.disable());for(index=0;index<A.length;index++)coord_node=A[index],null!=coord_node&&
null!=coord_node.dragging&&(b?coord_node.dragging.enable():coord_node.dragging.disable());for(index=0;index<y.length;index++)tag_node=y[index],null!=tag_node&&null!=tag_node.dragging&&(b?tag_node.dragging.enable():tag_node.dragging.disable());for(index=0;index<D.length;index++)anchor_node=D[index],null!=anchor_node&&null!=anchor_node.dragging&&(b?anchor_node.dragging.enable():anchor_node.dragging.disable())};return b}}),ya=L.Control.extend({options:{position:"topleft"},onAdd:function(a){a=L.DomUtil.create("div",
"leaflet-bar leaflet-control leaflet-control-custom");a.style.backgroundColor="white";a.style.backgroundImage="url(/images/maximize-25.png)";a.style.backgroundSize="25px 25px";a.style.width="25px";a.style.height="25px";a.onclick=function(){S-=.01*S;f();"function"===typeof Q&&Q(S,aa)};return a}}),Qa=L.Control.extend({options:{position:"topleft"},onAdd:function(a){a=L.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-custom");a.style.backgroundColor="white";a.style.backgroundImage="url(/images/minimize-25.png)";
a.style.backgroundSize="25px 25px";a.style.width="25px";a.style.height="25px";a.onclick=function(){S+=.01*S;f();"function"===typeof Q&&Q(S,aa)};return a}}),Da=new L.Control.Draw({position:"topleft",draw:{polygon:{allowIntersection:!1,drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{color:"#bada55"}},rectangle:{shapeOptions:{clickable:!0,weight:1}},polyline:!1,circle:!1,marker:!1},edit:{featureGroup:U}});this.load_maparea=function(){get_maparea_From7688(function(a){$.each(a,
function(a,b){L.geoJson(JSON.parse(b),{pointToLayer:function(a,b){},style:function(a){return a.properties.style},onEachFeature:function(a,b){b.bindPopup(a.properties.areaname)}}).eachLayer(function(b){b.index=a;b.on("click",la);w[a]=b;U.addLayer(b)})})})};var ma=function(a,b){U.removeLayer(w[b]);Ja(a.geojson,b)},$a=function(a){a.on("draw:created",function(a){a=a.layer;a.options.fillColor=a.options.color;a.options.fillOpacity=a.options.opacity;a.options.color="#8b95aa";a.options.opacity="0.8";a.index=
w.length;a.on("click",la);w[w.length]=a;U.addLayer(a);var b=a.toGeoJSON();b.properties.style={};b.properties.style.color=a.options.color;b.properties.style.opacity=a.options.opacity;b.properties.style.weight=a.options.weight;for(var c=b.properties.style,d="#",l=0;6>l;l++)d+="0123456789ABCDEF"[Math.floor(16*Math.random())];c.fillColor=d;b.properties.style.fillOpacity=a.options.fillOpacity;b.properties.areaid="area"+getRandomInt(1E3,9999);b.properties.areaname="Area "+w.length;c=JSON.stringify(b);create_map_area_on7688(c,
b.properties.areaid,a.index,ma)});a.on("draw:edited",function(a){a.layers.eachLayer(function(a){a=a.toGeoJSON();var b=a.properties.areaid,c=JSON.stringify(a);update_map_area_on7688(b,c,a.properties.areaname)})});a.on("draw:deletestart",function(a){I=!0});a.on("draw:deletestop",function(a){I=!1});a.on("draw:deleted",function(a){a.layers.eachLayer(function(a){a=a.toGeoJSON().properties.areaid;delete_map_area_on7688(a)});I=!1});a.on("moveend",function(){})},Ja=function(a,b){return L.geoJson(JSON.parse(a),
{pointToLayer:function(a,b){},style:function(a){return a.properties.style},onEachFeature:function(a,b){b.bindPopup(a.properties.areaname)}}).eachLayer(function(a){a.index=b;a.on("click",la);w[b]=a;U.addLayer(a)})};$(document).ready(function(){$(".colorpicker").each(function(){$(this).minicolors({opacity:$(this).attr("data-opacity"),change:function(a,b){},theme:"default"})})});this.areaname_save=function(){var a=$("#areaname_color").minicolors("value"),b=$("#areaname_color").minicolors("opacity"),
c=$("#areaname_input").val(),d=w[edit_maparea_index];d.setStyle({color:"#8b95aa",opacity:"0.8",fillColor:a,fillOpacity:b});d.bindPopup(c);$("#areaname_edit").css("display","none");d=d.toGeoJSON();d.properties.areaname=c;d.properties.style.color="#8b95aa";d.properties.style.opacity="0.8";d.properties.style.fillColor=a;d.properties.style.fillOpacity=b;a=d.properties.areaid;b=JSON.stringify(d);update_map_area_on7688(a,b,c)}};/*

 Copyright (C) 2011-2017 Almende B.V, http://almende.com

 Vis.js is dual licensed under both

 * The Apache 2.0 License
   http://www.apache.org/licenses/LICENSE-2.0

 and

 * The MIT License
   http://opensource.org/licenses/MIT

 Vis.js may be distributed under either license.
*/
!function(f,h){"object"==typeof exports&&"object"==typeof module?module.exports=h():"function"==typeof define&&define.amd?define([],h):"object"==typeof exports?exports.vis=h():f.vis=h()}(this,function(){return function(f){function h(b){if(d[b])return d[b].exports;var c=d[b]={exports:{},id:b,loaded:!1};return f[b].call(c.exports,c,c.exports,h),c.loaded=!0,c.exports}var d={};return h.m=f,h.c=d,h.p="",h(0)}([function(f,h,d){f=d(1);f.extend(h,d(87));f.extend(h,d(117));f.extend(h,d(159))},function(f,h,
d){function b(a){return a&&a.__esModule?a:{"default":a}}f=d(2);var c=b(f);f=d(55);var n=b(f);f=d(58);var a=b(f);f=d(62);var e=b(f),q=d(82),g=d(86);h.isNumber=function(a){return a instanceof Number||"number"==typeof a};h.recursiveDOMDelete=function(a){if(a)for(;!0===a.hasChildNodes();)h.recursiveDOMDelete(a.firstChild),a.removeChild(a.firstChild)};h.giveRange=function(a,b,c,d){return b==a?.5:Math.max(0,1/(b-a)*(d-a))};h.isString=function(a){return a instanceof String||"string"==typeof a};h.isDate=
function(a){return a instanceof Date||h.isString(a)&&(m.exec(a)||!isNaN(Date.parse(a)))?!0:!1};h.randomUUID=function(){return g.v4()};h.assignAllKeys=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"object"!==(0,e["default"])(a[c])&&(a[c]=b)};h.fillIfDefined=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d;for(d in a)void 0!==b[d]&&("object"!==(0,e["default"])(b[d])?void 0!==b[d]&&null!==b[d]||void 0===a[d]||!0!==c?a[d]=b[d]:delete a[d]:"object"===(0,e["default"])(a[d])&&
h.fillIfDefined(a[d],b[d],c))};h.protoExtend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;for(e in d)a[e]=d[e]}return a};h.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;for(e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a};h.selectiveExtend=function(a,b,c){if(!Array.isArray(a))throw Error("Array with property names expected as first argument");for(var d=2;d<arguments.length;d++)for(var e=arguments[d],g=0;g<a.length;g++){var k=a[g];e&&e.hasOwnProperty(k)&&
(b[k]=e[k])}return b};h.selectiveDeepExtend=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var e=2;e<arguments.length;e++)for(var g=arguments[e],k=0;k<a.length;k++){var m=a[k];if(g.hasOwnProperty(m))if(c[m]&&c[m].constructor===Object)void 0===b[m]&&(b[m]={}),b[m].constructor===Object?h.deepExtend(b[m],c[m],!1,d):null===c[m]&&void 0!==b[m]&&!0===d?delete b[m]:b[m]=c[m];else{if(Array.isArray(c[m]))throw new TypeError("Arrays are not supported by deepExtend");
null===c[m]&&void 0!==b[m]&&!0===d?delete b[m]:b[m]=c[m]}}return b};h.selectiveNotDeepExtend=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var e in c)if(c.hasOwnProperty(e)&&-1==a.indexOf(e))if(c[e]&&c[e].constructor===Object)void 0===b[e]&&(b[e]={}),b[e].constructor===Object?h.deepExtend(b[e],c[e]):null===c[e]&&void 0!==b[e]&&!0===d?delete b[e]:b[e]=c[e];else if(Array.isArray(c[e])){b[e]=
[];for(var g=0;g<c[e].length;g++)b[e].push(c[e][g])}else null===c[e]&&void 0!==b[e]&&!0===d?delete b[e]:b[e]=c[e];return b};h.deepExtend=function(a,b,c,d){for(var e in b)if(b.hasOwnProperty(e)||!0===c)if(b[e]&&b[e].constructor===Object)void 0===a[e]&&(a[e]={}),a[e].constructor===Object?h.deepExtend(a[e],b[e],c):null===b[e]&&void 0!==a[e]&&!0===d?delete a[e]:a[e]=b[e];else if(Array.isArray(b[e])){a[e]=[];for(var g=0;g<b[e].length;g++)a[e].push(b[e][g])}else null===b[e]&&void 0!==a[e]&&!0===d?delete a[e]:
a[e]=b[e];return a};h.equalArray=function(a,b){if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!=b[c])return!1;return!0};h.convert=function(a,b){var c;if(void 0!==a){if(null===a)return null;if(!b)return a;if("string"!=typeof b&&!(b instanceof String))throw Error("Type must be a string");switch(b){case "boolean":case "Boolean":return!!a;case "number":case "Number":return h.isString(a)&&!isNaN(Date.parse(a))?q(a).valueOf():Number(a.valueOf());case "string":case "String":return String(a);
case "Date":if(h.isNumber(a))return new Date(a);if(a instanceof Date||q.isMoment(a))return new Date(a.valueOf());if(h.isString(a))return c=m.exec(a),c?new Date(Number(c[1])):q(new Date(a)).toDate();throw Error("Cannot convert object of type "+h.getType(a)+" to type Date");case "Moment":if(h.isNumber(a))return q(a);if(a instanceof Date)return q(a.valueOf());if(q.isMoment(a))return q(a);if(h.isString(a))return c=m.exec(a),q(c?Number(c[1]):a);throw Error("Cannot convert object of type "+h.getType(a)+
" to type Date");case "ISODate":if(h.isNumber(a))return new Date(a);if(a instanceof Date)return a.toISOString();if(q.isMoment(a))return a.toDate().toISOString();if(h.isString(a))return c=m.exec(a),c?(new Date(Number(c[1]))).toISOString():q(a).format();throw Error("Cannot convert object of type "+h.getType(a)+" to type ISODate");case "ASPDate":if(h.isNumber(a))return"/Date("+a+")/";if(a instanceof Date)return"/Date("+a.valueOf()+")/";if(h.isString(a))return c=m.exec(a),"/Date("+(c?(new Date(Number(c[1]))).valueOf():
(new Date(a)).valueOf())+")/";throw Error("Cannot convert object of type "+h.getType(a)+" to type ASPDate");default:throw Error('Unknown type "'+b+'"');}}};var m=/^\/?Date\((\-?\d+)/i;h.getType=function(a){var b=void 0===a?"undefined":(0,e["default"])(a);return"object"==b?null===a?"null":a instanceof Boolean?"Boolean":a instanceof Number?"Number":a instanceof String?"String":Array.isArray(a)?"Array":a instanceof Date?"Date":"Object":"number"==b?"Number":"boolean"==b?"Boolean":"string"==b?"String":
void 0===b?"undefined":b};h.copyAndExtendArray=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]);return c.push(b),c};h.copyArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b};h.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left};h.getAbsoluteRight=function(a){return a.getBoundingClientRect().right};h.getAbsoluteTop=function(a){return a.getBoundingClientRect().top};h.addClassName=function(a,b){var c=a.className.split(" "),d=b.split(" "),c=c.concat(d.filter(function(a){return 0>
c.indexOf(a)}));a.className=c.join(" ")};h.removeClassName=function(a,b){var c=a.className.split(" "),d=b.split(" "),c=c.filter(function(a){return 0>d.indexOf(a)});a.className=c.join(" ")};h.forEach=function(a,b){var c,d;if(Array.isArray(a))for(c=0,d=a.length;c<d;c++)b(a[c],c,a);else for(c in a)a.hasOwnProperty(c)&&b(a[c],c,a)};h.toArray=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b};h.updateProperty=function(a,b,c){return a[b]!==c&&(a[b]=c,!0)};h.throttle=function(a){var b=
!1;return function(){b||(b=!0,requestAnimationFrame(function(){b=!1;a()}))}};h.addEventListener=function(a,b,c,d){a.addEventListener?(void 0===d&&(d=!1),"mousewheel"===b&&0<=navigator.userAgent.indexOf("Firefox")&&(b="DOMMouseScroll"),a.addEventListener(b,c,d)):a.attachEvent("on"+b,c)};h.removeEventListener=function(a,b,c,d){a.removeEventListener?(void 0===d&&(d=!1),"mousewheel"===b&&0<=navigator.userAgent.indexOf("Firefox")&&(b="DOMMouseScroll"),a.removeEventListener(b,c,d)):a.detachEvent("on"+b,
c)};h.preventDefault=function(a){a||(a=window.event);a.preventDefault?a.preventDefault():a.returnValue=!1};h.getTarget=function(a){a||(a=window.event);var b;return a.target?b=a.target:a.srcElement&&(b=a.srcElement),void 0!=b.nodeType&&3==b.nodeType&&(b=b.parentNode),b};h.hasParent=function(a,b){for(var c=a;c;){if(c===b)return!0;c=c.parentNode}return!1};h.option={};h.option.asBoolean=function(a,b){return"function"==typeof a&&(a=a()),null!=a?0!=a:b||null};h.option.asNumber=function(a,b){return"function"==
typeof a&&(a=a()),null!=a?Number(a)||b||null:b||null};h.option.asString=function(a,b){return"function"==typeof a&&(a=a()),null!=a?String(a):b||null};h.option.asSize=function(a,b){return"function"==typeof a&&(a=a()),h.isString(a)?a:h.isNumber(a)?a+"px":b||null};h.option.asElement=function(a,b){return"function"==typeof a&&(a=a()),a||b||null};h.hexToRGB=function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?
{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null};h.overrideOpacity=function(a,b){if(-1!=a.indexOf("rgba"))return a;if(-1!=a.indexOf("rgb")){var c=a.substr(a.indexOf("(")+1).replace(")","").split(",");return"rgba("+c[0]+","+c[1]+","+c[2]+","+b+")"}c=h.hexToRGB(a);return null==c?a:"rgba("+c.r+","+c.g+","+c.b+","+b+")"};h.RGBToHex=function(a,b,c){return"#"+(16777216+(a<<16)+(b<<8)+c).toString(16).slice(1)};h.parseColor=function(a){var b;if(!0===h.isString(a))if(!0===h.isValidRGB(a)&&
(a=a.substr(4).substr(0,a.length-5).split(",").map(function(a){return parseInt(a)}),a=h.RGBToHex(a[0],a[1],a[2])),!0===h.isValidHex(a)){var c=h.hexToHSV(a);b=c.h;var d=.8*c.s,e=Math.min(1,1.02*c.v),c=h.HSVToHex(c.h,Math.min(1,1.25*c.s),.8*c.v);b=h.HSVToHex(b,d,e);b={background:a,border:c,highlight:{background:b,border:c},hover:{background:b,border:c}}}else b={background:a,border:a,highlight:{background:a,border:a},hover:{background:a,border:a}};else b={},b.background=a.background||void 0,b.border=
a.border||void 0,h.isString(a.highlight)?b.highlight={border:a.highlight,background:a.highlight}:(b.highlight={},b.highlight.background=a.highlight&&a.highlight.background||void 0,b.highlight.border=a.highlight&&a.highlight.border||void 0),h.isString(a.hover)?b.hover={border:a.hover,background:a.hover}:(b.hover={},b.hover.background=a.hover&&a.hover.background||void 0,b.hover.border=a.hover&&a.hover.border||void 0);return b};h.RGBToHSV=function(a,b,c){a/=255;b/=255;c/=255;var d=Math.min(a,Math.min(b,
c)),e=Math.max(a,Math.max(b,c));return d==e?{h:0,s:0,v:d}:{h:60*((a==d?3:c==d?1:5)-(a==d?b-c:c==d?a-b:c-a)/(e-d))/360,s:(e-d)/e,v:e}};var k={split:function(a){var b={};return a.split(";").forEach(function(a){if(""!=a.trim()){var c=a.split(":");a=c[0].trim();c=c[1].trim();b[a]=c}}),b},join:function(b){return(0,a["default"])(b).map(function(a){return a+": "+b[a]}).join("; ")}};h.addCssText=function(a,b){var c=k.split(a.style.cssText),d=k.split(b),c=h.extend(c,d);a.style.cssText=k.join(c)};h.removeCssText=
function(a,b){var c=k.split(a.style.cssText),d=k.split(b),e;for(e in d)d.hasOwnProperty(e)&&delete c[e];a.style.cssText=k.join(c)};h.HSVToRGB=function(a,b,c){var d,e,g,k=Math.floor(6*a),m=6*a-k;a=c*(1-b);var q=c*(1-m*b);b=c*(1-(1-m)*b);switch(k%6){case 0:d=c;e=b;g=a;break;case 1:d=q;e=c;g=a;break;case 2:d=a;e=c;g=b;break;case 3:d=a;e=q;g=c;break;case 4:d=b;e=a;g=c;break;case 5:d=c,e=a,g=q}return{r:Math.floor(255*d),g:Math.floor(255*e),b:Math.floor(255*g)}};h.HSVToHex=function(a,b,c){a=h.HSVToRGB(a,
b,c);return h.RGBToHex(a.r,a.g,a.b)};h.hexToHSV=function(a){a=h.hexToRGB(a);return h.RGBToHSV(a.r,a.g,a.b)};h.isValidHex=function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)};h.isValidRGB=function(a){return a=a.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(a)};h.isValidRGBA=function(a){return a=a.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(a)};h.selectiveBridgeObject=function(a,b){if("object"==(void 0===b?"undefined":(0,e["default"])(b))){for(var c=
(0,n["default"])(b),d=0;d<a.length;d++)b.hasOwnProperty(a[d])&&"object"==(0,e["default"])(b[a[d]])&&(c[a[d]]=h.bridgeObject(b[a[d]]));return c}return null};h.bridgeObject=function(a){if("object"==(void 0===a?"undefined":(0,e["default"])(a))){var b=(0,n["default"])(a),c;for(c in a)a.hasOwnProperty(c)&&"object"==(0,e["default"])(a[c])&&(b[c]=h.bridgeObject(a[c]));return b}return null};h.insertSort=function(a,b){for(var c=0;c<a.length;c++){for(var d=a[c],e=c;0<e&&0>b(d,a[e-1]);e--)a[e]=a[e-1];a[e]=d}return a};
h.mergeOptions=function(a,b,c){var d=(3<arguments.length&&void 0!==arguments[3]&&arguments[3],4<arguments.length&&void 0!==arguments[4]?arguments[4]:{});if(null===b[c])a[c]=(0,n["default"])(d[c]);else if(void 0!==b[c])if("boolean"==typeof b[c])a[c].enabled=b[c];else{void 0===b[c].enabled&&(a[c].enabled=!0);for(var e in b[c])b[c].hasOwnProperty(e)&&(a[c][e]=b[c][e])}};h.binarySearchCustom=function(a,b,c,d){for(var e=0,g=0,k=a.length-1;g<=k&&1E4>e;){var m=Math.floor((g+k)/2),q=a[m],q=b(void 0===d?q[c]:
q[c][d]);if(0==q)return m;-1==q?g=m+1:k=m-1;e++}return-1};h.binarySearchValue=function(a,b,c,d,e){var g,k,m,q,f=0,n=0,h=a.length-1;for(e=void 0!=e?e:function(a,b){return a==b?0:a<b?-1:1};n<=h&&1E4>f;){if(q=Math.floor(.5*(h+n)),g=a[Math.max(0,q-1)][c],k=a[q][c],m=a[Math.min(a.length-1,q+1)][c],0==e(k,b))return q;if(0>e(g,b)&&0<e(k,b))return"before"==d?Math.max(0,q-1):q;if(0>e(k,b)&&0<e(m,b))return"before"==d?q:Math.min(a.length-1,q+1);0>e(k,b)?n=q+1:h=q-1;f++}return-1};h.easingFunctions={linear:function(a){return a},
easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:(4-2*a)*a-1},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+
--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}};h.getScrollBarWidth=function(){var a=document.createElement("p");a.style.width="100%";a.style.height="200px";var b=document.createElement("div");b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.visibility="hidden";b.style.width="200px";b.style.height="150px";b.style.overflow="hidden";b.appendChild(a);document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";a=a.offsetWidth;return c==
a&&(a=b.clientWidth),document.body.removeChild(b),c-a};h.topMost=function(a,b){var d=void 0;Array.isArray(b)||(b=[b]);var e=!0,g=!1,k=void 0;try{for(var m,q=(0,c["default"])(a);!(e=(m=q.next()).done);e=!0){var f=m.value;if(f){for(var d=f[b[0]],n=1;n<b.length;n++)d&&(d=d[b[n]]);if(void 0!==d)break}}}catch(h){g=!0,k=h}finally{try{!e&&q["return"]&&q["return"]()}finally{if(g)throw k;}}return d}},function(f,h,d){f.exports={"default":d(3),__esModule:!0}},function(f,h,d){d(4);d(50);f.exports=d(52)},function(f,
h,d){d(5);f=d(16);h=d(20);var b=d(8);d=d(47)("toStringTag");for(var c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],n=0;5>n;n++){var a=c[n],e=f[a];(e=e&&e.prototype)&&!e[d]&&h(e,d,a);b[a]=b.Array}},function(f,h,d){h=d(6);var b=d(7),c=d(8),n=d(9);f.exports=d(13)(Array,"Array",function(a,b){this._t=n(a);this._i=0;this._k=b},function(){var a=this._t,c=this._k,d=this._i++;return!a||d>=a.length?(this._t=void 0,b(1)):"keys"==c?b(0,d):"values"==c?b(0,a[d]):b(0,[d,a[d]])},"values");
c.Arguments=c.Array;h("keys");h("values");h("entries")},function(f,h){f.exports=function(){}},function(f,h){f.exports=function(d,b){return{value:b,done:!!d}}},function(f,h){f.exports={}},function(f,h,d){var b=d(10),c=d(12);f.exports=function(d){return b(c(d))}},function(f,h,d){var b=d(11);f.exports=Object("z").propertyIsEnumerable(0)?Object:function(c){return"String"==b(c)?c.split(""):Object(c)}},function(f,h){var d={}.toString;f.exports=function(b){return d.call(b).slice(8,-1)}},function(f,h){f.exports=
function(d){if(void 0==d)throw TypeError("Can't call method on  "+d);return d}},function(f,h,d){var b=d(14),c=d(15),n=d(30),a=d(20),e=d(31),q=d(8),g=d(32),m=d(46),k=d(48),p=d(47)("iterator"),l=!([].keys&&"next"in[].keys()),r=function(){return this};f.exports=function(d,u,v,f,A,h,y){g(v,u,f);var w,z,x;f=function(a){return!l&&a in P?P[a]:function(){return new v(this,a)}};var B=u+" Iterator",F="values"==A,Q=!1,P=d.prototype,I=P[p]||P["@@iterator"]||A&&P[A],O=I||f(A),K=A?F?f("entries"):O:void 0,J="Array"==
u?P.entries||I:I;if(J&&(x=k(J.call(new d)))!==Object.prototype&&(m(x,B,!0),b||e(x,p)||a(x,p,r)),F&&I&&"values"!==I.name&&(Q=!0,O=function(){return I.call(this)}),b&&!y||!l&&!Q&&P[p]||a(P,p,O),q[u]=O,q[B]=r,A)if(w={values:F?O:f("values"),keys:h?O:f("keys"),entries:K},y)for(z in w)z in P||n(P,z,w[z]);else c(c.P+c.F*(l||Q),u,w);return w}},function(f,h){f.exports=!0},function(f,h,d){var b=d(16),c=d(17),n=d(18),a=d(20),e=function(d,g,m){var k,p,l,r=d&e.F,t=d&e.G,u=d&e.S,v=d&e.P,f=d&e.B,A=d&e.W,h=t?c:c[g]||
(c[g]={}),y=h.prototype,u=t?b:u?b[g]:(b[g]||{}).prototype;t&&(m=g);for(k in m)(p=!r&&u&&void 0!==u[k])&&k in h||(l=p?u[k]:m[k],h[k]=t&&"function"!=typeof u[k]?m[k]:f&&p?n(l,b):A&&u[k]==l?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b.prototype=a.prototype,b}(l):v&&"function"==typeof l?n(Function.call,l):l,v&&((h.virtual||(h.virtual={}))[k]=
l,d&e.R&&y&&!y[k]&&a(y,k,l)))};e.F=1;e.G=2;e.S=4;e.P=8;e.B=16;e.W=32;e.U=64;e.R=128;f.exports=e},function(f,h){var d=f.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(f,h){var d=f.exports={version:"2.4.0"};"number"==typeof __e&&(__e=d)},function(f,h,d){var b=d(19);f.exports=function(c,d,a){if(b(c),void 0===d)return c;switch(a){case 1:return function(a){return c.call(d,a)};case 2:return function(a,
b){return c.call(d,a,b)};case 3:return function(a,b,g){return c.call(d,a,b,g)}}return function(){return c.apply(d,arguments)}}},function(f,h){f.exports=function(d){if("function"!=typeof d)throw TypeError(d+" is not a function!");return d}},function(f,h,d){var b=d(21),c=d(29);f.exports=d(25)?function(d,a,e){return b.f(d,a,c(1,e))}:function(b,a,c){return b[a]=c,b}},function(f,h,d){var b=d(22),c=d(24),n=d(28),a=Object.defineProperty;h.f=d(25)?Object.defineProperty:function(d,q,g){if(b(d),q=n(q,!0),b(g),
c)try{return a(d,q,g)}catch(m){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");return"value"in g&&(d[q]=g.value),d}},function(f,h,d){var b=d(23);f.exports=function(c){if(!b(c))throw TypeError(c+" is not an object!");return c}},function(f,h){f.exports=function(d){return"object"==typeof d?null!==d:"function"==typeof d}},function(f,h,d){f.exports=!d(25)&&!d(26)(function(){return 7!=Object.defineProperty(d(27)("div"),"a",{get:function(){return 7}}).a})},function(f,h,d){f.exports=
!d(26)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(f,h){f.exports=function(d){try{return!!d()}catch(b){return!0}}},function(f,h,d){h=d(23);var b=d(16).document,c=h(b)&&h(b.createElement);f.exports=function(d){return c?b.createElement(d):{}}},function(f,h,d){var b=d(23);f.exports=function(c,d){if(!b(c))return c;var a,e;if(d&&"function"==typeof(a=c.toString)&&!b(e=a.call(c))||"function"==typeof(a=c.valueOf)&&!b(e=a.call(c))||!d&&"function"==typeof(a=c.toString)&&
!b(e=a.call(c)))return e;throw TypeError("Can't convert object to primitive value");}},function(f,h){f.exports=function(d,b){return{enumerable:!(1&d),configurable:!(2&d),writable:!(4&d),value:b}}},function(f,h,d){f.exports=d(20)},function(f,h){var d={}.hasOwnProperty;f.exports=function(b,c){return d.call(b,c)}},function(f,h,d){var b=d(33),c=d(29),n=d(46),a={};d(20)(a,d(47)("iterator"),function(){return this});f.exports=function(d,q,g){d.prototype=b(a,{next:c(1,g)});n(d,q+" Iterator")}},function(f,
h,d){var b=d(22),c=d(34),n=d(44),a=d(41)("IE_PROTO"),e=function(){},q=function(){var a;a=d(27)("iframe");var b=n.length;a.style.display="none";d(45).appendChild(a);a.src="javascript:";a=a.contentWindow.document;a.open();a.write("<script>document.F=Object\x3c/script>");a.close();for(q=a.F;b--;)delete q.prototype[n[b]];return q()};f.exports=Object.create||function(d,m){var k;return null!==d?(e.prototype=b(d),k=new e,e.prototype=null,k[a]=d):k=q(),void 0===m?k:c(k,m)}},function(f,h,d){var b=d(21),c=
d(22),n=d(35);f.exports=d(25)?Object.defineProperties:function(a,d){c(a);for(var q,g=n(d),m=g.length,k=0;m>k;)b.f(a,q=g[k++],d[q]);return a}},function(f,h,d){var b=d(36),c=d(44);f.exports=Object.keys||function(d){return b(d,c)}},function(f,h,d){var b=d(31),c=d(9),n=d(37)(!1),a=d(41)("IE_PROTO");f.exports=function(d,q){var g,m=c(d),k=0,p=[];for(g in m)g!=a&&b(m,g)&&p.push(g);for(;q.length>k;)b(m,g=q[k++])&&(~n(p,g)||p.push(g));return p}},function(f,h,d){var b=d(9),c=d(38),n=d(40);f.exports=function(a){return function(d,
q,g){var m;d=b(d);var k=c(d.length);g=n(g,k);if(a&&q!=q)for(;k>g;){if((m=d[g++])!=m)return!0}else for(;k>g;g++)if((a||g in d)&&d[g]===q)return a||g||0;return!a&&-1}}},function(f,h,d){var b=d(39),c=Math.min;f.exports=function(d){return 0<d?c(b(d),9007199254740991):0}},function(f,h){var d=Math.ceil,b=Math.floor;f.exports=function(c){return isNaN(c=+c)?0:(0<c?b:d)(c)}},function(f,h,d){var b=d(39),c=Math.max,n=Math.min;f.exports=function(a,d){return a=b(a),0>a?c(a+d,0):n(a,d)}},function(f,h,d){var b=
d(42)("keys"),c=d(43);f.exports=function(d){return b[d]||(b[d]=c(d))}},function(f,h,d){h=d(16);var b=h["__core-js_shared__"]||(h["__core-js_shared__"]={});f.exports=function(c){return b[c]||(b[c]={})}},function(f,h){var d=0,b=Math.random();f.exports=function(c){return"Symbol(".concat(void 0===c?"":c,")_",(++d+b).toString(36))}},function(f,h){f.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(f,h,d){f.exports=d(16).document&&
document.documentElement},function(f,h,d){var b=d(21).f,c=d(31),n=d(47)("toStringTag");f.exports=function(a,d,q){a&&!c(a=q?a:a.prototype,n)&&b(a,n,{configurable:!0,value:d})}},function(f,h,d){var b=d(42)("wks"),c=d(43),n=d(16).Symbol,a="function"==typeof n;(f.exports=function(d){return b[d]||(b[d]=a&&n[d]||(a?n:c)("Symbol."+d))}).store=b},function(f,h,d){var b=d(31),c=d(49),n=d(41)("IE_PROTO"),a=Object.prototype;f.exports=Object.getPrototypeOf||function(d){return d=c(d),b(d,n)?d[n]:"function"==typeof d.constructor&&
d instanceof d.constructor?d.constructor.prototype:d instanceof Object?a:null}},function(f,h,d){var b=d(12);f.exports=function(c){return Object(b(c))}},function(f,h,d){var b=d(51)(!0);d(13)(String,"String",function(b){this._t=String(b);this._i=0},function(){var c,d=this._t,a=this._i;return a>=d.length?{value:void 0,done:!0}:(c=b(d,a),this._i+=c.length,{value:c,done:!1})})},function(f,h,d){var b=d(39),c=d(12);f.exports=function(d){return function(a,e){var q,g,m=String(c(a)),k=b(e),p=m.length;return 0>
k||k>=p?d?"":void 0:(q=m.charCodeAt(k),55296>q||56319<q||k+1===p||56320>(g=m.charCodeAt(k+1))||57343<g?d?m.charAt(k):q:d?m.slice(k,k+2):g-56320+(q-55296<<10)+65536)}}},function(f,h,d){var b=d(22),c=d(53);f.exports=d(17).getIterator=function(d){var a=c(d);if("function"!=typeof a)throw TypeError(d+" is not iterable!");return b(a.call(d))}},function(f,h,d){var b=d(54),c=d(47)("iterator"),n=d(8);f.exports=d(17).getIteratorMethod=function(a){if(void 0!=a)return a[c]||a["@@iterator"]||n[b(a)]}},function(f,
h,d){var b=d(11),c=d(47)("toStringTag"),n="Arguments"==b(function(){return arguments}());f.exports=function(a){var d,q;if(void 0===a)d="Undefined";else{var g;if(null===a)g="Null";else{a:{var m=a=Object(a);try{g=m[c];break a}catch(k){}g=void 0}g="string"==typeof(d=g)?d:n?b(a):"Object"==(q=b(a))&&"function"==typeof a.callee?"Arguments":q}d=g}return d}},function(f,h,d){f.exports={"default":d(56),__esModule:!0}},function(f,h,d){d(57);var b=d(17).Object;f.exports=function(c,d){return b.create(c,d)}},function(f,
h,d){f=d(15);f(f.S,"Object",{create:d(33)})},function(f,h,d){f.exports={"default":d(59),__esModule:!0}},function(f,h,d){d(60);f.exports=d(17).Object.keys},function(f,h,d){var b=d(49),c=d(35);d(61)("keys",function(){return function(d){return c(b(d))}})},function(f,h,d){var b=d(15),c=d(17),n=d(26);f.exports=function(a,d){var q=(c.Object||{})[a]||Object[a],g={};g[a]=d(q);b(b.S+b.F*n(function(){q(1)}),"Object",g)}},function(f,h,d){h.__esModule=!0;f=(f=d(63))&&f.__esModule?f:{"default":f};var b=(d=d(66))&&
d.__esModule?d:{"default":d},c="function"==typeof b["default"]&&"symbol"==typeof f["default"]?function(b){return typeof b}:function(c){return c&&"function"==typeof b["default"]&&c.constructor===b["default"]&&c!==b["default"].prototype?"symbol":typeof c};h["default"]="function"==typeof b["default"]&&"symbol"===c(f["default"])?function(b){return void 0===b?"undefined":c(b)}:function(d){return d&&"function"==typeof b["default"]&&d.constructor===b["default"]&&d!==b["default"].prototype?"symbol":void 0===
d?"undefined":c(d)}},function(f,h,d){f.exports={"default":d(64),__esModule:!0}},function(f,h,d){d(50);d(4);f.exports=d(65).f("iterator")},function(f,h,d){h.f=d(47)},function(f,h,d){f.exports={"default":d(67),__esModule:!0}},function(f,h,d){d(68);d(79);d(80);d(81);f.exports=d(17).Symbol},function(f,h,d){f=d(16);var b=d(31),c=d(25);h=d(15);var n=d(30),a=d(69).KEY,e=d(26),q=d(42),g=d(46),m=d(43),k=d(47),p=d(65),l=d(70),r=d(71),t=d(72),u=d(75),v=d(22),C=d(9),A=d(28),D=d(29),y=d(33),w=d(76),z=d(78),x=
d(21),B=d(35),F=z.f,Q=x.f,P=w.f,I=f.Symbol,O=f.JSON,K=O&&O.stringify,J=k("_hidden"),N=k("toPrimitive"),R={}.propertyIsEnumerable,W=q("symbol-registry"),H=q("symbols"),ja=q("op-symbols"),S=Object.prototype,q="function"==typeof I,aa=f.QObject,ba=!aa||!aa.prototype||!aa.prototype.findChild,G=c&&e(function(){return 7!=y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=F(S,b);d&&delete S[b];Q(a,b,c);d&&a!==S&&Q(S,b,d)}:Q,ua=function(a){var b=H[a]=y(I.prototype);return b._k=
a,b},ka=q&&"symbol"==typeof I.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof I},U=function(a,c,d){return a===S&&U(ja,c,d),v(a),c=A(c,!0),v(d),b(H,c)?(d.enumerable?(b(a,J)&&a[J][c]&&(a[J][c]=!1),d=y(d,{enumerable:D(0,!1)})):(b(a,J)||Q(a,J,D(1,{})),a[J][c]=!0),G(a,c,d)):Q(a,c,d)},M=function(a,b){v(a);for(var c,d=t(b=C(b)),e=0,g=d.length;g>e;)U(a,c=d[e++],b[c]);return a},la=function(a){var c=R.call(this,a=A(a,!0));return!(this===S&&b(H,a)&&!b(ja,a))&&(!(c||!b(this,a)||
!b(H,a)||b(this,J)&&this[J][a])||c)},aa=function(a,c){if(a=C(a),c=A(c,!0),a!==S||!b(H,c)||b(ja,c)){var d=F(a,c);return!d||!b(H,c)||b(a,J)&&a[J][c]||(d.enumerable=!0),d}},va=function(c){var d;c=P(C(c));for(var e=[],g=0;c.length>g;)b(H,d=c[g++])||d==J||d==a||e.push(d);return e},ya=function(a){var c,d=a===S;a=P(d?ja:C(a));for(var e=[],g=0;a.length>g;)!b(H,c=a[g++])||d&&!b(S,c)||e.push(H[c]);return e};q||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var a=m(0<arguments.length?
arguments[0]:void 0),d=function(c){this===S&&d.call(ja,c);b(this,J)&&b(this[J],a)&&(this[J][a]=!1);G(this,a,D(1,c))};return c&&ba&&G(S,a,{configurable:!0,set:d}),ua(a)},n(I.prototype,"toString",function(){return this._k}),z.f=aa,x.f=U,d(77).f=w.f=va,d(74).f=la,d(73).f=ya,c&&!d(14)&&n(S,"propertyIsEnumerable",la,!0),p.f=function(a){return ua(k(a))});h(h.G+h.W+h.F*!q,{Symbol:I});n="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");
for(p=0;n.length>p;)k(n[p++]);n=B(k.store);for(p=0;n.length>p;)l(n[p++]);h(h.S+h.F*!q,"Symbol",{"for":function(a){return b(W,a+="")?W[a]:W[a]=I(a)},keyFor:function(a){if(ka(a))return r(W,a);throw TypeError(a+" is not a symbol!");},useSetter:function(){ba=!0},useSimple:function(){ba=!1}});h(h.S+h.F*!q,"Object",{create:function(a,b){return void 0===b?y(a):M(y(a),b)},defineProperty:U,defineProperties:M,getOwnPropertyDescriptor:aa,getOwnPropertyNames:va,getOwnPropertySymbols:ya});O&&h(h.S+h.F*(!q||e(function(){var a=
I();return"[null]"!=K([a])||"{}"!=K({a:a})||"{}"!=K(Object(a))})),"JSON",{stringify:function(a){if(void 0!==a&&!ka(a)){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return b=d[1],"function"==typeof b&&(c=b),!c&&u(b)||(b=function(a,b){if(c&&(b=c.call(this,a,b)),!ka(b))return b}),d[1]=b,K.apply(O,d)}}});I.prototype[N]||d(20)(I.prototype,N,I.prototype.valueOf);g(I,"Symbol");g(Math,"Math",!0);g(f.JSON,"JSON",!0)},function(f,h,d){var b=d(43)("meta"),c=d(23),n=d(31),a=d(21).f,e=0,q=Object.isExtensible||
function(){return!0},g=!d(26)(function(){return q(Object.preventExtensions({}))}),m=function(c){a(c,b,{value:{i:"O"+ ++e,w:{}}})},k=f.exports={KEY:b,NEED:!1,fastKey:function(a,d){if(!c(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!n(a,b)){if(!q(a))return"F";if(!d)return"E";m(a)}return a[b].i},getWeak:function(a,c){if(!n(a,b)){if(!q(a))return!0;if(!c)return!1;m(a)}return a[b].w},onFreeze:function(a){return g&&k.NEED&&q(a)&&!n(a,b)&&m(a),a}}},function(f,h,d){var b=d(16),c=d(17),n=
d(14),a=d(65),e=d(21).f;f.exports=function(d){var g=c.Symbol||(c.Symbol=n?{}:b.Symbol||{});"_"==d.charAt(0)||d in g||e(g,d,{value:a.f(d)})}},function(f,h,d){var b=d(35),c=d(9);f.exports=function(d,a){for(var e,q=c(d),g=b(q),m=g.length,k=0;m>k;)if(q[e=g[k++]]===a)return e}},function(f,h,d){var b=d(35),c=d(73),n=d(74);f.exports=function(a){var d=b(a),q=c.f;if(q)for(var g,q=q(a),m=n.f,k=0;q.length>k;)m.call(a,g=q[k++])&&d.push(g);return d}},function(f,h){h.f=Object.getOwnPropertySymbols},function(f,
h){h.f={}.propertyIsEnumerable},function(f,h,d){var b=d(11);f.exports=Array.isArray||function(c){return"Array"==b(c)}},function(f,h,d){var b=d(9),c=d(77).f,n={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];f.exports.f=function(d){var q;if(a&&"[object Window]"==n.call(d))try{q=c(d)}catch(g){q=a.slice()}else q=c(b(d));return q}},function(f,h,d){var b=d(36),c=d(44).concat("length","prototype");h.f=Object.getOwnPropertyNames||function(d){return b(d,
c)}},function(f,h,d){var b=d(74),c=d(29),n=d(9),a=d(28),e=d(31),q=d(24),g=Object.getOwnPropertyDescriptor;h.f=d(25)?g:function(d,k){if(d=n(d),k=a(k,!0),q)try{return g(d,k)}catch(p){}if(e(d,k))return c(!b.f.call(d,k),d[k])}},function(f,h){},function(f,h,d){d(70)("asyncIterator")},function(f,h,d){d(70)("observable")},function(f,h,d){f.exports="undefined"!=typeof window&&window.moment||d(83)},function(f,h,d){(function(b){!function(c,d){b.exports=d()}(0,function(){function c(){return wa.apply(null,arguments)}
function d(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function a(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){return void 0===a}function q(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function g(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function m(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function k(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function p(a,b){for(var c in b)k(b,c)&&(a[c]=b[c]);return k(b,"toString")&&(a.toString=b.toString),k(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return Ra(a,b,c,d,!0).utc()}function r(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),a._pf}function t(a){if(null==a._isValid){var b=r(a),c=ab.call(b.parsedDateParts,
function(a){return null!=a}),c=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(c=c&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return c;a._isValid=c}return a._isValid}function u(a){var b=l(NaN);return null!=a?p(r(b),a):r(b).userInvalidated=!0,b}function v(a,b){var c,d,g;if(e(b._isAMomentObject)||(a._isAMomentObject=
b._isAMomentObject),e(b._i)||(a._i=b._i),e(b._f)||(a._f=b._f),e(b._l)||(a._l=b._l),e(b._strict)||(a._strict=b._strict),e(b._tzm)||(a._tzm=b._tzm),e(b._isUTC)||(a._isUTC=b._isUTC),e(b._offset)||(a._offset=b._offset),e(b._pf)||(a._pf=r(b)),e(b._locale)||(a._locale=b._locale),0<Qb.length)for(c=0;c<Qb.length;c++)d=Qb[c],g=b[d],e(g)||(a[d]=g);return a}function f(a){v(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Rb&&(Rb=!0,c.updateOffset(this),Rb=
!1)}function A(a){return a instanceof f||null!=a&&null!=a._isAMomentObject}function h(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function y(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=h(a)),b}function w(a,b,c){var d,e=Math.min(a.length,b.length),g=Math.abs(a.length-b.length),l=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&y(a[d])!==y(b[d]))&&l++;return l+g}function z(a){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function x(a,
b){var d=!0;return p(function(){if(null!=c.deprecationHandler&&c.deprecationHandler(null,a),d){for(var e,g=[],l=0;l<arguments.length;l++){if(e="","object"==typeof arguments[l]){e+="\n["+l+"] ";for(var k in arguments[0])e+=k+": "+arguments[0][k]+", ";e=e.slice(0,-2)}else e=arguments[l];g.push(e)}z(a+"\nArguments: "+Array.prototype.slice.call(g).join("")+"\n"+Error().stack);d=!1}return b.apply(this,arguments)},b)}function B(a,b){null!=c.deprecationHandler&&c.deprecationHandler(a,b);$b[a]||(z(b),$b[a]=
!0)}function F(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function Q(b,c){var d,e=p({},b);for(d in c)k(c,d)&&(a(b[d])&&a(c[d])?(e[d]={},p(e[d],b[d]),p(e[d],c[d])):null!=c[d]?e[d]=c[d]:delete e[d]);for(d in b)k(b,d)&&!k(c,d)&&a(b[d])&&(e[d]=p({},e[d]));return e}function P(a){null!=a&&this.set(a)}function I(a,b){var c=a.toLowerCase();pb[c]=pb[c+"s"]=pb[b]=a}function O(a){return"string"==typeof a?pb[a]||pb[a.toLowerCase()]:void 0}function K(a){var b,c,d=
{};for(c in a)k(a,c)&&(b=O(c))&&(d[b]=a[c]);return d}function J(a){var b=[],c;for(c in a)b.push({unit:c,priority:ha[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function N(a,b){return function(d){null!=d?(this.isValid()&&this._d["set"+(this._isUTC?"UTC":"")+a](d),d=(c.updateOffset(this,b),this)):d=R(this,a);return d}}function R(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function W(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,
b-d.length)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()});a&&(hb[a]=e);b&&(hb[b[0]]=function(){return W(e.apply(this,arguments),b[1],b[2])});c&&(hb[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function ja(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function S(a){var b,c,d=a.match(ac);b=0;for(c=d.length;b<c;b++)hb[d[b]]?d[b]=hb[d[b]]:d[b]=ja(d[b]);return function(b){var e,g="";for(e=
0;e<c;e++)g+=F(d[e])?d[e].call(b,a):d[e];return g}}function aa(a,b){return a.isValid()?(b=ba(b,a.localeData()),Sb[b]=Sb[b]||S(b),Sb[b](a)):a.localeData().invalidDate()}function ba(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ab.lastIndex=0;0<=d&&Ab.test(a);)a=a.replace(Ab,c),Ab.lastIndex=0,--d;return a}function G(a,b,c){Tb[a]=F(b)?b:function(a,d){return a&&c?c:b}}function ua(a,b){return k(Tb,a)?Tb[a](b._strict,b._locale):new RegExp(ka(a))}function ka(a){return U(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
function(a,b,c,d,e){return b||c||d||e}))}function U(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function M(a,b){var c,d=b;"string"==typeof a&&(a=[a]);q(b)&&(d=function(a,c){c[b]=y(a)});for(c=0;c<a.length;c++)Ub[a[c]]=d}function la(a,b){M(a,function(a,c,d,e){d._w=d._w||{};b(a,d._w,d,e)})}function va(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function ya(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=y(b);else if(b=a.localeData().monthsParse(b),!q(b))return a;
return c=Math.min(a.date(),va(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function Qa(a){return null!=a?(ya(this,a),c.updateOffset(this,!0),this):R(this,"Month")}function Da(){function a(b,c){return c.length-b.length}var b,c,d=[],e=[],g=[];for(b=0;12>b;b++)c=l([2E3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),g.push(this.months(c,"")),g.push(this.monthsShort(c,""));d.sort(a);e.sort(a);g.sort(a);for(b=0;12>b;b++)d[b]=U(d[b]),e[b]=U(e[b]);for(b=0;24>b;b++)g[b]=U(g[b]);
this._monthsShortRegex=this._monthsRegex=new RegExp("^("+g.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ma(a){return 0==a%4&&0!=a%100||0==a%400}function $a(a,b,c,d,e,g,l){b=new Date(a,b,c,d,e,g,l);return 100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a),b}function Ja(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),
b}function fb(a,b,c){c=7+b-c;return-(7+Ja(a,0,c).getUTCDay()-b)%7+c-1}function ta(a,b,c,d,e){var g,l;c=(7+c-d)%7;d=fb(a,d,e);b=1+7*(b-1)+c+d;return 0>=b?(g=a-1,l=(ma(g)?366:365)+b):b>(ma(a)?366:365)?(g=a+1,l=b-(ma(a)?366:365)):(g=a,l=b),{year:g,dayOfYear:l}}function Pa(a,b,c){var d,e,g=fb(a.year(),b,c),g=Math.floor((a.dayOfYear()-g-1)/7)+1;return 1>g?(e=a.year()-1,d=g+Ia(e,b,c)):g>Ia(a.year(),b,c)?(d=g-Ia(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function Ia(a,b,c){var d=fb(a,b,
c);b=fb(a+1,b,c);return((ma(a)?366:365)-d+b)/7}function lb(){function a(b,c){return c.length-b.length}var b,c,d,e,g=[],k=[],p=[],u=[];for(b=0;7>b;b++)c=l([2E3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),c=this.weekdays(c,""),g.push(d),k.push(e),p.push(c),u.push(d),u.push(e),u.push(c);g.sort(a);k.sort(a);p.sort(a);u.sort(a);for(b=0;7>b;b++)k[b]=U(k[b]),p[b]=U(p[b]),u[b]=U(u[b]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i");
this._weekdaysStrictRegex=new RegExp("^("+p.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+k.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ba(){return this.hours()%12||12}function Ca(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function gb(a,b){return b._meridiemParse}function mb(a){return a?a.toLowerCase().replace("_","-"):a}function yb(a){if(!ca[a]&&void 0!==b&&b&&b.exports)try{var c=
Error('Cannot find module "./locale"');throw c.code="MODULE_NOT_FOUND",c;}catch(d){}return ca[a]}function Za(a,b){var c;return a&&(c=e(b)?xa(a):nb(a,b))&&(Vb=c),Vb._abbr}function nb(a,b){if(null!==b){var c=bc;if(b.abbr=a,null!=ca[a])B("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=ca[a]._config;
else if(null!=b.parentLocale){if(null==ca[b.parentLocale])return qb[b.parentLocale]||(qb[b.parentLocale]=[]),qb[b.parentLocale].push({name:a,config:b}),null;c=ca[b.parentLocale]._config}return ca[a]=new P(Q(c,b)),qb[a]&&qb[a].forEach(function(a){nb(a.name,a.config)}),Za(a),ca[a]}return delete ca[a],null}function xa(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Vb;if(!d(a)){if(b=yb(a))return b;a=[a]}a:{for(var c,e,g,l=0;l<a.length;){g=mb(a[l]).split("-");b=g.length;for(c=
(c=mb(a[l+1]))?c.split("-"):null;0<b;){if(e=yb(g.slice(0,b).join("-"))){a=e;break a}if(c&&c.length>=b&&w(g,c,!0)>=b-1)break;b--}l++}a=null}return a}function ob(a){var b,c=a._a;return c&&-2===r(a).overflow&&(b=0>c[Ka]||11<c[Ka]?Ka:1>c[Ea]||c[Ea]>va(c[za],c[Ka])?Ea:0>c[ea]||24<c[ea]||24===c[ea]&&(0!==c[Aa]||0!==c[La]||0!==c[bb])?ea:0>c[Aa]||59<c[Aa]?Aa:0>c[La]||59<c[La]?La:0>c[bb]||999<c[bb]?bb:-1,r(a)._overflowDayOfYear&&(b<za||b>Ea)&&(b=Ea),r(a)._overflowWeeks&&-1===b&&(b=kc),r(a)._overflowWeekday&&
-1===b&&(b=lc),r(a).overflow=b),a}function zb(a){var b,c,d,e,g,l;b=a._i;var k=mc.exec(b)||nc.exec(b);if(k){r(a).iso=!0;b=0;for(c=Bb.length;b<c;b++)if(Bb[b][1].exec(k[1])){e=Bb[b][0];d=!1!==Bb[b][2];break}if(null==e)return void(a._isValid=!1);if(k[3]){b=0;for(c=Wb.length;b<c;b++)if(Wb[b][1].exec(k[3])){g=(k[2]||" ")+Wb[b][0];break}if(null==g)return void(a._isValid=!1)}if(!d&&null!=g)return void(a._isValid=!1);if(k[4]){if(!oc.exec(k[4]))return void(a._isValid=!1);l="Z"}a._f=e+(g||"")+(l||"");fa(a)}else a._isValid=
!1}function Cb(a){var b,c,d,e,g,l,k={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(b=a._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),c=pc.exec(b)){if(b=c[1]?"ddd"+(5===c[1].length?", ":" "):"",d="D MMM "+(10<c[2].length?"YYYY ":"YY "),e="HH:mm"+(c[4]?":ss":""),c[1]){var p="Sun Mon Tue Wed Thu Fri Sat".split(" ")[(new Date(c[2])).getDay()];if(c[1].substr(0,3)!==
p)return r(a).weekdayMismatch=!0,void(a._isValid=!1)}switch(c[5].length){case 2:0===l?g=" +0000":(l="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(c[5][1].toUpperCase())-12,g=(0>l?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:g=k[c[5]];break;default:g=k[" GMT"]}c[5]=g;a._i=c.splice(1).join("");a._f=b+d+e+" ZZ";fa(a);r(a).rfc2822=!0}else a._isValid=!1}function ia(a){var b=qc.exec(a._i);if(null!==b)return void(a._d=new Date(+b[1]));zb(a);!1===a._isValid&&(delete a._isValid,Cb(a),!1===
a._isValid&&(delete a._isValid,c.createFromInputFallback(a)))}function na(a,b,c){return null!=a?a:null!=b?b:c}function Z(a){var b,d,e,g=[];if(!a._d){d=new Date(c.now());d=a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];if(a._w&&null==a._a[Ea]&&null==a._a[Ka]){var l,k,p,u,m,t,q,v;(l=a._w,null!=l.GG||null!=l.W||null!=l.E)?(m=1,t=4,k=na(l.GG,a._a[za],Pa(V(),1,4).year),p=na(l.W,1),(1>(u=na(l.E,1))||7<u)&&(v=!0)):(m=a._locale._week.dow,t=a._locale._week.doy,
p=Pa(V(),m,t),k=na(l.gg,a._a[za],p.year),p=na(l.w,p.week),null!=l.d?(0>(u=l.d)||6<u)&&(v=!0):null!=l.e?(u=l.e+m,(0>l.e||6<l.e)&&(v=!0)):u=m);1>p||p>Ia(k,m,t)?r(a)._overflowWeeks=!0:null!=v?r(a)._overflowWeekday=!0:(q=ta(k,p,u,m,t),a._a[za]=q.year,a._dayOfYear=q.dayOfYear)}null!=a._dayOfYear&&(e=na(a._a[za],d[za]),(a._dayOfYear>(ma(e)?366:365)||0===a._dayOfYear)&&(r(a)._overflowDayOfYear=!0),b=Ja(e,0,a._dayOfYear),a._a[Ka]=b.getUTCMonth(),a._a[Ea]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=
g[b]=d[b];for(;7>b;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ea]&&0===a._a[Aa]&&0===a._a[La]&&0===a._a[bb]&&(a._nextDay=!0,a._a[ea]=0);a._d=(a._useUTC?Ja:$a).apply(null,g);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[ea]=24)}}function fa(a){if(a._f===c.ISO_8601)return void zb(a);if(a._f===c.RFC_2822)return void Cb(a);a._a=[];r(a).empty=!0;var b,d,e,g,l,p=""+a._i,u=p.length,m=0;e=ba(a._f,a._locale).match(ac)||[];for(b=0;b<e.length;b++)if(g=e[b],(d=
(p.match(ua(g,a))||[])[0])&&(l=p.substr(0,p.indexOf(d)),0<l.length&&r(a).unusedInput.push(l),p=p.slice(p.indexOf(d)+d.length),m+=d.length),hb[g]){d?r(a).empty=!1:r(a).unusedTokens.push(g);var t=a;null!=d&&k(Ub,g)&&Ub[g](d,t._a,t,g)}else a._strict&&!d&&r(a).unusedTokens.push(g);r(a).charsLeftOver=u-m;0<p.length&&r(a).unusedInput.push(p);12>=a._a[ea]&&!0===r(a).bigHour&&0<a._a[ea]&&(r(a).bigHour=void 0);r(a).parsedDateParts=a._a.slice(0);r(a).meridiem=a._meridiem;b=a._a;e=ea;p=a._locale;l=a._a[ea];
var u=a._meridiem,q,p=null==u?l:null!=p.meridiemHour?p.meridiemHour(l,u):null!=p.isPM?(q=p.isPM(u),q&&12>l&&(l+=12),q||12!==l||(l=0),l):l;b[e]=p;Z(a);ob(a)}function ib(a){if(!a._d){var b=K(a._i);a._a=m([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});Z(a)}}function Sa(a){var b=a._i,c=a._f;a._locale=a._locale||xa(a._l);if(null===b||void 0===c&&""===b)a=u({nullInput:!0});else if("string"==typeof b&&(a._i=b=a._locale.preparse(b)),A(b))a=new f(ob(b));
else{if(g(b))a._d=b;else if(d(c)){var e,l,k;if(0===a._f.length)r(a).invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)c=0,e=v({},a),null!=a._useUTC&&(e._useUTC=a._useUTC),e._f=a._f[b],fa(e),t(e)&&(c+=r(e).charsLeftOver,c+=10*r(e).unusedTokens.length,r(e).score=c,(null==k||c<k)&&(k=c,l=e));p(a,l||e)}}else c?fa(a):cb(a);a=(t(a)||(a._d=null),a)}return a}function cb(b){var l=b._i;e(l)?b._d=new Date(c.now()):g(l)?b._d=new Date(l.valueOf()):"string"==typeof l?ia(b):d(l)?(b._a=m(l.slice(0),
function(a){return parseInt(a,10)}),Z(b)):a(l)?ib(b):q(l)?b._d=new Date(l):c.createFromInputFallback(b)}function Ra(b,c,e,g,l){var k={};!0!==e&&!1!==e||(g=e,e=void 0);var p;if(p=a(b))a:{p=b;for(var u in p){p=!1;break a}p=!0}(p||d(b)&&0===b.length)&&(b=void 0);k._isAMomentObject=!0;k._useUTC=k._isUTC=l;k._l=e;k._i=b;k._f=c;k._strict=g;b=new f(ob(Sa(k)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function V(a,b,c,d){return Ra(a,b,c,d,!1)}function oa(a,b){var c,e;if(1===b.length&&d(b[0])&&
(b=b[0]),!b.length)return V();c=b[0];for(e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](c)||(c=b[e]);return c}function Ma(a){for(var b in a)if(-1===rb.indexOf(b)||null!=a[b]&&isNaN(a[b]))return!1;b=!1;for(var c=0;c<rb.length;++c)if(a[rb[c]]){if(b)return!1;parseFloat(a[rb[c]])!==y(a[rb[c]])&&(b=!0)}return!0}function db(a){a=K(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,g=a.day||0,l=a.hour||0,k=a.minute||0,p=a.second||0,u=a.millisecond||0;this._isValid=Ma(a);this._milliseconds=+u+1E3*p+
6E4*k+36E5*l;this._days=+g+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=xa();this._bubble()}function jb(a){return a instanceof db}function Ta(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Db(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+W(~~(a/60),2)+b+W(~~a%60,2)})}function sb(a,b){var c=(b||"").match(a);if(null===c)return null;var c=((c[c.length-1]||[])+"").match(rc)||["-",0,0],d=60*c[1]+y(c[2]);return 0===d?0:"+"===c[0]?d:-d}function tb(a,
b){var d,e;return b._isUTC?(d=b.clone(),e=(A(a)||g(a)?a.valueOf():V(a).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),c.updateOffset(d,!1),d):V(a).local()}function ub(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Eb(){return!!this.isValid()&&this._isUTC&&0===this._offset}function pa(a,b){var c,d,e,g=a;jb(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:q(a)?(g={},b?g[b]=a:g.milliseconds=a):(e=sc.exec(a))?(c="-"===e[1]?-1:1,g={y:0,d:y(e[Ea])*c,h:y(e[ea])*c,m:y(e[Aa])*c,s:y(e[La])*
c,ms:y(Ta(1E3*e[bb]))*c}):(e=tc.exec(a))?(c="-"===e[1]?-1:1,g={y:Fa(e[2],c),M:Fa(e[3],c),w:Fa(e[4],c),d:Fa(e[5],c),h:Fa(e[6],c),m:Fa(e[7],c),s:Fa(e[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=V(g.from),g=V(g.to),e=e.isValid()&&g.isValid()?(g=tb(g,e),e.isBefore(g)?c=Fb(e,g):(c=Fb(g,e),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},g={},g.ms=e.milliseconds,g.M=e.months);return d=new db(g),jb(a)&&k(a,"_locale")&&(d._locale=a._locale),d}function Fa(a,
b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Fb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Gb(a,b){return function(c,d){var e,g;return null===d||isNaN(+d)||(B(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),
g=c,c=d,d=g),c="string"==typeof c?+c:c,e=pa(c,d),Hb(this,e,a),this}}function Hb(a,b,d,e){var g=b._milliseconds,l=Ta(b._days);b=Ta(b._months);a.isValid()&&(e=null==e||e,g&&a._d.setTime(a._d.valueOf()+g*d),l&&(g=R(a,"Date")+l*d,a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+"Date"](g)),b&&ya(a,R(a,"Month")+b*d),e&&c.updateOffset(a,l||b))}function Ib(a){var b;return void 0===a?this._locale._abbr:(b=xa(a),null!=b&&(this._locale=b),this)}function Jb(){return this._locale}function kb(a,b){H(0,[a,a.length],
0,b)}function vb(a,b,c,d,e){var g;null==a?a=Pa(this,d,e).year:(g=Ia(a,d,e),b>g&&(b=g),a=ta(a,b,c,d,e),a=Ja(a.year,0,a.dayOfYear),a=(this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this));return a}function Kb(a,b){b[bb]=y(1E3*("0."+a))}function wb(a){return a}function Ua(a,b,c,d){var e=xa();b=l().set(d,b);return e[c](b,a)}function Ga(a,b,c){if(q(a)&&(b=a,a=void 0),a=a||"",null!=b)return Ua(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=Ua(a,b,c,"month");return d}
function Na(a,b,c,d){"boolean"==typeof a?(q(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,q(b)&&(c=b,b=void 0),b=b||"");var e=xa();a=a?e._week.dow:0;if(null!=c)return Ua(b,(c+a)%7,d,"day");e=[];for(c=0;7>c;c++)e[c]=Ua(b,(c+a)%7,d,"day");return e}function Va(a,b,c,d){b=pa(b,c);return a._milliseconds+=d*b._milliseconds,a._days+=d*b._days,a._months+=d*b._months,a._bubble()}function eb(a){return 0>a?Math.floor(a):Math.ceil(a)}function qa(a){return function(){return this.as(a)}}function da(a){return function(){return this.isValid()?
this._data[a]:NaN}}function Wa(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ra(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=Xb(this._milliseconds)/1E3,e=Xb(this._days),g=Xb(this._months);a=h(d/60);b=h(a/60);d%=60;a%=60;c=h(g/12);var g=g%12,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(c?c+"Y":"")+(g?g+"M":"")+(e?e+"D":"")+(b||a||d?"T":"")+(b?b+"H":"")+(a?a+"M":"")+(d?d+"S":""):"P0D"}var wa,ab=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),
c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1},Qb=c.momentProperties=[],Rb=!1,$b={};c.suppressDeprecationWarnings=!1;c.deprecationHandler=null;var uc=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)k(a,b)&&c.push(b);return c},pb={},ha={},ac=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ab=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
Sb={},hb={},cc=/\d/,sa=/\d\d/,dc=/\d{3}/,Yb=/\d{4}/,Lb=/[+-]?\d{6}/,Y=/\d\d?/,ec=/\d\d\d\d?/,fc=/\d\d\d\d\d\d?/,Mb=/\d{1,3}/,Zb=/\d{1,4}/,Nb=/[+-]?\d{1,6}/,vc=/\d+/,Ob=/[+-]?\d+/,wc=/Z|[+-]\d\d:?\d\d/gi,Pb=/Z|[+-]\d\d(?::?\d\d)?/gi,xb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Tb={},Ub={},za=0,Ka=1,Ea=2,ea=3,Aa=4,La=5,bb=6,kc=7,lc=8,ga=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===
a)return b;return-1};H("M",["MM",2],"Mo",function(){return this.month()+1});H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});H("MMMM",0,0,function(a){return this.localeData().months(this,a)});I("month","M");ha.month=8;G("M",Y);G("MM",Y,sa);G("MMM",function(a,b){return b.monthsShortRegex(a)});G("MMMM",function(a,b){return b.monthsRegex(a)});M(["M","MM"],function(a,b){b[Ka]=y(a)-1});M(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[Ka]=d:r(c).invalidMonth=
a});var gc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;H("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});H(0,["YY",2],0,function(){return this.year()%100});H(0,["YYYY",4],0,"year");H(0,["YYYYY",5],0,"year");H(0,["YYYYYY",6,!0],0,"year");I("year","y");ha.year=1;G("Y",Ob);G("YY",Y,sa);G("YYYY",Zb,Yb);G("YYYYY",Nb,Lb);G("YYYYYY",Nb,Lb);M(["YYYYY","YYYYYY"],za);M("YYYY",function(a,b){b[za]=2===a.length?c.parseTwoDigitYear(a):y(a)});M("YY",function(a,b){b[za]=c.parseTwoDigitYear(a)});M("Y",function(a,
b){b[za]=parseInt(a,10)});c.parseTwoDigitYear=function(a){return y(a)+(68<y(a)?1900:2E3)};var hc=N("FullYear",!0);H("w",["ww",2],"wo","week");H("W",["WW",2],"Wo","isoWeek");I("week","w");I("isoWeek","W");ha.week=5;ha.isoWeek=5;G("w",Y);G("ww",Y,sa);G("W",Y);G("WW",Y,sa);la(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=y(a)});H("d",0,"do","day");H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});H("dddd",
0,0,function(a){return this.localeData().weekdays(this,a)});H("e",0,0,"weekday");H("E",0,0,"isoWeekday");I("day","d");I("weekday","e");I("isoWeekday","E");ha.day=11;ha.weekday=11;ha.isoWeekday=11;G("d",Y);G("e",Y);G("E",Y);G("dd",function(a,b){return b.weekdaysMinRegex(a)});G("ddd",function(a,b){return b.weekdaysShortRegex(a)});G("dddd",function(a,b){return b.weekdaysRegex(a)});la(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:r(c).invalidWeekday=a});
la(["d","e","E"],function(a,b,c,d){b[d]=y(a)});H("H",["HH",2],0,"hour");H("h",["hh",2],0,Ba);H("k",["kk",2],0,function(){return this.hours()||24});H("hmm",0,0,function(){return""+Ba.apply(this)+W(this.minutes(),2)});H("hmmss",0,0,function(){return""+Ba.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)});H("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)});H("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)});Ca("a",!0);Ca("A",!1);I("hour","h");ha.hour=
13;G("a",gb);G("A",gb);G("H",Y);G("h",Y);G("k",Y);G("HH",Y,sa);G("hh",Y,sa);G("kk",Y,sa);G("hmm",ec);G("hmmss",fc);G("Hmm",ec);G("Hmmss",fc);M(["H","HH"],ea);M(["k","kk"],function(a,b,c){a=y(a);b[ea]=24===a?0:a});M(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});M(["h","hh"],function(a,b,c){b[ea]=y(a);r(c).bigHour=!0});M("hmm",function(a,b,c){var d=a.length-2;b[ea]=y(a.substr(0,d));b[Aa]=y(a.substr(d));r(c).bigHour=!0});M("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[ea]=
y(a.substr(0,d));b[Aa]=y(a.substr(d,2));b[La]=y(a.substr(e));r(c).bigHour=!0});M("Hmm",function(a,b,c){c=a.length-2;b[ea]=y(a.substr(0,c));b[Aa]=y(a.substr(c))});M("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[ea]=y(a.substr(0,c));b[Aa]=y(a.substr(c,2));b[La]=y(a.substr(d))});var Vb,xc=N("Hours",!0),bc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",
LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),meridiemParse:/[ap]\.?m?\.?/i},ca={},qb={},mc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
oc=/Z|[+-]\d\d(?::?\d\d)?/,Bb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Wb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",
/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qc=/^\/?Date\((\-?\d+)/i,pc=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;c.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});c.ISO_8601=function(){};c.RFC_2822=function(){};var yc=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=V.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:u()}),zc=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=V.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:
a:u()}),rb="year quarter month week day hour minute second millisecond".split(" ");Db("Z",":");Db("ZZ","");G("Z",Pb);G("ZZ",Pb);M(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=sb(Pb,a)});var rc=/([\+\-]|\d\d)/gi;c.updateOffset=function(){};var sc=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,tc=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;pa.fn=db.prototype;pa.invalid=function(){return pa(NaN)};
var Ac=Gb(1,"add"),Bc=Gb(-1,"subtract");c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ic=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100});H(0,["GG",2],0,function(){return this.isoWeekYear()%100});kb("gggg","weekYear");kb("ggggg","weekYear");
kb("GGGG","isoWeekYear");kb("GGGGG","isoWeekYear");I("weekYear","gg");I("isoWeekYear","GG");ha.weekYear=1;ha.isoWeekYear=1;G("G",Ob);G("g",Ob);G("GG",Y,sa);G("gg",Y,sa);G("GGGG",Zb,Yb);G("gggg",Zb,Yb);G("GGGGG",Nb,Lb);G("ggggg",Nb,Lb);la(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=y(a)});la(["gg","GG"],function(a,b,d,e){b[e]=c.parseTwoDigitYear(a)});H("Q",0,"Qo","quarter");I("quarter","Q");ha.quarter=7;G("Q",cc);M("Q",function(a,b){b[Ka]=3*(y(a)-1)});H("D",["DD",2],"Do","date");
I("date","D");ha.date=9;G("D",Y);G("DD",Y,sa);G("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient});M(["D","DD"],Ea);M("Do",function(a,b){b[Ea]=y(a.match(Y)[0],10)});var jc=N("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear");I("dayOfYear","DDD");ha.dayOfYear=4;G("DDD",Mb);G("DDDD",dc);M(["DDD","DDDD"],function(a,b,c){c._dayOfYear=y(a)});H("m",["mm",2],0,"minute");I("minute","m");ha.minute=14;G("m",Y);G("mm",Y,sa);M(["m","mm"],Aa);var Cc=N("Minutes",
!1);H("s",["ss",2],0,"second");I("second","s");ha.second=15;G("s",Y);G("ss",Y,sa);M(["s","ss"],La);var Dc=N("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)});H(0,["SS",2],0,function(){return~~(this.millisecond()/10)});H(0,["SSS",3],0,"millisecond");H(0,["SSSS",4],0,function(){return 10*this.millisecond()});H(0,["SSSSS",5],0,function(){return 100*this.millisecond()});H(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});H(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});
H(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});H(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});I("millisecond","ms");ha.millisecond=16;G("S",Mb,cc);G("SS",Mb,sa);G("SSS",Mb,dc);var Xa;for(Xa="SSSS";9>=Xa.length;Xa+="S")G(Xa,vc);for(Xa="S";9>=Xa.length;Xa+="S")M(Xa,Kb);var Ec=N("Milliseconds",!1);H("z",0,0,"zoneAbbr");H("zz",0,0,"zoneName");var E=f.prototype;E.add=Ac;E.calendar=function(a,b){var d=a||V(),e=tb(d,this).startOf("day"),e=c.calendarFormat(this,e)||"sameElse",
g=b&&(F(b[e])?b[e].call(this,d):b[e]);return this.format(g||this.localeData().calendar(e,this,V(d)))};E.clone=function(){return new f(this)};E.diff=function(a,b,c){var d,e;if(this.isValid())if(a=tb(a,this),a.isValid()){d=6E4*(a.utcOffset()-this.utcOffset());b=O(b);if("year"===b||"month"===b||"quarter"===b){var g;d=12*(a.year()-this.year())+(a.month()-this.month());var l=this.clone().add(d,"months");a=(0>a-l?(e=this.clone().add(d-1,"months"),g=(a-l)/(l-e)):(e=this.clone().add(d+1,"months"),g=(a-l)/
(e-l)),-(d+g)||0);"quarter"===b?a/=3:"year"===b&&(a/=12)}else e=this-a,a="second"===b?e/1E3:"minute"===b?e/6E4:"hour"===b?e/36E5:"day"===b?(e-d)/864E5:"week"===b?(e-d)/6048E5:e;b=c?a:h(a)}else b=NaN;else b=NaN;return b};E.endOf=function(a){return void 0===(a=O(a))||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))};E.format=function(a){a||(a=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);a=aa(this,a);return this.localeData().postformat(a)};
E.from=function(a,b){return this.isValid()&&(A(a)&&a.isValid()||V(a).isValid())?pa({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};E.fromNow=function(a){return this.from(V(),a)};E.to=function(a,b){return this.isValid()&&(A(a)&&a.isValid()||V(a).isValid())?pa({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};E.toNow=function(a){return this.to(V(),a)};E.get=function(a){return a=O(a),F(this[a])?this[a]():this};E.invalidAt=function(){return r(this).overflow};
E.isAfter=function(a,b){var c=A(a)?a:V(a);return!(!this.isValid()||!c.isValid())&&(b=O(e(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())};E.isBefore=function(a,b){var c=A(a)?a:V(a);return!(!this.isValid()||!c.isValid())&&(b=O(e(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())};E.isBetween=function(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&
(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};E.isSame=function(a,b){var c,d=A(a)?a:V(a);return!(!this.isValid()||!d.isValid())&&(b=O(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))};E.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};E.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};E.isValid=function(){return t(this)};E.lang=ic;E.locale=
Ib;E.localeData=Jb;E.max=zc;E.min=yc;E.parsingFlags=function(){return p({},r(this))};E.set=function(a,b){if("object"==typeof a){a=K(a);for(var c=J(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=O(a),F(this[a]))return this[a](b);return this};E.startOf=function(a){switch(a=O(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this};E.subtract=Bc;E.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};E.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};E.toDate=function(){return new Date(this.valueOf())};E.toISOString=
function(){if(!this.isValid())return null;var a=this.clone().utc();return 0>a.year()||9999<a.year()?aa(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(Date.prototype.toISOString)?this.toDate().toISOString():aa(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};E.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var a="["+a+'("]',c=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+
c+"-MM-DD[T]HH:mm:ss.SSS"+(b+'[")]'))};E.toJSON=function(){return this.isValid()?this.toISOString():null};E.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};E.unix=function(){return Math.floor(this.valueOf()/1E3)};E.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};E.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};E.year=hc;E.isLeapYear=function(){return ma(this.year())};
E.weekYear=function(a){return vb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};E.isoWeekYear=function(a){return vb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};E.quarter=E.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};E.month=Qa;E.daysInMonth=function(){return va(this.year(),this.month())};E.week=E.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};
E.isoWeek=E.isoWeeks=function(a){var b=Pa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};E.weeksInYear=function(){var a=this.localeData()._week;return Ia(this.year(),a.dow,a.doy)};E.isoWeeksInYear=function(){return Ia(this.year(),1,4)};E.date=jc;E.day=E.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a)var c=a,d=this.localeData(),b=(a="string"!=typeof c?c:isNaN(c)?(c=d.weekdaysParse(c),"number"==typeof c?c:null):parseInt(c,
10),this.add(a-b,"d"));return b};E.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};E.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a;return this.day(this.day()%7?a:a-7)}return this.day()||7};E.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/
864E5)+1;return null==a?b:this.add(a-b,"d")};E.hour=E.hours=xc;E.minute=E.minutes=Cc;E.second=E.seconds=Dc;E.millisecond=E.milliseconds=Ec;E.utcOffset=function(a,b,d){var e,g=this._offset||0;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"==typeof a){if(null===(a=sb(Pb,a)))return this}else 16>Math.abs(a)&&!d&&(a*=60);return!this._isUTC&&b&&(e=ub(this)),this._offset=a,this._isUTC=!0,null!=e&&this.add(e,"m"),g!==a&&(!b||this._changeInProgress?Hb(this,pa(a-g,"m"),1,!1):this._changeInProgress||
(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?g:ub(this)};E.utc=function(a){return this.utcOffset(0,a)};E.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(ub(this),"m")),this};E.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=sb(wc,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this};E.hasAlignedHourOffset=function(a){return!!this.isValid()&&
(a=a?V(a).utcOffset():0,0==(this.utcOffset()-a)%60)};E.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};E.isLocal=function(){return!!this.isValid()&&!this._isUTC};E.isUtcOffset=function(){return!!this.isValid()&&this._isUTC};E.isUtc=Eb;E.isUTC=Eb;E.zoneAbbr=function(){return this._isUTC?"UTC":""};E.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};E.dates=x("dates accessor is deprecated. Use date instead.",
jc);E.months=x("months accessor is deprecated. Use month instead",Qa);E.years=x("years accessor is deprecated. Use year instead",hc);E.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});E.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!e(this._isDSTShifted))return this._isDSTShifted;
var a={};if(v(a,this),a=Sa(a),a._a){var b=a._isUTC?l(a._a):V(a._a);this._isDSTShifted=this.isValid()&&0<w(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var X=P.prototype;X.calendar=function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return F(a)?a.call(b,c):a};X.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])};
X.invalidDate=function(){return this._invalidDate};X.ordinal=function(a){return this._ordinal.replace("%d",a)};X.preparse=wb;X.postformat=wb;X.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return F(e)?e(a,b,c,d):e.replace(/%d/i,a)};X.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":"past"];return F(c)?c(b):c.replace(/%s/i,b)};X.set=function(a){var b,c;for(c in a)b=a[c],F(b)?this[c]=b:this["_"+c]=b;this._config=a;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||
this._ordinalParse.source)+"|"+/\d{1,2}/.source)};X.months=function(a,b){return a?d(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||gc).test(b)?"format":"standalone"][a.month()]:d(this._months)?this._months:this._months.standalone};X.monthsShort=function(a,b){return a?d(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[gc.test(b)?"format":"standalone"][a.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};X.monthsParse=function(a,
b,c){var d,e,g;if(this._monthsParseExact){g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;12>a;++a)e=l([2E3,a]),this._shortMonthsParse[a]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(e,"").toLocaleLowerCase();return c?"MMM"===b?(d=ga.call(this._shortMonthsParse,g),-1!==d?d:null):(d=ga.call(this._longMonthsParse,g),-1!==d?d:null):"MMM"===b?-1!==(d=ga.call(this._shortMonthsParse,g))?d:(d=
ga.call(this._longMonthsParse,g),-1!==d?d:null):-1!==(d=ga.call(this._longMonthsParse,g))?d:(d=ga.call(this._shortMonthsParse,g),-1!==d?d:null)}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if((e=l([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(g=
"^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(g.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};X.monthsRegex=function(a){return this._monthsParseExact?(k(this,"_monthsRegex")||Da.call(this),a?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=xb),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)};
X.monthsShortRegex=function(a){return this._monthsParseExact?(k(this,"_monthsRegex")||Da.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=xb),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)};X.week=function(a){return Pa(a,this._week.dow,this._week.doy).week};X.firstDayOfYear=function(){return this._week.doy};X.firstDayOfWeek=function(){return this._week.dow};X.weekdays=function(a,b){return a?
d(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:d(this._weekdays)?this._weekdays:this._weekdays.standalone};X.weekdaysMin=function(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin};X.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort};X.weekdaysParse=function(a,b,c){var d,e,g;if(this._weekdaysParseExact){g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=
[],this._minWeekdaysParse=[],a=0;7>a;++a)e=l([2E3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(e,"").toLocaleLowerCase();return c?"dddd"===b?(d=ga.call(this._weekdaysParse,g),-1!==d?d:null):"ddd"===b?(d=ga.call(this._shortWeekdaysParse,g),-1!==d?d:null):(d=ga.call(this._minWeekdaysParse,g),-1!==d?d:null):"dddd"===b?-1!==(d=ga.call(this._weekdaysParse,g))?
d:-1!==(d=ga.call(this._shortWeekdaysParse,g))?d:(d=ga.call(this._minWeekdaysParse,g),-1!==d?d:null):"ddd"===b?-1!==(d=ga.call(this._shortWeekdaysParse,g))?d:-1!==(d=ga.call(this._weekdaysParse,g))?d:(d=ga.call(this._minWeekdaysParse,g),-1!==d?d:null):-1!==(d=ga.call(this._minWeekdaysParse,g))?d:-1!==(d=ga.call(this._weekdaysParse,g))?d:(d=ga.call(this._shortWeekdaysParse,g),-1!==d?d:null)}this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=
[]);for(d=0;7>d;d++)if((e=l([2E3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(g="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(g.replace(".",
""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d};X.weekdaysRegex=function(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||lb.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=xb),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)};X.weekdaysShortRegex=
function(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||lb.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xb),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)};X.weekdaysMinRegex=function(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||lb.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=
xb),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)};X.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};X.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};Za("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===y(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}});c.lang=x("moment.lang is deprecated. Use moment.locale instead.",Za);c.langData=x("moment.langData is deprecated. Use moment.localeData instead.",
xa);var Oa=Math.abs,Fc=qa("ms"),Gc=qa("s"),Hc=qa("m"),Ic=qa("h"),Jc=qa("d"),Kc=qa("w"),Lc=qa("M"),Mc=qa("y"),Nc=da("milliseconds"),Oc=da("seconds"),Pc=da("minutes"),Qc=da("hours"),Rc=da("days"),Sc=da("months"),Tc=da("years"),Ya=Math.round,Ha={ss:44,s:45,m:45,h:22,d:26,M:11},Xb=Math.abs,T=db.prototype;T.isValid=function(){return this._isValid};T.abs=function(){var a=this._data;return this._milliseconds=Oa(this._milliseconds),this._days=Oa(this._days),this._months=Oa(this._months),a.milliseconds=Oa(a.milliseconds),
a.seconds=Oa(a.seconds),a.minutes=Oa(a.minutes),a.hours=Oa(a.hours),a.months=Oa(a.months),a.years=Oa(a.years),this};T.add=function(a,b){return Va(this,a,b,1)};T.subtract=function(a,b){return Va(this,a,b,-1)};T.as=function(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if("month"===(a=O(a))||"year"===a)return b=this._days+d/864E5,c=this._months+4800*b/146097,"month"===a?c:c/12;switch(b=this._days+Math.round(146097*this._months/4800),a){case "week":return b/7+d/6048E5;case "day":return b+
d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw Error("Unknown unit "+a);}};T.asMilliseconds=Fc;T.asSeconds=Gc;T.asMinutes=Hc;T.asHours=Ic;T.asDays=Jc;T.asWeeks=Kc;T.asMonths=Lc;T.asYears=Mc;T.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*y(this._months/12):NaN};T._bubble=function(){var a,b,c,d,e,g=this._milliseconds,
l=this._days,k=this._months,p=this._data;return 0<=g&&0<=l&&0<=k||0>=g&&0>=l&&0>=k||(g+=864E5*eb(146097*k/4800+l),l=0,k=0),p.milliseconds=g%1E3,a=h(g/1E3),p.seconds=a%60,b=h(a/60),p.minutes=b%60,c=h(b/60),p.hours=c%24,l+=h(c/24),e=h(4800*l/146097),k+=e,l-=eb(146097*e/4800),d=h(k/12),k%=12,p.days=l,p.months=k,p.years=d,this};T.get=function(a){return a=O(a),this.isValid()?this[a+"s"]():NaN};T.milliseconds=Nc;T.seconds=Oc;T.minutes=Pc;T.hours=Qc;T.days=Rc;T.weeks=function(){return h(this.days()/7)};
T.months=Sc;T.years=Tc;T.humanize=function(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c;c=!a;var d=pa(this).abs(),e=Ya(d.as("s")),g=Ya(d.as("m")),l=Ya(d.as("h")),k=Ya(d.as("d")),p=Ya(d.as("M")),d=Ya(d.as("y")),e=e<=Ha.ss&&["s",e]||e<Ha.s&&["ss",e]||1>=g&&["m"]||g<Ha.m&&["mm",g]||1>=l&&["h"]||l<Ha.h&&["hh",l]||1>=k&&["d"]||k<Ha.d&&["dd",k]||1>=p&&["M"]||p<Ha.M&&["MM",p]||1>=d&&["y"]||["yy",d];c=(e[2]=c,e[3]=0<+this,e[4]=b,Wa.apply(null,e));return a&&(c=b.pastFuture(+this,
c)),b.postformat(c)};T.toISOString=ra;T.toString=ra;T.toJSON=ra;T.locale=Ib;T.localeData=Jb;T.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ra);T.lang=ic;H("X",0,0,"unix");H("x",0,0,"valueOf");G("x",Ob);G("X",/[+-]?\d+(\.\d{1,3})?/);M("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});M("x",function(a,b,c){c._d=new Date(y(a))});c.version="2.18.1";wa=V;return c.fn=E,c.min=function(){return oa("isBefore",[].slice.call(arguments,0))},c.max=
function(){return oa("isAfter",[].slice.call(arguments,0))},c.now=function(){return Date.now?Date.now():+new Date},c.utc=l,c.unix=function(a){return V(1E3*a)},c.months=function(a,b){return Ga(a,b,"months")},c.isDate=g,c.locale=Za,c.invalid=u,c.duration=pa,c.isMoment=A,c.weekdays=function(a,b,c){return Na(a,b,c,"weekdays")},c.parseZone=function(){return V.apply(null,arguments).parseZone()},c.localeData=xa,c.isDuration=jb,c.monthsShort=function(a,b){return Ga(a,b,"monthsShort")},c.weekdaysMin=function(a,
b,c){return Na(a,b,c,"weekdaysMin")},c.defineLocale=nb,c.updateLocale=function(a,b){if(null!=b){var c;c=bc;null!=ca[a]&&(c=ca[a]._config);b=Q(c,b);c=new P(b);c.parentLocale=ca[a];ca[a]=c;Za(a)}else null!=ca[a]&&(null!=ca[a].parentLocale?ca[a]=ca[a].parentLocale:null!=ca[a]&&delete ca[a]);return ca[a]},c.locales=function(){return uc(ca)},c.weekdaysShort=function(a,b,c){return Na(a,b,c,"weekdaysShort")},c.normalizeUnits=O,c.relativeTimeRounding=function(a){return void 0===a?Ya:"function"==typeof a&&
(Ya=a,!0)},c.relativeTimeThreshold=function(a,b){return void 0!==Ha[a]&&(void 0===b?Ha[a]:(Ha[a]=b,"s"===a&&(Ha.ss=b-1),!0))},c.calendarFormat=function(a,b){var c=a.diff(b,"days",!0);return-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"},c.prototype=E,c})}).call(h,d(84)(f))},function(f,h){f.exports=function(d){return d.webpackPolyfill||(d.deprecate=function(){},d.paths=[],d.children=[],d.webpackPolyfill=1),d}},function(f,h){function d(b){throw Error("Cannot find module '"+
b+"'.");}d.keys=function(){return[]};d.resolve=d;f.exports=d;d.id=85},function(f,h){(function(d){function b(a,b){var c=b||0,d=q;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function c(a,c,d){d=c&&d||0;"string"==typeof a&&(c="binary"==a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,c)for(var e=0;16>e;e++)c[d+e]=a[e];
return c||b(a)}var n;if((d="undefined"!=typeof window?window:void 0!==d?d:null)&&d.crypto&&crypto.getRandomValues){var a=new Uint8Array(16);n=function(){return crypto.getRandomValues(a),a}}if(!n){var e=Array(16);n=function(){for(var a,b=0;16>b;b++)0==(3&b)&&(a=4294967296*Math.random()),e[b]=a>>>((3&b)<<3)&255;return e}}var q=[],g={};for(d=0;256>d;d++)q[d]=(d+256).toString(16).substr(1),g[q[d]]=d;d=n();var m=[1|d[0],d[1],d[2],d[3],d[4],d[5]],k=16383&(d[6]<<8|d[7]),p=0,l=0;c.v1=function(a,c,d){d=c&&
d||0;var e=c||[];a=a||{};var g=void 0!==a.clockseq?a.clockseq:k,q=void 0!==a.msecs?a.msecs:(new Date).getTime(),f=void 0!==a.nsecs?a.nsecs:l+1,n=q-p+(f-l)/1E4;if(0>n&&void 0===a.clockseq&&(g=g+1&16383),(0>n||q>p)&&void 0===a.nsecs&&(f=0),1E4<=f)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");p=q;l=f;k=g;q+=122192928E5;f=(1E4*(268435455&q)+f)%4294967296;e[d++]=f>>>24&255;e[d++]=f>>>16&255;e[d++]=f>>>8&255;e[d++]=255&f;q=q/4294967296*1E4&268435455;e[d++]=q>>>8&255;e[d++]=255&q;e[d++]=
q>>>24&15|16;e[d++]=q>>>16&255;e[d++]=g>>>8|128;e[d++]=255&g;a=a.node||m;for(g=0;6>g;g++)e[d+g]=a[g];return c||b(e)};c.v4=c;c.parse=function(a,b,c){var d=b&&c||0,e=0;b=b||[];for(a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>e&&(b[d+e++]=g[a])});16>e;)b[d+e++]=0;return b};c.unparse=b;f.exports=c}).call(h,function(){return this}())},function(f,h,d){h.util=d(1);h.DOMutil=d(88);h.DataSet=d(89);h.DataView=d(93);h.Queue=d(92);h.Graph3d=d(94);h.graph3d={Camera:d(102),Filter:d(107),Point2d:d(101),
Point3d:d(100),Slider:d(108),StepNumber:d(109)};h.moment=d(82);h.Hammer=d(113);h.keycharm=d(116)},function(f,h){h.prepareElements=function(d){for(var b in d)d.hasOwnProperty(b)&&(d[b].redundant=d[b].used,d[b].used=[])};h.cleanupElements=function(d){for(var b in d)if(d.hasOwnProperty(b)&&d[b].redundant){for(var c=0;c<d[b].redundant.length;c++)d[b].redundant[c].parentNode.removeChild(d[b].redundant[c]);d[b].redundant=[]}};h.resetElements=function(d){h.prepareElements(d);h.cleanupElements(d);h.prepareElements(d)};
h.getSVGElement=function(d,b,c){var f;return b.hasOwnProperty(d)?0<b[d].redundant.length?(f=b[d].redundant[0],b[d].redundant.shift()):(f=document.createElementNS("http://www.w3.org/2000/svg",d),c.appendChild(f)):(f=document.createElementNS("http://www.w3.org/2000/svg",d),b[d]={used:[],redundant:[]},c.appendChild(f)),b[d].used.push(f),f};h.getDOMElement=function(d,b,c,f){var a;return b.hasOwnProperty(d)?0<b[d].redundant.length?(a=b[d].redundant[0],b[d].redundant.shift()):(a=document.createElement(d),
void 0!==f?c.insertBefore(a,f):c.appendChild(a)):(a=document.createElement(d),b[d]={used:[],redundant:[]},void 0!==f?c.insertBefore(a,f):c.appendChild(a)),b[d].used.push(a),a};h.drawPoint=function(d,b,c,f,a,e){var q;if("circle"==c.style?(q=h.getSVGElement("circle",f,a),q.setAttributeNS(null,"cx",d),q.setAttributeNS(null,"cy",b),q.setAttributeNS(null,"r",.5*c.size)):(q=h.getSVGElement("rect",f,a),q.setAttributeNS(null,"x",d-.5*c.size),q.setAttributeNS(null,"y",b-.5*c.size),q.setAttributeNS(null,"width",
c.size),q.setAttributeNS(null,"height",c.size)),void 0!==c.styles&&q.setAttributeNS(null,"style",c.styles),q.setAttributeNS(null,"class",c.className+" vis-point"),e)c=h.getSVGElement("text",f,a),e.xOffset&&(d+=e.xOffset),e.yOffset&&(b+=e.yOffset),e.content&&(c.textContent=e.content),e.className&&c.setAttributeNS(null,"class",e.className+" vis-label"),c.setAttributeNS(null,"x",d),c.setAttributeNS(null,"y",b);return q};h.drawBar=function(d,b,c,f,a,e,q,g){0!=f&&(0>f&&(f*=-1,b-=f),e=h.getSVGElement("rect",
e,q),e.setAttributeNS(null,"x",d-.5*c),e.setAttributeNS(null,"y",b),e.setAttributeNS(null,"width",c),e.setAttributeNS(null,"height",f),e.setAttributeNS(null,"class",a),g&&e.setAttributeNS(null,"style",g))}},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(a&&!Array.isArray(a)&&(b=a,a=null),this._options=b||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var c=(0,e["default"])(this._options.type),d=
0,g=c.length;d<g;d++){var t=c[d],u=this._options.type[t];this._type[t]="Date"==u||"ISODate"==u||"ASPDate"==u?"Date":u}if(this._options.convert)throw Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={};a&&this.add(a);this.setOptions(b)}h=d(90);var n=b(h);h=d(62);var a=b(h);h=d(58);var e=b(h),q=d(1),g=d(92);c.prototype.setOptions=function(b){b&&void 0!==b.queue&&(!1===b.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=g.extend(this,
{replace:["add","update","remove"]})),"object"===(0,a["default"])(b.queue)&&this._queue.setOptions(b.queue)))};c.prototype.on=function(a,b){var c=this._subscribers[a];c||(c=[],this._subscribers[a]=c);c.push({callback:b})};c.prototype.subscribe=function(){throw Error("DataSet.subscribe is deprecated. Use DataSet.on instead.");};c.prototype.off=function(a,b){var c=this._subscribers[a];c&&(this._subscribers[a]=c.filter(function(a){return a.callback!=b}))};c.prototype.unsubscribe=function(){throw Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.");
};c.prototype._trigger=function(a,b,c){if("*"==a)throw Error("Cannot trigger event *");var d=[];a in this._subscribers&&(d=d.concat(this._subscribers[a]));"*"in this._subscribers&&(d=d.concat(this._subscribers["*"]));for(var e=0,g=d.length;e<g;e++){var u=d[e];u.callback&&u.callback(a,b,c||null)}};c.prototype.add=function(b,c){var d,e=[];if(Array.isArray(b))for(var g=0,t=b.length;g<t;g++)d=this._addItem(b[g]),e.push(d);else{if(!b||"object"!==(void 0===b?"undefined":(0,a["default"])(b)))throw Error("Unknown dataType");
d=this._addItem(b);e.push(d)}return e.length&&this._trigger("add",{items:e},c),e};c.prototype.update=function(b,c){var d=[],e=[],g=[],t=[],u=this,v=u._fieldId,f=function(a){var b=a[v];if(u._data[b]){var c=q.extend({},u._data[b]),b=u._updateItem(a);e.push(b);t.push(a);g.push(c)}else b=u._addItem(a),d.push(b)};if(Array.isArray(b))for(var A=0,n=b.length;A<n;A++)b[A]&&"object"===(0,a["default"])(b[A])?f(b[A]):console.warn("Ignoring input item, which is not an object at index "+A);else{if(!b||"object"!==
(void 0===b?"undefined":(0,a["default"])(b)))throw Error("Unknown dataType");f(b)}(d.length&&this._trigger("add",{items:d},c),e.length)&&this._trigger("update",{items:e,oldData:g,data:t},c);return d.concat(e)};c.prototype.get=function(a,b){var c,d,g,t=q.getType(a);"String"==t||"Number"==t?(c=a,g=b):"Array"==t?(d=a,g=b):g=a;var u;u=g&&g.returnType?-1==["Array","Object"].indexOf(g.returnType)?"Array":g.returnType:"Array";var v,f,A=g&&g.type||this._options.type,n=g&&g.filter,h=[];if(void 0!=c)(v=this._getItem(c,
A))&&n&&!n(v)&&(v=null);else if(void 0!=d)for(t=0,f=d.length;t<f;t++)v=this._getItem(d[t],A),n&&!n(v)||h.push(v);else for(d=(0,e["default"])(this._data),t=0,f=d.length;t<f;t++)v=d[t],v=this._getItem(v,A),n&&!n(v)||h.push(v);if(g&&g.order&&void 0==c&&this._sort(h,g.order),g&&g.fields)if(g=g.fields,void 0!=c)v=this._filterFields(v,g);else for(t=0,f=h.length;t<f;t++)h[t]=this._filterFields(h[t],g);if("Object"==u){g={};t=0;for(f=h.length;t<f;t++)c=h[t],g[c.id]=c;return g}return void 0!=c?v:h};c.prototype.getIds=
function(a){var b,c,d,g=this._data,t=a&&a.filter,u=a&&a.order,q=a&&a.type||this._options.type,f=(0,e["default"])(g),n=[];if(t)if(u){d=[];a=0;for(b=f.length;a<b;a++)c=f[a],c=this._getItem(c,q),t(c)&&d.push(c);this._sort(d,u);a=0;for(b=d.length;a<b;a++)n.push(d[a][this._fieldId])}else for(a=0,b=f.length;a<b;a++)c=f[a],c=this._getItem(c,q),t(c)&&n.push(c[this._fieldId]);else if(u){d=[];a=0;for(b=f.length;a<b;a++)c=f[a],d.push(g[c]);this._sort(d,u);a=0;for(b=d.length;a<b;a++)n.push(d[a][this._fieldId])}else for(a=
0,b=f.length;a<b;a++)c=f[a],c=g[c],n.push(c[this._fieldId]);return n};c.prototype.getDataSet=function(){return this};c.prototype.forEach=function(a,b){var c,d,g,t,u=b&&b.filter,q=b&&b.type||this._options.type;c=this._data;var f=(0,e["default"])(c);if(b&&b.order)for(u=this.get(b),c=0,d=u.length;c<d;c++)g=u[c],t=g[this._fieldId],a(g,t);else for(c=0,d=f.length;c<d;c++)t=f[c],g=this._getItem(t,q),u&&!u(g)||a(g,t)};c.prototype.map=function(a,b){var c,d,g,t,u=b&&b.filter,q=b&&b.type||this._options.type,
f=[];c=this._data;var n=(0,e["default"])(c);c=0;for(d=n.length;c<d;c++)g=n[c],t=this._getItem(g,q),u&&!u(t)||f.push(a(t,g));return b&&b.order&&this._sort(f,b.order),f};c.prototype._filterFields=function(a,b){if(!a)return a;var c,d,g={},t=(0,e["default"])(a),u=t.length;if(Array.isArray(b))for(c=0;c<u;c++)d=t[c],-1!=b.indexOf(d)&&(g[d]=a[d]);else for(c=0;c<u;c++)d=t[c],b.hasOwnProperty(d)&&(g[b[d]]=a[d]);return g};c.prototype._sort=function(a,b){if(q.isString(b))a.sort(function(a,c){var d=a[b],e=c[b];
return d>e?1:d<e?-1:0});else{if("function"!=typeof b)throw new TypeError("Order must be a function or a string");a.sort(b)}};c.prototype.remove=function(a,b){var c,d,e,g,u=[],q=[],f;f=Array.isArray(a)?a:[a];c=0;for(d=f.length;c<d;c++)(g=this._remove(f[c]))&&void 0!=(e=g[this._fieldId])&&(u.push(e),q.push(g));return u.length&&this._trigger("remove",{items:u,oldData:q},b),u};c.prototype._remove=function(b){var c,d;return q.isNumber(b)||q.isString(b)?d=b:b&&"object"===(void 0===b?"undefined":(0,a["default"])(b))&&
(d=b[this._fieldId]),void 0!==d&&this._data[d]?(c=this._data[d],delete this._data[d],this.length--,c):null};c.prototype.clear=function(a){var b,c,d=(0,e["default"])(this._data),g=[];b=0;for(c=d.length;b<c;b++)g.push(this._data[d[b]]);return this._data={},this.length=0,this._trigger("remove",{items:d,oldData:g},a),d};c.prototype.max=function(a){var b,c,d=this._data,g=(0,e["default"])(d),t=null,u=null;b=0;for(c=g.length;b<c;b++){var q=d[g[b]],f=q[a];null!=f&&(!t||f>u)&&(t=q,u=f)}return t};c.prototype.min=
function(a){var b,c,d=this._data,g=(0,e["default"])(d),t=null,u=null;b=0;for(c=g.length;b<c;b++){var q=d[g[b]],f=q[a];null!=f&&(!t||f<u)&&(t=q,u=f)}return t};c.prototype.distinct=function(a){var b,c,d,g=this._data,t=(0,e["default"])(g),u=[],f=this._options.type&&this._options.type[a]||null,C=0;b=0;for(d=t.length;b<d;b++){var n=g[t[b]][a],h=!1;for(c=0;c<C;c++)if(u[c]==n){h=!0;break}h||void 0===n||(u[C]=n,C++)}if(f)for(b=0,d=u.length;b<d;b++)u[b]=q.convert(u[b],f);return u};c.prototype._addItem=function(a){var b=
a[this._fieldId];if(void 0!=b){if(this._data[b])throw Error("Cannot add item: item with id "+b+" already exists");}else b=q.randomUUID(),a[this._fieldId]=b;var c,d,g={},t=(0,e["default"])(a);c=0;for(d=t.length;c<d;c++){var u=t[c];g[u]=q.convert(a[u],this._type[u])}return this._data[b]=g,this.length++,b};c.prototype._getItem=function(a,b){var c,d,g,t,u=this._data[a];if(!u)return null;var f={},C=(0,e["default"])(u);if(b)for(g=0,t=C.length;g<t;g++)c=C[g],d=u[c],f[c]=q.convert(d,b[c]);else for(g=0,t=
C.length;g<t;g++)c=C[g],d=u[c],f[c]=d;return f[this._fieldId]||(f[this._fieldId]=u.id),f};c.prototype._updateItem=function(a){var b=a[this._fieldId];if(void 0==b)throw Error("Cannot update item: item has no id (item: "+(0,n["default"])(a)+")");var c=this._data[b];if(!c)throw Error("Cannot update item: no item with id "+b+" found");for(var d=(0,e["default"])(a),g=0,t=d.length;g<t;g++){var u=d[g];c[u]=q.convert(a[u],this._type[u])}return b};f.exports=c},function(f,h,d){f.exports={"default":d(91),__esModule:!0}},
function(f,h,d){h=d(17);var b=h.JSON||(h.JSON={stringify:JSON.stringify});f.exports=function(c){return b.stringify.apply(b,arguments)}},function(f,h){function d(b){this.delay=null;this.max=1/0;this._queue=[];this._extended=this._timeout=null;this.setOptions(b)}d.prototype.setOptions=function(b){b&&void 0!==b.delay&&(this.delay=b.delay);b&&void 0!==b.max&&(this.max=b.max);this._flushIfNeeded()};d.extend=function(b,c){var f=new d(c);if(void 0!==b.flush)throw Error("Target object already has a property flush");
b.flush=function(){f.flush()};var a=[{name:"flush",original:void 0}];if(c&&c.replace)for(var e=0;e<c.replace.length;e++){var q=c.replace[e];a.push({name:q,original:b[q]});f.replace(b,q)}return f._extended={object:b,methods:a},f};d.prototype.destroy=function(){if(this.flush(),this._extended){for(var b=this._extended.object,c=this._extended.methods,d=0;d<c.length;d++){var a=c[d];a.original?b[a.name]=a.original:delete b[a.name]}this._extended=null}};d.prototype.replace=function(b,c){var d=this,a=b[c];
if(!a)throw Error("Method "+c+" undefined");b[c]=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];d.queue({args:b,fn:a,context:this})}};d.prototype.queue=function(b){"function"==typeof b?this._queue.push({fn:b}):this._queue.push(b);this._flushIfNeeded()};d.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),0<this.queue.length&&"number"==typeof this.delay){var b=this;this._timeout=setTimeout(function(){b.flush()},this.delay)}};
d.prototype.flush=function(){for(;0<this._queue.length;){var b=this._queue.shift();b.fn.apply(b.context||b.fn,b.args||[])}};f.exports=d},function(f,h,d){function b(a,b){this._data=null;this._ids={};this.length=0;this._options=b||{};this._fieldId="id";this._subscribers={};var c=this;this.listener=function(){c._onEvent.apply(c,arguments)};this.setData(a)}var c=(h=d(58))&&h.__esModule?h:{"default":h},n=d(1);d=d(89);b.prototype.setData=function(a){var b,c,d,m;if(this._data){this._data.off&&this._data.off("*",
this.listener);b=this._data.getIds({filter:this._options&&this._options.filter});m=[];c=0;for(d=b.length;c<d;c++)m.push(this._data._data[b[c]]);this._ids={};this.length=0;this._trigger("remove",{items:b,oldData:m})}if(this._data=a,this._data){this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id";b=this._data.getIds({filter:this._options&&this._options.filter});c=0;for(d=b.length;c<d;c++)a=b[c],this._ids[a]=!0;this.length=b.length;this._trigger("add",
{items:b});this._data.on&&this._data.on("*",this.listener)}};b.prototype.refresh=function(){var a,b,d,g=this._data.getIds({filter:this._options&&this._options.filter}),m=(0,c["default"])(this._ids),k={},p=[],l=[],r=[];b=0;for(d=g.length;b<d;b++)a=g[b],k[a]=!0,this._ids[a]||(p.push(a),this._ids[a]=!0);b=0;for(d=m.length;b<d;b++)a=m[b],k[a]||(l.push(a),r.push(this._data._data[a]),delete this._ids[a]);this.length+=p.length-l.length;p.length&&this._trigger("add",{items:p});l.length&&this._trigger("remove",
{items:l,oldData:r})};b.prototype.get=function(a,b,c){var d,m,k,p=this,l=n.getType(a);"String"==l||"Number"==l||"Array"==l?(d=a,m=b,k=c):(m=a,k=b);a=n.extend({},this._options,m);this._options.filter&&m&&m.filter&&(a.filter=function(a){return p._options.filter(a)&&m.filter(a)});b=[];return void 0!=d&&b.push(d),b.push(a),b.push(k),this._data&&this._data.get.apply(this._data,b)};b.prototype.getIds=function(a){var b;if(this._data){var c=this._options.filter;b=this._data.getIds({filter:a&&a.filter?c?function(b){return c(b)&&
a.filter(b)}:a.filter:c,order:a&&a.order})}else b=[];return b};b.prototype.map=function(a,b){var c=[];if(this._data)var d=this._options.filter,c=this._data.map(a,{filter:b&&b.filter?d?function(a){return d(a)&&b.filter(a)}:b.filter:d,order:b&&b.order});else c=[];return c};b.prototype.getDataSet=function(){for(var a=this;a instanceof b;)a=a._data;return a||null};b.prototype._onEvent=function(a,b,c){var d,m,k,p=b&&b.items,l=[],r=[],t=[],u=[],f=[],C=[];if(p&&this._data){switch(a){case "add":a=0;for(d=
p.length;a<d;a++)m=p[a],this.get(m)&&(this._ids[m]=!0,l.push(m));break;case "update":a=0;for(d=p.length;a<d;a++)m=p[a],(k=this.get(m))?this._ids[m]?(r.push(m),f.push(b.data[a]),u.push(b.oldData[a])):(this._ids[m]=!0,l.push(m)):this._ids[m]&&(delete this._ids[m],t.push(m),C.push(b.oldData[a]));break;case "remove":for(a=0,d=p.length;a<d;a++)m=p[a],this._ids[m]&&(delete this._ids[m],t.push(m),C.push(b.oldData[a]))}this.length+=l.length-t.length;l.length&&this._trigger("add",{items:l},c);r.length&&this._trigger("update",
{items:r,oldData:u,data:f},c);t.length&&this._trigger("remove",{items:t,oldData:C},c)}};b.prototype.on=d.prototype.on;b.prototype.off=d.prototype.off;b.prototype._trigger=d.prototype._trigger;b.prototype.subscribe=b.prototype.on;b.prototype.unsubscribe=b.prototype.off;f.exports=b},function(f,h,d){function b(a,c,d){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=a;this.dataGroup=new r;this.dataPoints=null;this.create();l.setDefaults(t,
this);this.colFilter=this.colValue=this.colZ=this.colY=this.colX=void 0;this.setOptions(d);c&&this.setData(c)}function c(a){return"clientX"in a?a.clientX:a.targetTouches[0]&&a.targetTouches[0].clientX||0}function n(a){return"clientY"in a?a.clientY:a.targetTouches[0]&&a.targetTouches[0].clientY||0}var a=(h=d(95))&&h.__esModule?h:{"default":h};h=d(99);var e=(d(89),d(93),d(1)),q=d(100),g=d(101),m=(d(102),d(107)),k=d(108),p=d(109),l=(d(110),d(111)),r=d(112);b.STYLE=l.STYLE;var t={width:"400px",height:"400px",
filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(a){return a},yValueLabel:function(a){return a},zValueLabel:function(a){return a},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1E3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",
yCenter:"50%",style:b.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},showLegend:void 0,backgroundColor:void 0,dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,
distance:1.7},xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0};h(b.prototype);b.prototype._setScale=function(){this.scale=new q(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range());this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y);this.scale.z*=this.verticalRatio;void 0!==this.valueRange&&(this.scale.value=
1/this.valueRange.range());var a=this.xRange.center()*this.scale.x,b=this.yRange.center()*this.scale.y,c=this.zRange.center()*this.scale.z;this.camera.setArmLocation(a,b,c)};b.prototype._convert3Dto2D=function(a){a=this._convertPointToTranslation(a);return this._convertTranslationToScreen(a)};b.prototype._convertPointToTranslation=function(a){var b=this.camera.getCameraLocation(),c=this.camera.getCameraRotation(),d=a.x*this.scale.x,e=a.y*this.scale.y;a=a.z*this.scale.z;var g=b.x,l=b.y,b=b.z,k=Math.sin(c.x),
p=Math.cos(c.x),m=Math.sin(c.y),t=Math.cos(c.y),r=Math.sin(c.z),c=Math.cos(c.z);return new q(t*(r*(e-l)+c*(d-g))-m*(a-b),k*(t*(a-b)+m*(r*(e-l)+c*(d-g)))+p*(c*(e-l)-r*(d-g)),p*(t*(a-b)+m*(r*(e-l)+c*(d-g)))-k*(c*(e-l)-r*(d-g)))};b.prototype._convertTranslationToScreen=function(a){var b,c,d=this.eye.x,e=this.eye.y,l=this.eye.z,k=a.x,p=a.y;a=a.z;return this.showPerspective?(b=l/a*(k-d),c=l/a*(p-e)):(b=k*(-l/this.camera.getArmLength()),c=p*(-l/this.camera.getArmLength())),new g(this.currentXCenter+b*this.frame.canvas.clientWidth,
this.currentYCenter-c*this.frame.canvas.clientWidth)};b.prototype._calcTranslations=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.trans=this._convertPointToTranslation(c.point);c.screen=this._convertTranslationToScreen(c.trans);var d=this._convertPointToTranslation(c.bottom);c.dist=this.showPerspective?d.length():-d.z}a.sort(function(a,b){return b.dist-a.dist})};b.prototype._checkValueField=function(a){if(this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE||this.style===b.STYLE.DOTCOLOR||
this.style===b.STYLE.DOTSIZE){if(void 0===this.colValue)throw Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===a[0][this.colValue])throw Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'");}};b.prototype._initializeData=function(a,b){if(this.dataGroup.initializeData(this,a,b),this.xRange=this.dataGroup.xRange,this.yRange=this.dataGroup.yRange,this.zRange=this.dataGroup.zRange,this.valueRange=this.dataGroup.valueRange,
this.xStep=this.dataGroup.xStep,this.yStep=this.dataGroup.yStep,this.zStep=this.dataGroup.zStep,this.xBarWidth=this.dataGroup.xBarWidth,this.yBarWidth=this.dataGroup.yBarWidth,this.colX=this.dataGroup.colX,this.colY=this.dataGroup.colY,this.colZ=this.dataGroup.colZ,this.colValue=this.dataGroup.colValue,this.dataGroup.getDataTable()[0].hasOwnProperty("filter")){this.colFilter="filter";var c=this;void 0===this.dataFilter&&(this.dataFilter=new m(this.dataGroup,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){c.redraw()}))}this._setScale()};
b.prototype.getDataPoints=function(a){for(var b=[],c=0;c<a.length;c++){var d=new q;d.x=a[c][this.colX]||0;d.y=a[c][this.colY]||0;d.z=a[c][this.colZ]||0;d.data=a[c];void 0!==this.colValue&&(d.value=a[c][this.colValue]||0);var e={};e.point=d;e.bottom=new q(d.x,d.y,this.zRange.min);e.trans=void 0;e.screen=void 0;b.push(e)}return b};b.prototype._getDataPoints=function(a){var c,d,e,g;if(this.style===b.STYLE.GRID||this.style===b.STYLE.SURFACE){c=this.dataGroup.getDistinctValues(this.colX,a);d=this.dataGroup.getDistinctValues(this.colY,
a);a=this.getDataPoints(a);var l=[];for(e=0;e<a.length;e++){g=a[e];var k=c.indexOf(g.point.x),p=d.indexOf(g.point.y);void 0===l[k]&&(l[k]=[]);l[k][p]=g}for(c=0;c<l.length;c++)for(d=0;d<l[c].length;d++)l[c][d]&&(l[c][d].pointRight=c<l.length-1?l[c+1][d]:void 0,l[c][d].pointTop=d<l[c].length-1?l[c][d+1]:void 0,l[c][d].pointCross=c<l.length-1&&d<l[c].length-1?l[c+1][d+1]:void 0)}else if(this._checkValueField(a),a=this.getDataPoints(a),this.style===b.STYLE.LINE)for(e=0;e<a.length;e++)0<e&&(a[e-1].pointNext=
a[e]);return a};b.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);var a=document.createElement("DIV");a.style.color="red";a.style.fontWeight="bold";a.style.padding=
"10px";a.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(a);this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var b=this;e.addEventListener(this.frame.canvas,"mousedown",function(a){b._onMouseDown(a)});e.addEventListener(this.frame.canvas,"touchstart",function(a){b._onTouchStart(a)});
e.addEventListener(this.frame.canvas,"mousewheel",function(a){b._onWheel(a)});e.addEventListener(this.frame.canvas,"mousemove",function(a){b._onTooltip(a)});e.addEventListener(this.frame.canvas,"click",function(a){b._onClick(a)});this.containerElement.appendChild(this.frame)};b.prototype._setSize=function(a,b){this.frame.style.width=a;this.frame.style.height=b;this._resizeCanvas()};b.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=
this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"};b.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw Error("No animation available");this.frame.filter.slider.play()};b.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()};b.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-
1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter);"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)};b.prototype.getCameraPosition=function(){var a=this.camera.getArmRotation();return a.distance=this.camera.getArmLength(),a};b.prototype._readData=function(a){this._initializeData(a,
this.style);this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataGroup.getDataTable());this._redrawFilter()};b.prototype.setData=function(a){this._readData(a);this.redraw();this.animationAutoStart&&this.dataFilter&&this.animationStart()};b.prototype.setOptions=function(a){this.animationStop();l.setOptions(a,this);this.setPointDrawingMethod();this._setSize(this.width,this.height);this.dataGroup.reload();this.animationAutoStart&&this.dataFilter&&
this.animationStart()};b.prototype.setPointDrawingMethod=function(){var a;switch(this.style){case b.STYLE.BAR:a=b.prototype._redrawBarGraphPoint;break;case b.STYLE.BARCOLOR:a=b.prototype._redrawBarColorGraphPoint;break;case b.STYLE.BARSIZE:a=b.prototype._redrawBarSizeGraphPoint;break;case b.STYLE.DOT:a=b.prototype._redrawDotGraphPoint;break;case b.STYLE.DOTLINE:a=b.prototype._redrawDotLineGraphPoint;break;case b.STYLE.DOTCOLOR:a=b.prototype._redrawDotColorGraphPoint;break;case b.STYLE.DOTSIZE:a=b.prototype._redrawDotSizeGraphPoint;
break;case b.STYLE.SURFACE:a=b.prototype._redrawSurfaceGraphPoint;break;case b.STYLE.GRID:a=b.prototype._redrawGridGraphPoint;break;case b.STYLE.LINE:a=b.prototype._redrawLineGraphPoint;break;default:throw Error("Can not determine point drawing method for graph style '"+this.style+"'");}this._pointDrawingMethod=a};b.prototype.redraw=function(){if(void 0===this.dataPoints)throw Error("Graph data not initialized");this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();
this._redrawDataGraph();this._redrawInfo();this._redrawLegend()};b.prototype._getContext=function(){var a=this.frame.canvas.getContext("2d");return a.lineJoin="round",a.lineCap="round",a};b.prototype._redrawClear=function(){var a=this.frame.canvas;a.getContext("2d").clearRect(0,0,a.width,a.height)};b.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio};b.prototype._getLegendWidth=function(){return this.style===b.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===
b.STYLE.BARSIZE?this.xBarWidth:20};b.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==b.STYLE.LINE&&this.style!==b.STYLE.BARSIZE){var a=this.style===b.STYLE.BARSIZE||this.style===b.STYLE.DOTSIZE,c=this.style===b.STYLE.DOTSIZE||this.style===b.STYLE.DOTCOLOR||this.style===b.STYLE.BARCOLOR,d=Math.max(.25*this.frame.clientHeight,100),e=this.margin,l=this._getLegendWidth(),k=this.frame.clientWidth-this.margin,m=k-l,t=e+d,r=this._getContext();if(r.lineWidth=1,r.font="14px arial",
!1===a){for(a=0;a<d;a++){var q=this._hsv2rgb((a-0)/(d-0)*240,1,1);r.strokeStyle=q;r.beginPath();r.moveTo(m,e+a);r.lineTo(k,e+a);r.stroke()}r.strokeStyle=this.axisColor;r.strokeRect(m,e,l,d)}else this.style===b.STYLE.DOTSIZE?q=this.dotSizeMinFraction/this.dotSizeMaxFraction*l:(this.style,b.STYLE.BARSIZE),r.strokeStyle=this.axisColor,r.fillStyle=this.dataColor.fill,r.beginPath(),r.moveTo(m,e),r.lineTo(k,e),r.lineTo(m+q,t),r.lineTo(m,t),r.closePath(),r.fill(),r.stroke();e=c?this.valueRange.min:this.zRange.min;
c=c?this.valueRange.max:this.zRange.max;l=new p(e,c,(c-e)/5,!0);l.start(!0);for(var f;!l.end();)a=t-(l.getCurrent()-e)/(c-e)*d,q=new g(m-5,a),f=new g(m,a),this._line(r,q,f),r.textAlign="right",r.textBaseline="middle",r.fillStyle=this.axisColor,r.fillText(l.getCurrent(),m-10,a),l.next();r.textAlign="right";r.textBaseline="top";r.fillText(this.legendLabel,k,t+this.margin)}};b.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var a=new k(this.frame.filter,{visible:this.showAnimationControls});
this.frame.filter.slider=a;this.frame.filter.style.padding="10px";a.setValues(this.dataFilter.values);a.setPlayInterval(this.animationInterval);var b=this;a.setOnChangeCallback(function(){var c=a.getIndex();b.dataFilter.selectValue(c);b.dataPoints=b.dataFilter._getDataPoints();b.redraw()})}else this.frame.filter.slider=void 0};b.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()};b.prototype._redrawInfo=function(){if(this.dataFilter){var a=this._getContext();
a.font="14px arial";a.lineStyle="gray";a.fillStyle="gray";a.textAlign="left";a.textBaseline="top";var b=this.margin,c=this.margin;a.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),b,c)}};b.prototype._line=function(a,b,c,d){void 0!==d&&(a.strokeStyle=d);a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke()};b.prototype.drawAxisLabelX=function(a,b,c,d,e){void 0===e&&(e=0);b=this._convert3Dto2D(b);0<Math.cos(2*d)?(a.textAlign="center",a.textBaseline="top",b.y+=e):0>
Math.sin(2*d)?(a.textAlign="right",a.textBaseline="middle"):(a.textAlign="left",a.textBaseline="middle");a.fillStyle=this.axisColor;a.fillText(c,b.x,b.y)};b.prototype.drawAxisLabelY=function(a,b,c,d,e){void 0===e&&(e=0);b=this._convert3Dto2D(b);0>Math.cos(2*d)?(a.textAlign="center",a.textBaseline="top",b.y+=e):0<Math.sin(2*d)?(a.textAlign="right",a.textBaseline="middle"):(a.textAlign="left",a.textBaseline="middle");a.fillStyle=this.axisColor;a.fillText(c,b.x,b.y)};b.prototype.drawAxisLabelZ=function(a,
b,c,d){void 0===d&&(d=0);b=this._convert3Dto2D(b);a.textAlign="right";a.textBaseline="middle";a.fillStyle=this.axisColor;a.fillText(c,b.x-d,b.y)};b.prototype._line3d=function(a,b,c,d){b=this._convert3Dto2D(b);c=this._convert3Dto2D(c);this._line(a,b,c,d)};b.prototype._redrawAxis=function(){var a,b,c,d,e,l,k,m,t,r=this._getContext();r.font=24/this.camera.getArmLength()+"px arial";var f=.025/this.scale.x,n=.025/this.scale.y,h=5/this.camera.getArmLength(),I=this.camera.getArmRotation().horizontal,O=new g(Math.cos(I),
Math.sin(I)),K=this.xRange,J=this.yRange,N=this.zRange;r.lineWidth=1;c=void 0===this.defaultXStep;c=new p(K.min,K.max,this.xStep,c);for(c.start(!0);!c.end();){var R=c.getCurrent();if(this.showGrid?(a=new q(R,J.min,N.min),b=new q(R,J.max,N.min),this._line3d(r,a,b,this.gridColor)):this.showXAxis&&(a=new q(R,J.min,N.min),b=new q(R,J.min+f,N.min),this._line3d(r,a,b,this.axisColor),a=new q(R,J.max,N.min),b=new q(R,J.max-f,N.min),this._line3d(r,a,b,this.axisColor)),this.showXAxis){l=0<O.x?J.min:J.max;var W=
new q(R,l,N.min),R="  "+this.xValueLabel(R)+"  ";this.drawAxisLabelX(r,W,R,I,h)}c.next()}r.lineWidth=1;c=void 0===this.defaultYStep;c=new p(J.min,J.max,this.yStep,c);for(c.start(!0);!c.end();){f=c.getCurrent();if(this.showGrid?(a=new q(K.min,f,N.min),b=new q(K.max,f,N.min),this._line3d(r,a,b,this.gridColor)):this.showYAxis&&(a=new q(K.min,f,N.min),b=new q(K.min+n,f,N.min),this._line3d(r,a,b,this.axisColor),a=new q(K.max,f,N.min),b=new q(K.max-n,f,N.min),this._line3d(r,a,b,this.axisColor)),this.showYAxis)e=
0<O.y?K.min:K.max,W=new q(e,f,N.min),R="  "+this.yValueLabel(f)+"  ",this.drawAxisLabelY(r,W,R,I,h);c.next()}if(this.showZAxis){r.lineWidth=1;c=void 0===this.defaultZStep;c=new p(N.min,N.max,this.zStep,c);c.start(!0);e=0<O.x?K.min:K.max;for(l=0>O.y?J.min:J.max;!c.end();)n=c.getCurrent(),a=new q(e,l,n),f=this._convert3Dto2D(a),b=new g(f.x-h,f.y),this._line(r,f,b,this.axisColor),R=this.zValueLabel(n)+" ",this.drawAxisLabelZ(r,a,R,5),c.next();r.lineWidth=1;a=new q(e,l,N.min);b=new q(e,l,N.max);this._line3d(r,
a,b,this.axisColor)}this.showXAxis&&(r.lineWidth=1,h=new q(K.min,J.min,N.min),c=new q(K.max,J.min,N.min),this._line3d(r,h,c,this.axisColor),h=new q(K.min,J.max,N.min),c=new q(K.max,J.max,N.min),this._line3d(r,h,c,this.axisColor));this.showYAxis&&(r.lineWidth=1,a=new q(K.min,J.min,N.min),b=new q(K.min,J.max,N.min),this._line3d(r,a,b,this.axisColor),a=new q(K.max,J.min,N.min),b=new q(K.max,J.max,N.min),this._line3d(r,a,b,this.axisColor));b=this.xLabel;0<b.length&&this.showXAxis&&(t=.1/this.scale.y,
e=(K.max+3*K.min)/4,l=0<O.x?J.min-t:J.max+t,d=new q(e,l,N.min),this.drawAxisLabelX(r,d,b,I));t=this.yLabel;0<t.length&&this.showYAxis&&(m=.1/this.scale.x,e=0<O.y?K.min-m:K.max+m,l=(J.max+3*J.min)/4,d=new q(e,l,N.min),this.drawAxisLabelY(r,d,t,I));m=this.zLabel;0<m.length&&this.showZAxis&&(e=0<O.x?K.min:K.max,l=0>O.y?J.min:J.max,k=(N.max+3*N.min)/4,d=new q(e,l,k),this.drawAxisLabelZ(r,d,m,30))};b.prototype._hsv2rgb=function(a,b,c){var d,e;switch(e=c*b,d=Math.floor(a/60),b=e*(1-Math.abs(a/60%2-1)),
d){case 0:d=e;a=b;e=0;break;case 1:d=b;a=e;e=0;break;case 2:d=0;a=e;e=b;break;case 3:d=0;a=b;break;case 4:d=b;a=0;break;case 5:d=e;a=0;e=b;break;default:e=a=d=0}return"RGB("+parseInt(255*d)+","+parseInt(255*a)+","+parseInt(255*e)+")"};b.prototype._getStrokeWidth=function(a){return void 0!==a?this.showPerspective?1/-a.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth};b.prototype._redrawBar=function(a,b,c,d,e,g){var l=this,
k=b.point,p=this.zRange.min,m=[{point:new q(k.x-c,k.y-d,k.z)},{point:new q(k.x+c,k.y-d,k.z)},{point:new q(k.x+c,k.y+d,k.z)},{point:new q(k.x-c,k.y+d,k.z)}];c=[{point:new q(k.x-c,k.y-d,p)},{point:new q(k.x+c,k.y-d,p)},{point:new q(k.x+c,k.y+d,p)},{point:new q(k.x-c,k.y+d,p)}];m.forEach(function(a){a.screen=l._convert3Dto2D(a.point)});c.forEach(function(a){a.screen=l._convert3Dto2D(a.point)});k=[{corners:m,center:q.avg(c[0].point,c[2].point)},{corners:[m[0],m[1],c[1],c[0]],center:q.avg(c[1].point,c[0].point)},
{corners:[m[1],m[2],c[2],c[1]],center:q.avg(c[2].point,c[1].point)},{corners:[m[2],m[3],c[3],c[2]],center:q.avg(c[3].point,c[2].point)},{corners:[m[3],m[0],c[0],c[3]],center:q.avg(c[0].point,c[3].point)}];b.surfaces=k;for(c=0;c<k.length;c++)d=k[c],p=this._convertPointToTranslation(d.center),d.dist=this.showPerspective?p.length():-p.z;k.sort(function(a,b){return b.dist-a.dist||(a.corners===m?1:b.corners===m?-1:0)});a.lineWidth=this._getStrokeWidth(b);a.strokeStyle=g;a.fillStyle=e;for(c=2;c<k.length;c++)d=
k[c],this._polygon(a,d.corners)};b.prototype._polygon=function(a,b,c,d){if(!(2>b.length)){void 0!==c&&(a.fillStyle=c);void 0!==d&&(a.strokeStyle=d);a.beginPath();a.moveTo(b[0].screen.x,b[0].screen.y);for(c=1;c<b.length;++c)d=b[c],a.lineTo(d.screen.x,d.screen.y);a.closePath();a.fill();a.stroke()}};b.prototype._drawCircle=function(a,b,c,d,e){e=this._calcRadius(b,e);a.lineWidth=this._getStrokeWidth(b);a.strokeStyle=d;a.fillStyle=c;a.beginPath();a.arc(b.screen.x,b.screen.y,e,0,2*Math.PI,!0);a.fill();
a.stroke()};b.prototype._getColorsRegular=function(a){a=240*(1-(a.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(a,1,1),border:this._hsv2rgb(a,1,.8)}};b.prototype._getColorsColor=function(a){var b;"string"==typeof a.point.value?a=b=a.point.value:(a=240*(1-(a.point.value-this.valueRange.min)*this.scale.value),b=this._hsv2rgb(a,1,1),a=this._hsv2rgb(a,1,.8));return{fill:b,border:a}};b.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}};
b.prototype._calcRadius=function(a,b){void 0===b&&(b=this._dotSize());var c;return c=this.showPerspective?b/-a.trans.z:b*(-this.eye.z/this.camera.getArmLength()),0>c&&(c=0),c};b.prototype._redrawBarGraphPoint=function(a,b){var c=this.xBarWidth/2,d=this.yBarWidth/2,e=this._getColorsRegular(b);this._redrawBar(a,b,c,d,e.fill,e.border)};b.prototype._redrawBarColorGraphPoint=function(a,b){var c=this.xBarWidth/2,d=this.yBarWidth/2,e=this._getColorsColor(b);this._redrawBar(a,b,c,d,e.fill,e.border)};b.prototype._redrawBarSizeGraphPoint=
function(a,b){var c=(b.point.value-this.valueRange.min)/this.valueRange.range(),d=this.xBarWidth/2*(.8*c+.2),c=this.yBarWidth/2*(.8*c+.2),e=this._getColorsSize();this._redrawBar(a,b,d,c,e.fill,e.border)};b.prototype._redrawDotGraphPoint=function(a,b){var c=this._getColorsRegular(b);this._drawCircle(a,b,c.fill,c.border)};b.prototype._redrawDotLineGraphPoint=function(a,b){var c=this._convert3Dto2D(b.bottom);a.lineWidth=1;this._line(a,c,b.screen,this.gridColor);this._redrawDotGraphPoint(a,b)};b.prototype._redrawDotColorGraphPoint=
function(a,b){var c=this._getColorsColor(b);this._drawCircle(a,b,c.fill,c.border)};b.prototype._redrawDotSizeGraphPoint=function(a,b){var c=this._dotSize(),d=(b.point.value-this.valueRange.min)/this.valueRange.range(),e=c*this.dotSizeMinFraction,c=e+(c*this.dotSizeMaxFraction-e)*d,d=this._getColorsSize();this._drawCircle(a,b,d.fill,d.border,c)};b.prototype._redrawSurfaceGraphPoint=function(a,b){var c=b.pointRight,d=b.pointTop,e=b.pointCross;if(void 0!==b&&void 0!==c&&void 0!==d&&void 0!==e){var g,
l,k=!0;if(this.showGrayBottom||this.showShadow)var p=q.subtract(e.trans,b.trans),m=q.subtract(d.trans,c.trans),p=q.crossProduct(p,m),m=p.length(),k=0<p.z;if(k){var t,k=240*(1-((b.point.z+c.point.z+d.point.z+e.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(t=Math.min(1+p.x/m/2,1),g=this._hsv2rgb(k,1,t),l=g):(t=1,g=this._hsv2rgb(k,1,t),l=this.axisColor)}else g="gray",l=this.axisColor;a.lineWidth=this._getStrokeWidth(b);this._polygon(a,[b,c,e,d],g,l)}};b.prototype._drawGridLine=
function(a,b,c){if(void 0!==b&&void 0!==c){var d=240*(1-((b.point.z+c.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);a.lineWidth=2*this._getStrokeWidth(b);a.strokeStyle=this._hsv2rgb(d,1,1);this._line(a,b.screen,c.screen)}};b.prototype._redrawGridGraphPoint=function(a,b){this._drawGridLine(a,b,b.pointRight);this._drawGridLine(a,b,b.pointTop)};b.prototype._redrawLineGraphPoint=function(a,b){void 0!==b.pointNext&&(a.lineWidth=this._getStrokeWidth(b),a.strokeStyle=this.dataColor.stroke,
this._line(a,b.screen,b.pointNext.screen))};b.prototype._redrawDataGraph=function(){var a,b=this._getContext();if(!(void 0===this.dataPoints||0>=this.dataPoints.length))for(this._calcTranslations(this.dataPoints),a=0;a<this.dataPoints.length;a++)this._pointDrawingMethod.call(this,b,this.dataPoints[a])};b.prototype._storeMousePosition=function(a){this.startMouseX=c(a);this.startMouseY=n(a);this._startCameraOffset=this.camera.getOffset()};b.prototype._onMouseDown=function(a){if(a=a||window.event,this.leftButtonDown&&
this._onMouseUp(a),this.leftButtonDown=a.which?1===a.which:1===a.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(a);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var b=this;this.onmousemove=function(a){b._onMouseMove(a)};this.onmouseup=function(a){b._onMouseUp(a)};e.addEventListener(document,"mousemove",b.onmousemove);e.addEventListener(document,"mouseup",b.onmouseup);e.preventDefault(a)}};
b.prototype._onMouseMove=function(a){this.moving=!0;a=a||window.event;var b=parseFloat(c(a))-this.startMouseX,d=parseFloat(n(a))-this.startMouseY;if(a&&!0===a.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-b/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+d/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(a);else{var b=this.startArmRotation.horizontal+b/200,d=this.startArmRotation.vertical+d/200,g=Math.sin(4/360*2*Math.PI);
Math.abs(Math.sin(b))<g&&(b=Math.round(b/Math.PI)*Math.PI-.001);Math.abs(Math.cos(b))<g&&(b=(Math.round(b/Math.PI-.5)+.5)*Math.PI-.001);Math.abs(Math.sin(d))<g&&(d=Math.round(d/Math.PI)*Math.PI);Math.abs(Math.cos(d))<g&&(d=(Math.round(d/Math.PI-.5)+.5)*Math.PI);this.camera.setArmRotation(b,d)}this.redraw();b=this.getCameraPosition();this.emit("cameraPositionChange",b);e.preventDefault(a)};b.prototype._onMouseUp=function(a){this.frame.style.cursor="auto";this.leftButtonDown=!1;e.removeEventListener(document,
"mousemove",this.onmousemove);e.removeEventListener(document,"mouseup",this.onmouseup);e.preventDefault(a)};b.prototype._onClick=function(a){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var b=this.frame.getBoundingClientRect(),d=c(a)-b.left,b=n(a)-b.top;(d=this._dataPointFromXY(d,b))&&this.onclick_callback(d.point.data)}e.preventDefault(a)}};b.prototype._onTooltip=function(a){var b=this.frame.getBoundingClientRect(),d=c(a)-b.left,e=n(a)-b.top;if(this.showTooltip){if(this.tooltipTimeout&&
clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint)a=this._dataPointFromXY(d,e),a!==this.tooltip.dataPoint&&(a?this._showTooltip(a):this._hideTooltip());else{var g=this;this.tooltipTimeout=setTimeout(function(){g.tooltipTimeout=null;var a=g._dataPointFromXY(d,e);a&&g._showTooltip(a)},300)}}};b.prototype._onTouchStart=function(a){this.touchDown=!0;var b=this;this.ontouchmove=function(a){b._onTouchMove(a)};this.ontouchend=function(a){b._onTouchEnd(a)};
e.addEventListener(document,"touchmove",b.ontouchmove);e.addEventListener(document,"touchend",b.ontouchend);this._onMouseDown(a)};b.prototype._onTouchMove=function(a){this._onMouseMove(a)};b.prototype._onTouchEnd=function(a){this.touchDown=!1;e.removeEventListener(document,"touchmove",this.ontouchmove);e.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(a)};b.prototype._onWheel=function(a){a||(a=window.event);var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/
3),b){var c=this.camera.getArmLength();this.camera.setArmLength(c*(1-b/10));this.redraw();this._hideTooltip()}b=this.getCameraPosition();this.emit("cameraPositionChange",b);e.preventDefault(a)};b.prototype._insideTriangle=function(a,b){function c(a){return 0<a?1:0>a?-1:0}var d=b[0],e=b[1],g=b[2],l=c((e.x-d.x)*(a.y-d.y)-(e.y-d.y)*(a.x-d.x)),e=c((g.x-e.x)*(a.y-e.y)-(g.y-e.y)*(a.x-e.x)),d=c((d.x-g.x)*(a.y-g.y)-(d.y-g.y)*(a.x-g.x));return!(0!=l&&0!=e&&l!=e||0!=e&&0!=d&&e!=d||0!=l&&0!=d&&l!=d)};b.prototype._dataPointFromXY=
function(a,c){var d,e,l=null,k=null,p=new g(a,c);if(this.style===b.STYLE.BAR||this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE)for(d=this.dataPoints.length-1;0<=d;d--){if(e=this.dataPoints[d],k=e.surfaces)for(var m=k.length-1;0<=m;m--){var t=k[m].corners,r=[t[2].screen,t[3].screen,t[0].screen];if(this._insideTriangle(p,[t[0].screen,t[1].screen,t[2].screen])||this._insideTriangle(p,r))return e}}else for(d=0;d<this.dataPoints.length;d++)if(e=this.dataPoints[d],m=e.screen)p=Math.abs(a-m.x),
m=Math.abs(c-m.y),p=Math.sqrt(p*p+m*m),(null===k||p<k)&&100>p&&(k=p,l=e);return l};b.prototype.hasBars=function(a){return a==b.STYLE.BAR||a==b.STYLE.BARCOLOR||a==b.STYLE.BARSIZE};b.prototype._showTooltip=function(b){var c,d,e;this.tooltip?(c=this.tooltip.dom.content,d=this.tooltip.dom.line,e=this.tooltip.dom.dot):(c=document.createElement("div"),(0,a["default"])(c.style,{},this.tooltipStyle.content),c.style.position="absolute",d=document.createElement("div"),(0,a["default"])(d.style,{},this.tooltipStyle.line),
d.style.position="absolute",e=document.createElement("div"),(0,a["default"])(e.style,{},this.tooltipStyle.dot),e.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:c,line:d,dot:e}});this._hideTooltip();this.tooltip.dataPoint=b;"function"==typeof this.showTooltip?c.innerHTML=this.showTooltip(b.point):c.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+b.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+b.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+b.point.z+"</td></tr></table>";
c.style.left="0";c.style.top="0";this.frame.appendChild(c);this.frame.appendChild(d);this.frame.appendChild(e);var g=c.offsetWidth,l=c.offsetHeight,k=d.offsetHeight,p=e.offsetWidth,m=e.offsetHeight,t=b.screen.x-g/2,t=Math.min(Math.max(t,10),this.frame.clientWidth-10-g);d.style.left=b.screen.x+"px";d.style.top=b.screen.y-k+"px";c.style.left=t+"px";c.style.top=b.screen.y-k-l+"px";e.style.left=b.screen.x-p/2+"px";e.style.top=b.screen.y-m/2+"px"};b.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=
null;for(var a in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(a)){var b=this.tooltip.dom[a];b&&b.parentNode&&b.parentNode.removeChild(b)}}};b.prototype.setCameraPosition=function(a){l.setCameraPosition(a,this);this.redraw()};b.prototype.setSize=function(a,b){this._setSize(a,b);this.redraw()};f.exports=b},function(f,h,d){f.exports={"default":d(96),__esModule:!0}},function(f,h,d){d(97);f.exports=d(17).Object.assign},function(f,h,d){f=d(15);f(f.S+f.F,"Object",{assign:d(98)})},function(f,h,d){var b=
d(35),c=d(73),n=d(74),a=d(49),e=d(10),q=Object.assign;f.exports=!q||d(26)(function(){$jscomp.initSymbol();var a={},b={},c=Symbol();return a[c]=7,"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=a}),7!=q({},a)[c]||"abcdefghijklmnopqrst"!=Object.keys(q({},b)).join("")})?function(d,m){for(var k=a(d),p=arguments.length,l=1,r=c.f,t=n.f;p>l;)for(var q,f=e(arguments[l++]),h=r?b(f).concat(r(f)):b(f),A=h.length,D=0;A>D;)t.call(f,q=h[D++])&&(k[q]=f[q]);return k}:q},function(f,h){function d(b){if(b){for(var c in d.prototype)b[c]=
d.prototype[c];return b}}f.exports=d;d.prototype.on=d.prototype.addEventListener=function(b,c){return this._callbacks=this._callbacks||{},(this._callbacks[b]=this._callbacks[b]||[]).push(c),this};d.prototype.once=function(b,c){function d(){a.off(b,d);c.apply(this,arguments)}var a=this;return this._callbacks=this._callbacks||{},d.fn=c,this.on(b,d),this};d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(b,c){if(this._callbacks=this._callbacks||
{},0==arguments.length)return this._callbacks={},this;var d=this._callbacks[b];if(!d)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var a,e=0;e<d.length;e++)if((a=d[e])===c||a.fn===c){d.splice(e,1);break}return this};d.prototype.emit=function(b){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),d=this._callbacks[b];if(d)for(var d=d.slice(0),a=0,e=d.length;a<e;++a)d[a].apply(this,c);return this};d.prototype.listeners=function(b){return this._callbacks=
this._callbacks||{},this._callbacks[b]||[]};d.prototype.hasListeners=function(b){return!!this.listeners(b).length}},function(f,h){function d(b,c,d){this.x=void 0!==b?b:0;this.y=void 0!==c?c:0;this.z=void 0!==d?d:0}d.subtract=function(b,c){var f=new d;return f.x=b.x-c.x,f.y=b.y-c.y,f.z=b.z-c.z,f};d.add=function(b,c){var f=new d;return f.x=b.x+c.x,f.y=b.y+c.y,f.z=b.z+c.z,f};d.avg=function(b,c){return new d((b.x+c.x)/2,(b.y+c.y)/2,(b.z+c.z)/2)};d.crossProduct=function(b,c){var f=new d;return f.x=b.y*
c.z-b.z*c.y,f.y=b.z*c.x-b.x*c.z,f.z=b.x*c.y-b.y*c.x,f};d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};f.exports=d},function(f,h){f.exports=function(d,b){this.x=void 0!==d?d:0;this.y=void 0!==b?b:0}},function(f,h,d){function b(){this.armLocation=new n;this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraOffset=new n;this.offsetMultiplier=.6;this.cameraLocation=new n;this.cameraRotation=new n(.5*Math.PI,
0,0);this.calculateCameraOrientation()}var c=(h=d(103))&&h.__esModule?h:{"default":h},n=d(100);b.prototype.setOffset=function(a,b){var d=Math.abs,g=c["default"],m=this.armLength*this.offsetMultiplier;d(a)>m&&(a=g(a)*m);d(b)>m&&(b=g(b)*m);this.cameraOffset.x=a;this.cameraOffset.y=b;this.calculateCameraOrientation()};b.prototype.getOffset=function(a,b){return this.cameraOffset};b.prototype.setArmLocation=function(a,b,c){this.armLocation.x=a;this.armLocation.y=b;this.armLocation.z=c;this.calculateCameraOrientation()};
b.prototype.setArmRotation=function(a,b){void 0!==a&&(this.armRotation.horizontal=a);void 0!==b&&(this.armRotation.vertical=b,0>this.armRotation.vertical&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI));void 0===a&&void 0===b||this.calculateCameraOrientation()};b.prototype.getArmRotation=function(){var a={};return a.horizontal=this.armRotation.horizontal,a.vertical=this.armRotation.vertical,a};b.prototype.setArmLength=function(a){void 0!==
a&&(this.armLength=a,.71>this.armLength&&(this.armLength=.71),5<this.armLength&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())};b.prototype.getArmLength=function(){return this.armLength};b.prototype.getCameraLocation=function(){return this.cameraLocation};b.prototype.getCameraRotation=function(){return this.cameraRotation};b.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*
Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;this.cameraRotation.y=0;this.cameraRotation.z=-this.armRotation.horizontal;var a=this.cameraRotation.x,b=(this.cameraRotation.y,this.cameraRotation.z),c=this.cameraOffset.x,d=this.cameraOffset.y,
m=Math.sin,k=Math.cos;this.cameraLocation.x=this.cameraLocation.x+c*k(b)+d*-m(b)*k(a);this.cameraLocation.y=this.cameraLocation.y+c*m(b)+d*k(b)*k(a);this.cameraLocation.z+=d*m(a)};f.exports=b},function(f,h,d){f.exports={"default":d(104),__esModule:!0}},function(f,h,d){d(105);f.exports=d(17).Math.sign},function(f,h,d){f=d(15);f(f.S,"Math",{sign:d(106)})},function(f,h){f.exports=Math.sign||function(d){return 0==(d=+d)||d!=d?d:0>d?-1:1}},function(f,h,d){function b(b,a,c){this.data=b.getDataSet();this.column=
a;this.graph=c;this.value=this.index=void 0;this.values=b.getDistinctValues(this.column);0<this.values.length&&this.selectValue(0);this.dataPoints=[];this.loaded=!1;this.onLoadCallback=void 0;c.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var c=d(93);b.prototype.isLoaded=function(){return this.loaded};b.prototype.getLoadedProgress=function(){for(var b=this.values.length,a=0;this.dataPoints[a];)a++;return Math.round(a/b*100)};b.prototype.getLabel=function(){return this.graph.filterLabel};
b.prototype.getColumn=function(){return this.column};b.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]};b.prototype.getValues=function(){return this.values};b.prototype.getValue=function(b){if(b>=this.values.length)throw Error("Index out of range");return this.values[b]};b.prototype._getDataPoints=function(b){if(void 0===b&&(b=this.index),void 0===b)return[];var a;if(this.dataPoints[b])a=this.dataPoints[b];else{var d,f;d=this.column;f=this.values[b];a=(new c(this.data,
{filter:function(a){return a[d]==f}})).get();a=this.graph._getDataPoints(a);this.dataPoints[b]=a}return a};b.prototype.setOnLoadCallback=function(b){this.onLoadCallback=b};b.prototype.selectValue=function(b){if(b>=this.values.length)throw Error("Index out of range");this.index=b;this.value=this.values[b]};b.prototype.loadInBackground=function(b){void 0===b&&(b=0);var a=this.graph.frame;if(b<this.values.length){this._getDataPoints(b);void 0===a.progress&&(a.progress=document.createElement("DIV"),a.progress.style.position=
"absolute",a.progress.style.color="gray",a.appendChild(a.progress));var c=this.getLoadedProgress();a.progress.innerHTML="Loading animation... "+c+"%";a.progress.style.bottom="60px";a.progress.style.left="10px";var d=this;setTimeout(function(){d.loadInBackground(b+1)},10);this.loaded=!1}else this.loaded=!0,void 0!==a.progress&&(a.removeChild(a.progress),a.progress=void 0),this.onLoadCallback&&this.onLoadCallback()};f.exports=b},function(f,h,d){function b(b,a){if(void 0===b)throw Error("No container element defined");
if(this.container=b,this.visible=!a||void 0==a.visible||a.visible,this.visible){this.frame=document.createElement("DIV");this.frame.style.width="100%";this.frame.style.position="relative";this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);
this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";
this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin="0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var c=this;this.frame.slide.onmousedown=function(a){c._onMouseDown(a)};this.frame.prev.onclick=function(a){c.prev(a)};this.frame.play.onclick=function(a){c.togglePlay(a)};
this.frame.next.onclick=function(a){c.next(a)}}this.onChangeCallback=void 0;this.values=[];this.playTimeout=this.index=void 0;this.playInterval=1E3;this.playLoop=!0}var c=d(1);b.prototype.prev=function(){var b=this.getIndex();0<b&&(b--,this.setIndex(b))};b.prototype.next=function(){var b=this.getIndex();b<this.values.length-1&&(b++,this.setIndex(b))};b.prototype.playNext=function(){var b=new Date,a=this.getIndex();a<this.values.length-1?(a++,this.setIndex(a)):this.playLoop&&(a=0,this.setIndex(a));
var c=this;this.playTimeout=setTimeout(function(){c.playNext()},Math.max(this.playInterval-(new Date-b),0))};b.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()};b.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))};b.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=void 0;this.frame&&(this.frame.play.value="Play")};b.prototype.setOnChangeCallback=function(b){this.onChangeCallback=b};b.prototype.setPlayInterval=
function(b){this.playInterval=b};b.prototype.getPlayInterval=function(b){return this.playInterval};b.prototype.setPlayLoop=function(b){this.playLoop=b};b.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()};b.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px";this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-
30+"px";var b=this.indexToLeft(this.index);this.frame.slide.style.left=b+"px"}};b.prototype.setValues=function(b){this.values=b;0<this.values.length?this.setIndex(0):this.index=void 0};b.prototype.setIndex=function(b){if(!(b<this.values.length))throw Error("Index out of range");this.index=b;this.redraw();this.onChange()};b.prototype.getIndex=function(){return this.index};b.prototype.get=function(){return this.values[this.index]};b.prototype._onMouseDown=function(b){if(b.which?1===b.which:1===b.button){this.startClientX=
b.clientX;this.startSlideX=parseFloat(this.frame.slide.style.left);this.frame.style.cursor="move";var a=this;this.onmousemove=function(b){a._onMouseMove(b)};this.onmouseup=function(b){a._onMouseUp(b)};c.addEventListener(document,"mousemove",this.onmousemove);c.addEventListener(document,"mouseup",this.onmouseup);c.preventDefault(b)}};b.prototype.leftToIndex=function(b){var a=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;b=Math.round((b-3)/a*(this.values.length-1));return 0>
b&&(b=0),b>this.values.length-1&&(b=this.values.length-1),b};b.prototype.indexToLeft=function(b){var a=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return b/(this.values.length-1)*a+3};b.prototype._onMouseMove=function(b){b=this.leftToIndex(this.startSlideX+(b.clientX-this.startClientX));this.setIndex(b);c.preventDefault()};b.prototype._onMouseUp=function(b){this.frame.style.cursor="auto";c.removeEventListener(document,"mousemove",this.onmousemove);c.removeEventListener(document,
"mouseup",this.onmouseup);c.preventDefault()};f.exports=b},function(f,h){function d(b,c,d,a){this._end=this._start=0;this._step=1;this.prettyStep=!0;this.precision=5;this._current=0;this.setRange(b,c,d,a)}d.prototype.isNumeric=function(b){return!isNaN(parseFloat(b))&&isFinite(b)};d.prototype.setRange=function(b,c,d,a){if(!this.isNumeric(b))throw Error("Parameter 'start' is not numeric; value: "+b);if(!this.isNumeric(c))throw Error("Parameter 'end' is not numeric; value: "+b);if(!this.isNumeric(d))throw Error("Parameter 'step' is not numeric; value: "+
b);this._start=b||0;this._end=c||0;this.setStep(d,a)};d.prototype.setStep=function(b,c){void 0===b||0>=b||(void 0!==c&&(this.prettyStep=c),!0===this.prettyStep?this._step=d.calculatePrettyStep(b):this._step=b)};d.calculatePrettyStep=function(b){var c=2*Math.pow(10,Math.round(Math.log(b/2)/Math.LN10)),d=5*Math.pow(10,Math.round(Math.log(b/5)/Math.LN10)),a=Math.pow(10,Math.round(Math.log(b)/Math.LN10));return Math.abs(c-b)<=Math.abs(a-b)&&(a=c),Math.abs(d-b)<=Math.abs(a-b)&&(a=d),0>=a&&(a=1),a};d.prototype.getCurrent=
function(){return parseFloat(this._current.toPrecision(this.precision))};d.prototype.getStep=function(){return this._step};d.prototype.start=function(b){void 0===b&&(b=!1);this._current=this._start-this._start%this._step;b&&this.getCurrent()<this._start&&this.next()};d.prototype.next=function(){this._current+=this._step};d.prototype.end=function(){return this._current>this._end};f.exports=d},function(f,h){function d(){this.max=this.min=void 0}d.prototype.adjust=function(b){void 0!==b&&((void 0===
this.min||this.min>b)&&(this.min=b),(void 0===this.max||this.max<b)&&(this.max=b))};d.prototype.combine=function(b){this.add(b.min);this.add(b.max)};d.prototype.expand=function(b){if(void 0!==b){var c=this.min-b;b=this.max+b;if(c>b)throw Error("Passed expansion value makes range invalid");this.min=c;this.max=b}};d.prototype.range=function(){return this.max-this.min};d.prototype.center=function(){return(this.min+this.max)/2};f.exports=d},function(f,h,d){function b(a){for(var b in a)if(a.hasOwnProperty(b))return!1;
return!0}function c(a){return void 0===a||""===a||"string"!=typeof a?a:a.charAt(0).toUpperCase()+a.slice(1)}function n(a,b,d,e){var g,l,k;for(k in d)g=d[k],l=void 0===e||""===e?g:e+c(g),b[l]=a[g]}function a(a,b,d,e){var g,l,k;for(k in d)g=d[k],void 0!==a[g]&&(l=void 0===e||""===e?g:e+c(g),b[l]=a[g])}function e(a,b){if(void 0!==a.backgroundColor){var c=a.backgroundColor,d="white",e="gray",k=1;if("string"==typeof c)d=c,e="none",k=0;else{if("object"!==(void 0===c?"undefined":(0,g["default"])(c)))throw Error("Unsupported type of backgroundColor");
void 0!==c.fill&&(d=c.fill);void 0!==c.stroke&&(e=c.stroke);void 0!==c.strokeWidth&&(k=c.strokeWidth)}b.frame.style.backgroundColor=d;b.frame.style.borderColor=e;b.frame.style.borderWidth=k+"px";b.frame.style.borderStyle="solid"}c=a.dataColor;void 0!==c&&(void 0===b.dataColor&&(b.dataColor={}),"string"==typeof c?(b.dataColor.fill=c,b.dataColor.stroke=c):(c.fill&&(b.dataColor.fill=c.fill),c.stroke&&(b.dataColor.stroke=c.stroke),void 0!==c.strokeWidth&&(b.dataColor.strokeWidth=c.strokeWidth)));c=a.style;
if(void 0!==c){var p;if("string"==typeof c){if(p=r[c],-1===(p=void 0===p?-1:p))throw Error("Style '"+c+"' is invalid");}else{d=!1;for(p in l)if(l[p]===c){d=!0;break}if(!d)throw Error("Style '"+c+"' is invalid");p=c}b.style=p}p=a.showLegend;void 0===p?void 0===v.showLegend&&(b.showLegend=b.style===l.DOTCOLOR||b.style===l.DOTSIZE):b.showLegend=p;q(a.cameraPosition,b);void 0!==a.tooltip&&(b.showTooltip=a.tooltip);void 0!=a.onclick&&(b.onclick_callback=a.onclick);void 0!==a.tooltipStyle&&m.selectiveDeepExtend(["tooltipStyle"],
b,a)}function q(a,b){void 0!==a&&(void 0===b.camera&&(b.camera=new k),b.camera.setArmRotation(a.horizontal,a.vertical),b.camera.setArmLength(a.distance))}var g=(h=d(62))&&h.__esModule?h:{"default":h},m=d(1),k=d(102),p=d(100),l={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},r={dot:l.DOT,"dot-line":l.DOTLINE,"dot-color":l.DOTCOLOR,"dot-size":l.DOTSIZE,line:l.LINE,grid:l.GRID,surface:l.SURFACE,bar:l.BAR,"bar-color":l.BARCOLOR,"bar-size":l.BARSIZE},t="width height filterLabel legendLabel xLabel yLabel zLabel xValueLabel yValueLabel zValueLabel showXAxis showYAxis showZAxis showGrid showPerspective showShadow keepAspectRatio verticalRatio dotSizeRatio dotSizeMinFraction dotSizeMaxFraction showAnimationControls animationInterval animationPreload animationAutoStart axisColor gridColor xCenter yCenter".split(" "),
u="xBarWidth yBarWidth valueMin valueMax xMin xMax xStep yMin yMax yStep zMin zMax zStep".split(" "),v=void 0;f.exports.STYLE=l;f.exports.setDefaults=function(a,c){if(void 0===a||b(a))throw Error("No DEFAULTS passed");if(void 0===c)throw Error("No dst passed");v=a;n(a,c,t);n(a,c,u,"default");e(a,c);c.margin=10;c.showGrayBottom=!1;c.showTooltip=!1;c.onclick_callback=null;c.eye=new p(0,0,-1)};f.exports.setOptions=function(c,d){if(void 0!==c){if(void 0===d)throw Error("No dst passed");if(void 0===v||
b(v))throw Error("DEFAULTS not set for module Settings");a(c,d,t);a(c,d,u,"default");e(c,d)}};f.exports.setCameraPosition=q},function(f,h,d){function b(){this.dataTable=null}var c=d(89),n=d(93),a=(d(100),d(110));b.prototype.initializeData=function(a,b,d){if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==b){Array.isArray(b)&&(b=new c(b));var m;if(!(b instanceof c||b instanceof n))throw Error("Array, DataSet, or DataView expected");if(m=b.get(),0!=m.length){this.dataSet=b;this.dataTable=
m;var k=this;this._onChange=function(){a.setData(k.dataSet)};this.dataSet.on("*",this._onChange);this.colX="x";this.colY="y";this.colZ="z";b=a.hasBars(d);if(b&&(void 0!==a.defaultXBarWidth?this.xBarWidth=a.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(m,this.colX)||1,void 0!==a.defaultYBarWidth?this.yBarWidth=a.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(m,this.colY)||1),this._initializeRange(m,this.colX,a,b),this._initializeRange(m,this.colY,a,b),this._initializeRange(m,
this.colZ,a,!1),m[0].hasOwnProperty("style"))this.colValue="style",m=this.getColumnRange(m,this.colValue),this._setRangeDefaults(m,a.defaultValueMin,a.defaultValueMax),this.valueRange=m}}};b.prototype._collectRangeSettings=function(a,b){if(-1==["x","y","z"].indexOf(a))throw Error("Column '"+a+"' invalid");var c=a.toUpperCase();return{barWidth:this[a+"BarWidth"],min:b["default"+c+"Min"],max:b["default"+c+"Max"],step:b["default"+c+"Step"],range_label:a+"Range",step_label:a+"Step"}};b.prototype._initializeRange=
function(a,b,c,d){c=this._collectRangeSettings(b,c);a=this.getColumnRange(a,b);d&&"z"!=b&&a.expand(c.barWidth/2);this._setRangeDefaults(a,c.min,c.max);this[c.range_label]=a;this[c.step_label]=void 0!==c.step?c.step:a.range()/5};b.prototype.getDistinctValues=function(a,b){void 0===b&&(b=this.dataTable);for(var c=[],d=0;d<b.length;d++){var k=b[d][a]||0;-1===c.indexOf(k)&&c.push(k)}return c.sort(function(a,b){return a-b})};b.prototype.getSmallestDifference=function(a,b){for(var c=this.getDistinctValues(a,
b),d=null,k=1;k<c.length;k++){var p=c[k]-c[k-1];(null==d||d>p)&&(d=p)}return d};b.prototype.getColumnRange=function(b,c){for(var d=new a,m=0;m<b.length;m++)d.adjust(b[m][c]);return d};b.prototype.getNumberOfRows=function(){return this.dataTable.length};b.prototype._setRangeDefaults=function(a,b,c){void 0!==b&&(a.min=b);void 0!==c&&(a.max=c);a.max<=a.min&&(a.max=a.min+1)};b.prototype.getDataTable=function(){return this.dataTable};b.prototype.getDataSet=function(){return this.dataSet};b.prototype.reload=
function(){this.dataTable&&this.setData(this.dataTable)};f.exports=b},function(f,h,d){"undefined"!=typeof window?(h=d(114),d=window.Hammer||d(115),f.exports=h(d,{preventDefault:"mouse"})):f.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.");}},function(f,h,d){var b,c,n;!function(a){c=[];b=a;void 0!==(n="function"==typeof b?b.apply(h,c):b)&&(f.exports=n)}(function(){var a=null;return function q(b,c){function d(b){if("hammer.input"!==b.type){if(b.srcEvent._handled||
(b.srcEvent._handled={}),b.srcEvent._handled[b.type])return;b.srcEvent._handled[b.type]=!0}var c=!1;b.stopPropagation=function(){c=!0};var g=b.srcEvent.stopPropagation.bind(b.srcEvent);"function"==typeof g&&(b.srcEvent.stopPropagation=function(){g();b.stopPropagation()});for(var l=b.firstTarget=a;l&&!c;){var k=l.hammer;if(k)for(var p,m=0;m<k.length;m++)if(p=k[m]._handlers[b.type])for(var r=0;r<p.length&&!c;r++)p[r](b);l=l.parentNode}}var p=c||{preventDefault:!1};if(b.Manager){var l=function(a,c){var d=
Object.create(p);return c&&b.assign(d,c),q(new b(a,d),d)};return b.assign(l,b),l.Manager=function(a,c){var d=Object.create(p);return c&&b.assign(d,c),q(new b.Manager(a,d),d)},l}var r=Object.create(b),l=b.element;return l.hammer||(l.hammer=[]),l.hammer.push(r),b.on("hammer.input",function(b){!0!==p.preventDefault&&p.preventDefault!==b.pointerType||b.preventDefault();b.isFirst&&(a=b.target)}),r._handlers={},r.on=function(a,c){return a.match(/[^ ]+/g).forEach(function(a){var l=r._handlers[a];l||(r._handlers[a]=
l=[],b.on(a,d));l.push(c)}),r},r.off=function(a,c){return a.match(/[^ ]+/g).forEach(function(a){var l=r._handlers[a];l&&(l=c?l.filter(function(a){return a!==c}):[],0<l.length?r._handlers[a]=l:(b.off(a,d),delete r._handlers[a]))}),r},r.emit=function(c,d){a=d.target;b.emit(c,d)},r.destroy=function(){var a=b.element.hammer,c=a.indexOf(r);-1!==c&&a.splice(c,1);a.length||delete b.element.hammer;r._handlers={};b.destroy()},r}})},function(f,h,d){var b;!function(c,n,a,e){function q(a,b,c){return setTimeout(l(a,
c),b)}function g(a,b,c){return!!Array.isArray(a)&&(m(a,c[b],c),!0)}function m(a,b,c){var d;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==e)for(d=0;d<a.length;)b.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function k(a,b,d){var e="DEPRECATED METHOD: "+b+"\n"+d+" AT \n";return function(){var b=Error("get-stack-trace"),b=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",
d=c.console&&(c.console.warn||c.console.log);return d&&d.call(c.console,e,b),a.apply(this,arguments)}}function p(a,b,c){var d=b.prototype;b=a.prototype=Object.create(d);b.constructor=a;b._super=d;c&&ta(b,c)}function l(a,b){return function(){return a.apply(b,arguments)}}function r(a,b){return typeof a==lb?a.apply(b?b[0]||e:e,b):a}function t(a,b,c){m(C(b),function(b){a.addEventListener(b,c,!1)})}function u(a,b,c){m(C(b),function(b){a.removeEventListener(b,c,!1)})}function v(a,b){for(;a;){if(a==b)return!0;
a=a.parentNode}return!1}function C(a){return a.trim().split(/\s+/g)}function A(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function D(a){return Array.prototype.slice.call(a,0)}function y(a,b,c){for(var d=[],e=[],g=0;g<a.length;){var l=b?a[g][b]:a[g];0>A(e,l)&&d.push(a[g]);e[g]=l;g++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function w(a,b){for(var c,d,g=b[0].toUpperCase()+b.slice(1),l=0;l<Pa.length;){if(c=
Pa[l],(d=c?c+g:b)in a)return d;l++}return e}function z(a){a=a.ownerDocument||a;return a.defaultView||a.parentWindow||c}function x(a,b){var c=this;this.manager=a;this.callback=b;this.element=a.element;this.target=a.options.inputTarget;this.domHandler=function(b){r(a.options.enable,[a])&&c.handler(b)};this.init()}function B(a,b,c){var d,g,l=c.pointers.length;d=c.changedPointers.length;var k=b&ia&&0==l-d,l=b&(Z|fa)&&0==l-d;c.isFirst=!!k;c.isFinal=!!l;k&&(a.session={});c.eventType=b;b=a.session;k=c.pointers;
l=k.length;b.firstInput||(b.firstInput=F(c));1<l&&!b.firstMultiple?b.firstMultiple=F(c):1===l&&(b.firstMultiple=!1);d=b.firstInput;g=(l=b.firstMultiple)?l.center:d.center;var p=c.center=Q(k);c.timeStamp=gb();c.deltaTime=c.timeStamp-d.timeStamp;c.angle=O(g,p);c.distance=I(g,p);d=c.center;g=b.offsetDelta||{};var p=b.prevDelta||{},m=b.prevInput||{};c.eventType!==ia&&m.eventType!==Z||(p=b.prevDelta={x:m.deltaX||0,y:m.deltaY||0},g=b.offsetDelta={x:d.x,y:d.y});c.deltaX=p.x+(d.x-g.x);c.deltaY=p.y+(d.y-g.y);
c.offsetDirection=P(c.deltaX,c.deltaY);g=c.deltaTime;d=c.deltaX/g||0;g=c.deltaY/g||0;c.overallVelocityX=d;c.overallVelocityY=g;c.overallVelocity=Ca(d)>Ca(g)?d:g;l?(d=l.pointers,d=I(k[0],k[1],Ta)/I(d[0],d[1],Ta)):d=1;c.scale=d;l?(l=l.pointers,k=O(k[1],k[0],Ta)+O(l[1],l[0],Ta)):k=0;c.rotation=k;c.maxPointers=b.prevInput?c.pointers.length>b.prevInput.maxPointers?c.pointers.length:b.prevInput.maxPointers:c.pointers.length;g=b.lastInterval||c;k=c.timeStamp-g.timeStamp;c.eventType!=fa&&(k>Cb||g.velocity===
e)?(d=c.deltaX-g.deltaX,g=c.deltaY-g.deltaY,p=d/k||0,m=g/k||0,k=p,l=m,p=Ca(p)>Ca(m)?p:m,d=P(d,g),b.lastInterval=c):(p=g.velocity,k=g.velocityX,l=g.velocityY,d=g.direction);c.velocity=p;c.velocityX=k;c.velocityY=l;c.direction=d;b=a.element;v(c.srcEvent.target,b)&&(b=c.srcEvent.target);c.target=b;a.emit("hammer.input",c);a.recognize(c);a.session.prevInput=c}function F(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:Ba(a.pointers[c].clientX),clientY:Ba(a.pointers[c].clientY)},c++;return{timeStamp:gb(),
pointers:b,center:Q(b),deltaX:a.deltaX,deltaY:a.deltaY}}function Q(a){var b=a.length;if(1===b)return{x:Ba(a[0].clientX),y:Ba(a[0].clientY)};for(var c=0,d=0,e=0;e<b;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:Ba(c/b),y:Ba(d/b)}}function P(a,b){return a===b?ib:Ca(a)>=Ca(b)?0>a?Sa:cb:0>b?Ra:V}function I(a,b,c){c||(c=jb);var d=b[c[0]]-a[c[0]];a=b[c[1]]-a[c[1]];return Math.sqrt(d*d+a*a)}function O(a,b,c){c||(c=jb);return 180*Math.atan2(b[c[1]]-a[c[1]],b[c[0]]-a[c[0]])/Math.PI}function K(){this.evEl=
sb;this.evWin=tb;this.pressed=!1;x.apply(this,arguments)}function J(){this.evEl=pa;this.evWin=Fa;x.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Gb;this.evWin=Hb;this.started=!1;x.apply(this,arguments)}function R(){this.evTarget=Jb;this.targetIds={};x.apply(this,arguments)}function W(a,b){var c=D(a.touches),d=this.targetIds;if(b&(ia|na)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,g=D(a.changedTouches),l=[],k=this.target;if(e=c.filter(function(a){return v(a.target,
k)}),b===ia)for(c=0;c<e.length;)d[e[c].identifier]=!0,c++;for(c=0;c<g.length;)d[g[c].identifier]&&l.push(g[c]),b&(Z|fa)&&delete d[g[c].identifier],c++;return l.length?[y(e.concat(l),"identifier",!0),l]:void 0}function H(){x.apply(this,arguments);var a=l(this.handler,this);this.touch=new R(this.manager,a);this.mouse=new K(this.manager,a);this.primaryTouch=null;this.lastTouches=[]}function ja(a){a=a.changedPointers[0];if(a.identifier===this.primaryTouch){var b={x:a.clientX,y:a.clientY};this.lastTouches.push(b);
var c=this.lastTouches;setTimeout(function(){var a=c.indexOf(b);-1<a&&c.splice(a,1)},kb)}}function S(a,b){this.manager=a;this.set(b)}function aa(a){if(-1<a.indexOf(Ga))return Ga;var b=-1<a.indexOf(Na),c=-1<a.indexOf(Va);return b&&c?Ga:b||c?b?Na:Va:-1<a.indexOf(Ua)?Ua:wb}function ba(a){this.options=ta({},this.defaults,a||{});this.id=Za++;this.manager=null;a=this.options.enable;this.options.enable=a===e?!0:a;this.state=qa;this.simultaneous={};this.requireFail=[]}function G(a){return a&ab?"cancel":a&
ra?"end":a&Wa?"move":a&da?"start":""}function ua(a){return a==V?"down":a==Ra?"up":a==Sa?"left":a==cb?"right":""}function ka(a,b){var c=b.manager;return c?c.get(a):a}function U(){ba.apply(this,arguments)}function M(){U.apply(this,arguments);this.pY=this.pX=null}function la(){U.apply(this,arguments)}function va(){ba.apply(this,arguments);this._input=this._timer=null}function ya(){U.apply(this,arguments)}function Qa(){U.apply(this,arguments)}function Da(){ba.apply(this,arguments);this.pCenter=this.pTime=
!1;this._input=this._timer=null;this.count=0}function ma(a,b){b=b||{};var c=b.recognizers;return b.recognizers=c===e?ma.defaults.preset:c,new $a(a,b)}function $a(a,b){this.options=ta({},ma.defaults,b||{});this.options.inputTarget=this.options.inputTarget||a;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=a;this.input=new (this.options.inputClass||(ob?J:zb?R:xa?H:K))(this,B);this.touchAction=new S(this,this.options.touchAction);Ja(this,!0);m(this.options.recognizers,
function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]);a[3]&&b.requireFailure(a[3])},this)}function Ja(a,b){var c=a.element;if(c.style){var d;m(a.options.cssProps,function(e,g){d=w(c.style,g);b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""});b||(a.oldCssProps={})}}function fb(a,b){var c=n.createEvent("Event");c.initEvent(a,!0,!0);c.gesture=b;b.target.dispatchEvent(c)}var ta,Pa=" webkit Moz MS ms o".split(" "),Ia=n.createElement("div"),lb="function",Ba=
Math.round,Ca=Math.abs,gb=Date.now;ta="function"!=typeof Object.assign?function(a){if(a===e||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(d!==e&&null!==d)for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g])}return b}:Object.assign;var mb=k(function(a,b,c){for(var d=Object.keys(b),g=0;g<d.length;)(!c||c&&a[d[g]]===e)&&(a[d[g]]=b[d[g]]),g++;return a},"extend","Use `assign`."),yb=k(function(a,b){return mb(a,
b,!0)},"merge","Use `assign`."),Za=1,nb=/mobile|tablet|ip(ad|hone|od)|android/i,xa="ontouchstart"in c,ob=w(c,"PointerEvent")!==e,zb=xa&&nb.test(navigator.userAgent),Cb=25,ia=1,na=2,Z=4,fa=8,ib=1,Sa=2,cb=4,Ra=8,V=16,oa=Sa|cb,Ma=Ra|V,db=oa|Ma,jb=["x","y"],Ta=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&t(this.element,this.evEl,this.domHandler);this.evTarget&&t(this.target,this.evTarget,this.domHandler);this.evWin&&t(z(this.element),this.evWin,this.domHandler)},
destroy:function(){this.evEl&&u(this.element,this.evEl,this.domHandler);this.evTarget&&u(this.target,this.evTarget,this.domHandler);this.evWin&&u(z(this.element),this.evWin,this.domHandler)}};var Db={mousedown:ia,mousemove:na,mouseup:Z},sb="mousedown",tb="mousemove mouseup";p(K,x,{handler:function(a){var b=Db[a.type];b&ia&&0===a.button&&(this.pressed=!0);b&na&&1!==a.which&&(b=Z);this.pressed&&(b&Z&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:"mouse",
srcEvent:a}))}});var ub={pointerdown:ia,pointermove:na,pointerup:Z,pointercancel:fa,pointerout:fa},Eb={2:"touch",3:"pen",4:"mouse",5:"kinect"},pa="pointerdown",Fa="pointermove pointerup pointercancel";c.MSPointerEvent&&!c.PointerEvent&&(pa="MSPointerDown",Fa="MSPointerMove MSPointerUp MSPointerCancel");p(J,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),d=ub[d],e=Eb[a.pointerType]||a.pointerType,g="touch"==e,l=A(b,a.pointerId,"pointerId");d&ia&&(0===a.button||
g)?0>l&&(b.push(a),l=b.length-1):d&(Z|fa)&&(c=!0);0>l||(b[l]=a,this.callback(this.manager,d,{pointers:b,changedPointers:[a],pointerType:e,srcEvent:a}),c&&b.splice(l,1))}});var Fb={touchstart:ia,touchmove:na,touchend:Z,touchcancel:fa},Gb="touchstart",Hb="touchstart touchmove touchend touchcancel";p(N,x,{handler:function(a){var b=Fb[a.type];if(b===ia&&(this.started=!0),this.started){var c,d=D(a.touches);c=D(a.changedTouches);c=(b&(Z|fa)&&(d=y(d.concat(c),"identifier",!0)),[d,c]);b&(Z|fa)&&0==c[0].length-
c[1].length&&(this.started=!1);this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}}});var Ib={touchstart:ia,touchmove:na,touchend:Z,touchcancel:fa},Jb="touchstart touchmove touchend touchcancel";p(R,x,{handler:function(a){var b=Ib[a.type],c=W.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}});var kb=2500;p(H,x,{handler:function(a,b,c){var d="touch"==c.pointerType,e="mouse"==c.pointerType;
if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)b&ia?(this.primaryTouch=c.changedPointers[0].identifier,ja.call(this,c)):b&(Z|fa)&&ja.call(this,c);else{if(d=e)a:{for(var d=c.srcEvent.clientX,e=c.srcEvent.clientY,g=0;g<this.lastTouches.length;g++){var l=this.lastTouches[g],k=Math.abs(e-l.y);if(25>=Math.abs(d-l.x)&&25>=k){d=!0;break a}}d=!1}if(d)return}this.callback(a,b,c)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var vb=w(Ia.style,"touchAction"),Kb=
vb!==e,wb="auto",Ua="manipulation",Ga="none",Na="pan-x",Va="pan-y",eb=function(){if(!Kb)return!1;var a={},b=c.CSS&&c.CSS.supports;return"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(d){a[d]=!b||c.CSS.supports("touch-action",d)}),a}();S.prototype={set:function(a){"compute"==a&&(a=this.compute());Kb&&this.manager.element.style&&eb[a]&&(this.manager.element.style[vb]=a);this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=
[];return m(this.manager.recognizers,function(b){r(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),aa(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=-1<d.indexOf(Ga)&&!eb[Ga],g=-1<d.indexOf(Va)&&!eb[Va],d=-1<d.indexOf(Na)&&!eb[Na];if(e){var l=2>a.distance,k=250>a.deltaTime;if(1===a.pointers.length&&l&&k)return}return d&&g?void 0:e||g&&c&oa||d&&c&Ma?this.preventSrc(b):void 0},
preventSrc:function(a){this.manager.session.prevented=!0;a.preventDefault()}};var qa=1,da=2,Wa=4,ra=8,wa=ra,ab=16;ba.prototype={defaults:{},set:function(a){return ta(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(g(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=ka(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return g(a,"dropRecognizeWith",this)?this:(a=ka(a,this),delete this.simultaneous[a.id],
this)},requireFailure:function(a){if(g(a,"requireFailure",this))return this;var b=this.requireFail;return a=ka(a,this),-1===A(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(g(a,"dropRequireFailure",this))return this;a=ka(a,this);a=A(this.requireFail,a);return-1<a&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(d){c.manager.emit(d,
a)}var c=this,d=this.state;d<ra&&b(c.options.event+G(d));b(c.options.event);a.additionalEvent&&b(a.additionalEvent);d>=ra&&b(c.options.event+G(d))},tryEmit:function(a){if(this.canEmit())return this.emit(a);this.state=32},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|qa)))return!1;a++}return!0},recognize:function(a){a=ta({},a);if(!r(this.options.enable,[this,a]))return this.reset(),void(this.state=32);this.state&(wa|ab|32)&&(this.state=qa);this.state=
this.process(a);this.state&(da|Wa|ra|ab)&&this.tryEmit(a)},process:function(a){},getTouchAction:function(){},reset:function(){}};p(U,ba,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(da|Wa);a=this.attrTest(a);return d&&(c&fa||!a)?b|ab:d||a?c&Z?b|ra:b&da?b|Wa:da:32}});p(M,U,{defaults:{event:"pan",threshold:10,pointers:1,direction:db},getTouchAction:function(){var a=this.options.direction,
b=[];return a&oa&&b.push(Va),a&Ma&&b.push(Na),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,g=a.deltaX,l=a.deltaY;return e&b.direction||(b.direction&oa?(e=0===g?ib:0>g?Sa:cb,c=g!=this.pX,d=Math.abs(a.deltaX)):(e=0===l?ib:0>l?Ra:V,c=l!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return U.prototype.attrTest.call(this,a)&&(this.state&da||!(this.state&da)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;
this.pY=a.deltaY;var b=ua(a.direction);b&&(a.additionalEvent=this.options.event+b);this._super.emit.call(this,a)}});p(la,U,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ga]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&da)},emit:function(a){1!==a.scale&&(a.additionalEvent=this.options.event+(1>a.scale?"in":"out"));this._super.emit.call(this,a)}});p(va,ba,{defaults:{event:"press",pointers:1,
time:251,threshold:9},getTouchAction:function(){return[wb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Z|fa)&&!e)this.reset();else if(a.eventType&ia)this.reset(),this._timer=q(function(){this.state=wa;this.tryEmit()},b.time,this);else if(a.eventType&Z)return wa;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===wa&&(a&&a.eventType&Z?this.manager.emit(this.options.event+
"up",a):(this._input.timeStamp=gb(),this.manager.emit(this.options.event,this._input)))}});p(ya,U,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ga]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&da)}});p(Qa,U,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:oa|Ma,pointers:1},getTouchAction:function(){return M.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;
return c&(oa|Ma)?b=a.overallVelocity:c&oa?b=a.overallVelocityX:c&Ma&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&Ca(b)>this.options.velocity&&a.eventType&Z},emit:function(a){var b=ua(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a);this.manager.emit(this.options.event,a)}});p(Da,ba,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ua]},
process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime<b.time;if(this.reset(),a.eventType&ia&&0===this.count)return this.failTimeout();if(d&&e&&c){if(a.eventType!=Z)return this.failTimeout();c=!this.pTime||a.timeStamp-this.pTime<b.interval;d=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp;this.pCenter=a.center;d&&c?this.count+=1:this.count=1;this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?
(this._timer=q(function(){this.state=wa;this.tryEmit()},b.interval,this),da):wa}return 32},failTimeout:function(){return this._timer=q(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==wa&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});ma.VERSION="2.0.7";ma.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ya,{enable:!1}],[la,{enable:!1},
["rotate"]],[Qa,{direction:oa}],[M,{direction:oa},["swipe"]],[Da],[Da,{event:"doubletap",taps:2},["tap"]],[va]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};$a.prototype={set:function(a){return ta(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var b=
this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&wa)&&(e=b.curRecognizer=null);for(var g=0;g<d.length;)c=d[g],2===b.stopped||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(da|Wa|ra)&&(e=b.curRecognizer=c),g++}},get:function(a){if(a instanceof ba)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(g(a,"add",this))return this;var b=
this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(g(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers;a=A(b,a);-1!==a&&(b.splice(a,1),this.touchAction.update())}return this},on:function(a,b){if(a!==e&&b!==e){var c=this.handlers;return m(C(a),function(a){c[a]=c[a]||[];c[a].push(b)}),this}},off:function(a,b){if(a!==e){var c=this.handlers;return m(C(a),function(a){b?c[a]&&c[a].splice(A(c[a],
b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&fb(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a;b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&Ja(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};ta(ma,{INPUT_START:ia,INPUT_MOVE:na,INPUT_END:Z,INPUT_CANCEL:fa,STATE_POSSIBLE:qa,STATE_BEGAN:da,STATE_CHANGED:Wa,STATE_ENDED:ra,STATE_RECOGNIZED:wa,
STATE_CANCELLED:ab,STATE_FAILED:32,DIRECTION_NONE:ib,DIRECTION_LEFT:Sa,DIRECTION_RIGHT:cb,DIRECTION_UP:Ra,DIRECTION_DOWN:V,DIRECTION_HORIZONTAL:oa,DIRECTION_VERTICAL:Ma,DIRECTION_ALL:db,Manager:$a,Input:x,TouchAction:S,TouchInput:R,MouseInput:K,PointerEventInput:J,TouchMouseInput:H,SingleTouchInput:N,Recognizer:ba,AttrRecognizer:U,Tap:Da,Pan:M,Swipe:Qa,Pinch:la,Rotate:ya,Press:va,on:t,off:u,each:m,merge:yb,extend:mb,assign:ta,inherit:p,bindFn:l,prefixed:w});(void 0!==c?c:"undefined"!=typeof self?
self:{}).Hammer=ma;(b=function(){return ma}.call(h,d,h,f))!==e&&(f.exports=b)}(window,document)},function(f,h,d){var b,c,n;!function(a,d){c=[];b=d;void 0!==(n="function"==typeof b?b.apply(h,c):b)&&(f.exports=n)}(0,function(){return function(a){var b=a&&a.preventDefault||!1,c=a&&a.container||window,d={},m={keydown:{},keyup:{}},k={};for(a=97;122>=a;a++)k[String.fromCharCode(a)]={code:a-97+65,shift:!1};for(a=65;90>=a;a++)k[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;9>=a;a++)k[""+a]={code:48+a,
shift:!1};for(a=1;12>=a;a++)k["F"+a]={code:111+a,shift:!1};for(a=0;9>=a;a++)k["num"+a]={code:96+a,shift:!1};k["num*"]={code:106,shift:!1};k["num+"]={code:107,shift:!1};k["num-"]={code:109,shift:!1};k["num/"]={code:111,shift:!1};k["num."]={code:110,shift:!1};k.left={code:37,shift:!1};k.up={code:38,shift:!1};k.right={code:39,shift:!1};k.down={code:40,shift:!1};k.space={code:32,shift:!1};k.enter={code:13,shift:!1};k.shift={code:16,shift:void 0};k.esc={code:27,shift:!1};k.backspace={code:8,shift:!1};
k.tab={code:9,shift:!1};k.ctrl={code:17,shift:!1};k.alt={code:18,shift:!1};k["delete"]={code:46,shift:!1};k.pageup={code:33,shift:!1};k.pagedown={code:34,shift:!1};k["="]={code:187,shift:!1};k["-"]={code:189,shift:!1};k["]"]={code:221,shift:!1};k["["]={code:219,shift:!1};var p=function(a){r(a,"keydown")},l=function(a){r(a,"keyup")},r=function(a,c){if(void 0!==m[c][a.keyCode]){for(var d=m[c][a.keyCode],g=0;g<d.length;g++)void 0===d[g].shift?d[g].fn(a):1==d[g].shift&&1==a.shiftKey?d[g].fn(a):0==d[g].shift&&
0==a.shiftKey&&d[g].fn(a);1==b&&a.preventDefault()}};return d.bind=function(a,b,c){if(void 0===c&&(c="keydown"),void 0===k[a])throw Error("unsupported key: "+a);void 0===m[c][k[a].code]&&(m[c][k[a].code]=[]);m[c][k[a].code].push({fn:b,shift:k[a].shift})},d.bindAll=function(a,b){void 0===b&&(b="keydown");for(var c in k)k.hasOwnProperty(c)&&d.bind(c,a,b)},d.getKey=function(a){for(var b in k)if(k.hasOwnProperty(b)&&(1==a.shiftKey&&1==k[b].shift&&a.keyCode==k[b].code||0==a.shiftKey&&0==k[b].shift&&a.keyCode==
k[b].code||a.keyCode==k[b].code&&"shift"==b))return b;return"unknown key, currently not supported"},d.unbind=function(a,b,c){if(void 0===c&&(c="keydown"),void 0===k[a])throw Error("unsupported key: "+a);if(void 0!==b){var d=[],e=m[c][k[a].code];if(void 0!==e)for(var g=0;g<e.length;g++)e[g].fn==b&&e[g].shift==k[a].shift||d.push(m[c][k[a].code][g]);m[c][k[a].code]=d}else m[c][k[a].code]=[]},d.reset=function(){m={keydown:{},keyup:{}}},d.destroy=function(){m={keydown:{},keyup:{}};c.removeEventListener("keydown",
p,!0);c.removeEventListener("keyup",l,!0)},c.addEventListener("keydown",p,!0),c.addEventListener("keyup",l,!0),d}})},function(f,h,d){h.util=d(1);h.DOMutil=d(88);h.DataSet=d(89);h.DataView=d(93);h.Queue=d(92);h.Timeline=d(118);h.Graph2d=d(149);h.timeline={Core:d(123),DateUtil:d(122),Range:d(119),stack:d(127),TimeStep:d(125),components:{items:{Item:d(129),BackgroundItem:d(133),BoxItem:d(131),PointItem:d(132),RangeItem:d(128)},BackgroundGroup:d(130),Component:d(121),CurrentTime:d(144),CustomTime:d(142),
DataAxis:d(151),DataScale:d(152),GraphGroup:d(153),Group:d(126),ItemSet:d(124),Legend:d(157),LineGraph:d(150),TimeAxis:d(140)}};h.moment=d(82);h.Hammer=d(113);h.keycharm=d(116)},function(f,h,d){function b(d,g,p,t){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");!(Array.isArray(p)||p instanceof a||p instanceof e)&&p instanceof Object&&(p=t=p);t&&t.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');
var r=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:c,width:null,height:null,maxHeight:null,minHeight:null},this.options=n.deepExtend({},this.defaultOptions),this._create(d),!t||t&&void 0===t.rtl){var f;for(d=this.dom.root;!f&&d;)f=window.getComputedStyle(d,null).direction,d=d.parentElement;this.options.rtl=f&&"rtl"==f.toLowerCase()}else this.options.rtl=t.rtl;this.options.rollingMode=t&&t.rollingMode;this.components=[];this.body={dom:this.dom,
domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}};this.range=new q(this.body,this.options);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new m(this.body,this.options);this.timeAxis2=
null;this.components.push(this.timeAxis);this.currentTime=new k(this.body,this.options);this.components.push(this.currentTime);this.itemSet=new l(this.body,this.options);this.components.push(this.itemSet);this.groupsData=this.itemsData=null;this.dom.root.onclick=function(a){r.emit("click",r.getEventProperties(a))};this.dom.root.ondblclick=function(a){r.emit("doubleClick",r.getEventProperties(a))};this.dom.root.oncontextmenu=function(a){r.emit("contextmenu",r.getEventProperties(a))};this.dom.root.onmouseover=
function(a){r.emit("mouseOver",r.getEventProperties(a))};window.PointerEvent?(this.dom.root.onpointerdown=function(a){r.emit("mouseDown",r.getEventProperties(a))},this.dom.root.onpointermove=function(a){r.emit("mouseMove",r.getEventProperties(a))},this.dom.root.onpointerup=function(a){r.emit("mouseUp",r.getEventProperties(a))}):(this.dom.root.onmousemove=function(a){r.emit("mouseMove",r.getEventProperties(a))},this.dom.root.onmousedown=function(a){r.emit("mouseDown",r.getEventProperties(a))},this.dom.root.onmouseup=
function(a){r.emit("mouseUp",r.getEventProperties(a))});this.fitDone=!1;this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode&&!r.fitDone)if(r.fitDone=!0,void 0!=r.options.start||void 0!=r.options.end){if(void 0==r.options.start||void 0==r.options.end)var a=r.getItemRange();r.setWindow(void 0!=r.options.start?r.options.start:a.min,void 0!=r.options.end?r.options.end:a.max,{animation:!1})}else r.fit({animation:!1})});t&&this.setOptions(t);p&&this.setGroups(p);g&&this.setItems(g);
this._redraw()}var c=(d(99),d(113),d(82)),n=d(1),a=d(89),e=d(93),q=d(119),g=d(123),m=d(140),k=d(144),p=d(142),l=d(124),r=d(145).printStyle,t=d(146).allOptions,u=d(146).configureOptions,v=d(147)["default"],C=d(145)["default"];b.prototype=new g;b.prototype._createConfigurator=function(){return new v(this,this.dom.container,u)};b.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0});this._redraw()};b.prototype.setOptions=function(a){if(!0===C.validate(a,t)&&console.log("%cErrors have been found in the supplied options object.",
r),g.prototype.setOptions.call(this,a),"type"in a&&a.type!==this.options.type)if(this.options.type=a.type,a=this.itemsData){var b=this.getSelection();this.setItems(null);this.setItems(a);this.setSelection(b)}};b.prototype.setItems=function(b){this.itemsData=b=b?b instanceof a||b instanceof e?b:new a(b,{type:{start:"Date",end:"Date"}}):null;this.itemSet&&this.itemSet.setItems(b)};b.prototype.setGroups=function(b){if(b){var c=function(a){return!1!==a.visible};b=b instanceof a||b instanceof e?new e(b,
{filter:c}):new a(b.filter(c))}else b=null;this.groupsData=b;this.itemSet.setGroups(b)};b.prototype.setData=function(a){a&&a.groups&&this.setGroups(a.groups);a&&a.items&&this.setItems(a.items)};b.prototype.setSelection=function(a,b){this.itemSet&&this.itemSet.setSelection(a);b&&b.focus&&this.focus(a,b)};b.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};b.prototype.focus=function(a,b){if(this.itemsData&&void 0!=a){var c=Array.isArray(a)?a:[a],d=null,e=null;if(this.itemsData.getDataSet().get(c,
{type:{start:"Date",end:"Date"}}).forEach(function(a){var b=a.start.valueOf();a="end"in a?a.end.valueOf():a.start.valueOf();(null===d||b<d)&&(d=b);(null===e||a>e)&&(e=a)}),null!==d&&null!==e){var c=(d+e)/2,g=Math.max(this.range.end-this.range.start,1.1*(e-d));this.range.setRange(c-g/2,c+g/2,{animation:!b||void 0===b.animation||b.animation})}}};b.prototype.fit=function(a){var b;a=!a||void 0===a.animation||a.animation;var c=this.itemsData&&this.itemsData.getDataSet();1===c.length&&void 0===c.get()[0].end?
(b=this.getDataRange(),this.moveTo(b.min.valueOf(),{animation:a})):(b=this.getItemRange(),this.range.setRange(b.min,b.max,{animation:a}))};b.prototype.getItemRange=function(){var a=this.getDataRange(),b=null!==a.min?a.min.valueOf():null,c=null!==a.max?a.max.valueOf():null,d=null,e=null;if(null!=b&&null!=c){var g=function(a){return n.convert(a.data.start,"Date").valueOf()},l=function(a){return n.convert(void 0!=a.data.end?a.data.end:a.data.start,"Date").valueOf()},a=c-b;0>=a&&(a=10);var k=a/this.props.center.width;
if(n.forEach(this.itemSet.items,function(a){a.groupShowing&&(a.show(),a.repositionX());var p=g(a),m=l(a);this.options.rtl?(p-=(a.getWidthRight()+10)*k,m+=(a.getWidthLeft()+10)*k):(p-=(a.getWidthLeft()+10)*k,m+=(a.getWidthRight()+10)*k);p<b&&(b=p,d=a);m>c&&(c=m,e=a)}.bind(this)),d&&e){var p=d.getWidthLeft()+10,m=e.getWidthRight()+10,r=this.props.center.width-p-m;0<r&&(this.options.rtl?(b=g(d)-m*a/r,c=l(e)+p*a/r):(b=g(d)-p*a/r,c=l(e)+m*a/r))}}return{min:null!=b?new Date(b):null,max:null!=c?new Date(c):
null}};b.prototype.getDataRange=function(){var a=null,b=null,c=this.itemsData&&this.itemsData.getDataSet();return c&&c.forEach(function(c){var d=n.convert(c.start,"Date").valueOf();c=n.convert(void 0!=c.end?c.end:c.start,"Date").valueOf();(null===a||d<a)&&(a=d);(null===b||c>b)&&(b=c)}),{min:null!=a?new Date(a):null,max:null!=b?new Date(b):null}};b.prototype.getEventProperties=function(a){var b=a.center?a.center.x:a.clientX,c=a.center?a.center.y:a.clientY,b=this.options.rtl?n.getAbsoluteRight(this.dom.centerContainer)-
b:b-n.getAbsoluteLeft(this.dom.centerContainer),c=c-n.getAbsoluteTop(this.dom.centerContainer),d=this.itemSet.itemFromTarget(a),e=this.itemSet.groupFromTarget(a),g=p.customTimeFromTarget(a),l=this.itemSet.options.snap||null,k=this.body.util.getScale(),m=this.body.util.getStep(),r=this._toTime(b),l=l?l(r,k,m):r,k=n.getTarget(a),m=null;return null!=d?m="item":null!=g?m="custom-time":n.hasParent(k,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&n.hasParent(k,this.timeAxis2.dom.foreground)?m="axis":
n.hasParent(k,this.itemSet.dom.labelSet)?m="group-label":n.hasParent(k,this.currentTime.bar)?m="current-time":n.hasParent(k,this.dom.center)&&(m="background"),{event:a,item:d?d.id:null,group:e?e.groupId:null,what:m,pageX:a.srcEvent?a.srcEvent.pageX:a.pageX,pageY:a.srcEvent?a.srcEvent.pageY:a.pageY,x:b,y:c,time:r,snappedTime:l}};b.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(void 0==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())};
f.exports=b},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){var c=m().hours(0).minutes(0).seconds(0).milliseconds(0),d=c.clone().add(-3,"days").valueOf(),c=c.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0;void 0===b?(this.start=d,this.end=c):(this.start=b.start||d,this.end=b.end||c);this.rolling=!1;this.body=a;this.scaleOffset=this.deltaDifference=0;this.startToFront=!1;this.endToFront=!0;this.defaultOptions={rtl:!1,start:null,end:null,
moment:m,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536E10,rollingMode:{follow:!1,offset:.5}};this.options=g.extend({},this.defaultOptions);this.props={touch:{}};this.animationTimer=null;this.body.emitter.on("panstart",this._onDragStart.bind(this));this.body.emitter.on("panmove",this._onDrag.bind(this));this.body.emitter.on("panend",this._onDragEnd.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));
this.body.emitter.on("pinch",this._onPinch.bind(this));this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this));this.setOptions(b)}function n(a){if("horizontal"!=a&&"vertical"!=a)throw new TypeError('Unknown direction "'+a+'". Choose "horizontal" or "vertical".');}h=d(58);var a=b(h);h=d(90);var e=b(h);h=d(62);var q=b(h),g=d(1),m=(d(120),d(82));h=d(121);var k=d(122);c.prototype=new h;c.prototype.setOptions=function(a){a&&(g.selectiveExtend("animation direction min max zoomMin zoomMax moveable zoomable moment activate hiddenDates zoomKey rtl showCurrentTime rollingMode horizontalScroll".split(" "),
this.options,a),a.rollingMode&&a.rollingMode.follow&&this.startRolling(),("start"in a||"end"in a)&&this.setRange(a.start,a.end))};c.prototype.startRolling=function(){function a(){b.stopRolling();b.rolling=!0;var c=b.end-b.start,d=g.convert(new Date,"Date").valueOf(),e=d-c*b.options.rollingMode.offset,c=d+c*(1-b.options.rollingMode.offset),d=(!b.options||void 0===b.options.animation||b.options.animation,{animation:!1});b.setRange(e,c,d);c=1/b.conversion(b.body.domProps.center.width).scale/10;30>c&&
(c=30);1E3<c&&(c=1E3);b.body.dom.rollingModeBtn.style.visibility="hidden";b.currentTimeTimer=setTimeout(a,c)}var b=this;a()};c.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")};c.prototype.setRange=function(b,c,d,m){d||(d={});!0!==d.byUser&&(d.byUser=!1);var f=this,h=void 0!=b?g.convert(b,"Date").valueOf():null,n=void 0!=c?g.convert(c,"Date").valueOf():null;if(this._cancelAnimation(),
this.millisecondsPerPixelCache=void 0,d.animation){var A=this.start,D=this.end,y="object"===(0,q["default"])(d.animation)&&"duration"in d.animation?d.animation.duration:500;b="object"===(0,q["default"])(d.animation)&&"easingFunction"in d.animation?d.animation.easingFunction:"easeInOutQuad";var w=g.easingFunctions[b];if(!w)throw Error("Unknown easing function "+(0,e["default"])(b)+". Choose from: "+(0,a["default"])(g.easingFunctions).join(", "));var z=(new Date).valueOf(),x=!1;return function P(){if(!f.props.touch.dragging){var a=
(new Date).valueOf()-z,b=w(a/y),a=a>y;B=f._applyRange(a||null===h?h:A+(h-A)*b,a||null===n?n:D+(n-D)*b);k.updateHiddenDates(f.options.moment,f.body,f.options.hiddenDates);x=x||B;b={start:new Date(f.start),end:new Date(f.end),byUser:d.byUser,event:d.event};if(B&&f.body.emitter.emit("rangechange",b),a){if(x&&(f.body.emitter.emit("rangechanged",b),m))return m()}else f.animationTimer=setTimeout(P,20)}}()}var B=this._applyRange(h,n);if(k.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),
B){var F={start:new Date(this.start),end:new Date(this.end),byUser:d.byUser,event:d.event};if(this.body.emitter.emit("rangechange",F),clearTimeout(f.timeoutID),f.timeoutID=setTimeout(function(){f.body.emitter.emit("rangechanged",F)},200),m)return m()}};c.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache};c.prototype._cancelAnimation=function(){this.animationTimer&&
(clearTimeout(this.animationTimer),this.animationTimer=null)};c.prototype._applyRange=function(a,b){var c,d=null!=a?g.convert(a,"Date").valueOf():this.start,e=null!=b?g.convert(b,"Date").valueOf():this.end,k=null!=this.options.max?g.convert(this.options.max,"Date").valueOf():null,m=null!=this.options.min?g.convert(this.options.min,"Date").valueOf():null;if(isNaN(d)||null===d)throw Error('Invalid start "'+a+'"');if(isNaN(e)||null===e)throw Error('Invalid end "'+b+'"');if(e<d&&(e=d),null!==m&&d<m&&
(c=m-d,d+=c,e+=c,null!=k&&e>k&&(e=k)),null!==k&&e>k&&(c=e-k,d-=c,e-=c,null!=m&&d<m&&(d=m)),null!==this.options.zoomMin)if(k=parseFloat(this.options.zoomMin),0>k&&(k=0),e-d<k)this.end-this.start===k&&d>=this.start-.5&&e<=this.end?(d=this.start,e=this.end):(c=k-(e-d),d-=c/2,e+=c/2);null!==this.options.zoomMax&&(k=parseFloat(this.options.zoomMax),0>k&&(k=0),e-d>k&&(this.end-this.start===k&&d<this.start&&e>this.end?(d=this.start,e=this.end):(c=e-d-k,d+=c/2,e-=c/2)));c=this.start!=d||this.end!=e;return d>=
this.start&&d<=this.end||e>=this.start&&e<=this.end||this.start>=d&&this.start<=e||this.end>=d&&this.end<=e||this.body.emitter.emit("checkRangedItems"),this.start=d,this.end=e,c};c.prototype.getRange=function(){return{start:this.start,end:this.end}};c.prototype.conversion=function(a,b){return c.conversion(this.start,this.end,a,b)};c.conversion=function(a,b,c,d){return void 0===d&&(d=0),0!=c&&0!=b-a?{offset:a,scale:c/(b-a-d)}:{offset:0,scale:1}};c.prototype._onDragStart=function(a){this.previousDelta=
this.deltaDifference=0;this.options.moveable&&this._isInsideRange(a)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))};c.prototype._onDrag=function(a){if(a&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var b=this.options.direction;n(b);var c="horizontal"==b?a.deltaX:a.deltaY,c=c-this.deltaDifference,d=this.props.touch.end-
this.props.touch.start,d=d-k.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),b="horizontal"==b?this.body.domProps.center.width:this.body.domProps.center.height,b=this.options.rtl?c/b*d:-c/b*d,d=this.props.touch.start+b,b=this.props.touch.end+b,e=k.snapAwayFromHidden(this.body.hiddenDates,d,this.previousDelta-c,!0),g=k.snapAwayFromHidden(this.body.hiddenDates,b,this.previousDelta-c,!0);if(e!=d||g!=b)return this.deltaDifference+=c,this.props.touch.start=e,this.props.touch.end=g,
void this._onDrag(a);this.previousDelta=c;this._applyRange(d,b);this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:a});this.body.emitter.emit("panmove")}};c.prototype._onDragEnd=function(a){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),
byUser:!0,event:a}))};c.prototype._onMouseWheel=function(a){var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),this.options.zoomKey&&!a[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)this.options.horizontalScroll&&(a.preventDefault(),b=b*(this.end-this.start)/20,this.setRange(this.start-b,this.end-b,{animation:!1,byUser:!0,event:a}));else if(this.options.zoomable&&this.options.moveable&&this._isInsideRange(a)&&b){var c;c=0>b?1-b/5:1/(1+
b/5);var d;this.rolling?d=this.start+(this.end-this.start)*this.options.rollingMode.offset:(d=this.getPointer({x:a.clientX,y:a.clientY},this.body.dom.center),d=this._pointerToDate(d));this.zoom(c,d,b,a);a.preventDefault()}};c.prototype._onTouch=function(a){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=!0;this.props.touch.center=null;this.deltaDifference=this.scaleOffset=0};c.prototype._onPinch=function(a){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=
!1;this.props.touch.center||(this.props.touch.center=this.getPointer(a.center,this.body.dom.center));this.stopRolling();var b=1/(a.scale+this.scaleOffset),c=this._pointerToDate(this.props.touch.center),d=k.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),e=k.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,c),d=d-e,e=c-e+(this.props.touch.start-(c-e))*b,c=c+d+(this.props.touch.end-(c+d))*b;this.startToFront=0>=1-b;this.endToFront=0>=b-1;d=k.snapAwayFromHidden(this.body.hiddenDates,
e,1-b,!0);b=k.snapAwayFromHidden(this.body.hiddenDates,c,b-1,!0);d==e&&b==c||(this.props.touch.start=d,this.props.touch.end=b,this.scaleOffset=1-a.scale,e=d,c=b);this.setRange(e,c,{animation:!1,byUser:!0,event:a});this.startToFront=!1;this.endToFront=!0}};c.prototype._isInsideRange=function(a){a=a.center?a.center.x:a.clientX;a=this.options.rtl?a-g.getAbsoluteLeft(this.body.dom.centerContainer):g.getAbsoluteRight(this.body.dom.centerContainer)-a;a=this.body.util.toTime(a);return a>=this.start&&a<=
this.end};c.prototype._pointerToDate=function(a){var b,c=this.options.direction;return(n(c),"horizontal"==c)?this.body.util.toTime(a.x).valueOf():(b=this.conversion(this.body.domProps.center.height),a.y/b.scale+b.offset)};c.prototype.getPointer=function(a,b){return this.options.rtl?{x:g.getAbsoluteRight(b)-a.x,y:a.y-g.getAbsoluteTop(b)}:{x:a.x-g.getAbsoluteLeft(b),y:a.y-g.getAbsoluteTop(b)}};c.prototype.zoom=function(a,b,c,d){null==b&&(b=(this.start+this.end)/2);var e=k.getHiddenDurationBetween(this.body.hiddenDates,
this.start,this.end),g=k.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,b),e=e-g,g=b-g+(this.start-(b-g))*a;a=b+e+(this.end-(b+e))*a;this.startToFront=!(0<c);this.endToFront=!(0<-c);b=k.snapAwayFromHidden(this.body.hiddenDates,g,c,!0);c=k.snapAwayFromHidden(this.body.hiddenDates,a,-c,!0);b==g&&c==a||(g=b,a=c);this.setRange(g,a,{animation:!1,byUser:!0,event:d});this.startToFront=!1;this.endToFront=!0};c.prototype.move=function(a){var b=this.end-this.start,c=this.end+b*a;this.start+=
b*a;this.end=c};c.prototype.moveTo=function(a){a=(this.start+this.end)/2-a;this.setRange(this.start-a,this.end-a,{animation:!1,byUser:!0,event:null})};f.exports=c},function(f,h,d){d(113);h.onTouch=function(b,c){c.inputHandler=function(b){b.isFirst&&c(b)};b.on("hammer.input",c.inputHandler)};h.onRelease=function(b,c){return c.inputHandler=function(b){b.isFinal&&c(b)},b.on("hammer.input",c.inputHandler)};h.offTouch=function(b,c){b.off("hammer.input",c.inputHandler)};h.offRelease=h.offTouch;h.disablePreventDefaultVertically=
function(b){return b.getTouchAction=function(){return["pan-y"]},b}},function(f,h,d){function b(b,a){this.props=this.options=null}var c=d(1);b.prototype.setOptions=function(b){b&&c.extend(this.options,b)};b.prototype.redraw=function(){return!1};b.prototype.destroy=function(){};b.prototype._isResized=function(){var b=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,
b};f.exports=b},function(f,h){h.convertHiddenOptions=function(d,b,c){if(c&&!Array.isArray(c))return h.convertHiddenOptions(d,b,[c]);if(b.hiddenDates=[],c&&1==Array.isArray(c)){for(var f=0;f<c.length;f++)if(void 0===c[f].repeat){var a={};a.start=d(c[f].start).toDate().valueOf();a.end=d(c[f].end).toDate().valueOf();b.hiddenDates.push(a)}b.hiddenDates.sort(function(a,b){return a.start-b.start})}};h.updateHiddenDates=function(d,b,c){if(c&&!Array.isArray(c))return h.updateHiddenDates(d,b,[c]);if(c&&void 0!==
b.domProps.centerContainer.width){h.convertHiddenOptions(d,b,c);for(var f=d(b.range.start),a=d(b.range.end),e=(b.range.end-b.range.start)/b.domProps.centerContainer.width,q=0;q<c.length;q++)if(void 0!==c[q].repeat){var g=d(c[q].start),m=d(c[q].end);if("Invalid Date"==g._d)throw Error("Supplied start date is not valid: "+c[q].start);if("Invalid Date"==m._d)throw Error("Supplied end date is not valid: "+c[q].end);if(m-g>=4*e){var k=0,p=a.clone();switch(c[q].repeat){case "daily":g.day()!=m.day()&&(k=
1);g.dayOfYear(f.dayOfYear());g.year(f.year());g.subtract(7,"days");m.dayOfYear(f.dayOfYear());m.year(f.year());m.subtract(7-k,"days");p.add(1,"weeks");break;case "weekly":var k=m.diff(g,"days"),l=g.day();g.date(f.date());g.month(f.month());g.year(f.year());m=g.clone();g.day(l);m.day(l);m.add(k,"days");g.subtract(1,"weeks");m.subtract(1,"weeks");p.add(1,"weeks");break;case "monthly":g.month()!=m.month()&&(k=1);g.month(f.month());g.year(f.year());g.subtract(1,"months");m.month(f.month());m.year(f.year());
m.subtract(1,"months");m.add(k,"months");p.add(1,"months");break;case "yearly":g.year()!=m.year()&&(k=1);g.year(f.year());g.subtract(1,"years");m.year(f.year());m.subtract(1,"years");m.add(k,"years");p.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",c[q].repeat)}for(;g<p;)switch(b.hiddenDates.push({start:g.valueOf(),end:m.valueOf()}),c[q].repeat){case "daily":g.add(1,"days");m.add(1,"days");break;case "weekly":g.add(1,
"weeks");m.add(1,"weeks");break;case "monthly":g.add(1,"months");m.add(1,"months");break;case "yearly":g.add(1,"y");m.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",c[q].repeat)}b.hiddenDates.push({start:g.valueOf(),end:m.valueOf()})}}h.removeDuplicates(b);d=h.isHidden(b.range.start,b.hiddenDates);c=h.isHidden(b.range.end,b.hiddenDates);f=b.range.start;a=b.range.end;1==d.hidden&&(f=1==b.range.startToFront?d.startDate-1:d.endDate+
1);1==c.hidden&&(a=1==b.range.endToFront?c.startDate-1:c.endDate+1);1!=d.hidden&&1!=c.hidden||b.range._applyRange(f,a)}};h.removeDuplicates=function(d){for(var b=d.hiddenDates,c=[],f=0;f<b.length;f++)for(var a=0;a<b.length;a++)f!=a&&1!=b[a].remove&&1!=b[f].remove&&(b[a].start>=b[f].start&&b[a].end<=b[f].end?b[a].remove=!0:b[a].start>=b[f].start&&b[a].start<=b[f].end?(b[f].end=b[a].end,b[a].remove=!0):b[a].end>=b[f].start&&b[a].end<=b[f].end&&(b[f].start=b[a].start,b[a].remove=!0));for(f=0;f<b.length;f++)!0!==
b[f].remove&&c.push(b[f]);d.hiddenDates=c;d.hiddenDates.sort(function(a,b){return a.start-b.start})};h.printDates=function(d){for(var b=0;b<d.length;b++)console.log(b,new Date(d[b].start),new Date(d[b].end),d[b].start,d[b].end,d[b].remove)};h.stepOverHiddenDates=function(d,b,c){for(var f=!1,a=b.current.valueOf(),e=0;e<b.hiddenDates.length;e++){var q=b.hiddenDates[e].end;if(a>=b.hiddenDates[e].start&&a<q){f=!0;break}}1==f&&a<b._end.valueOf()&&a!=c&&(c=d(c),d=d(q),c.year()!=d.year()?b.switchedYear=
!0:c.month()!=d.month()?b.switchedMonth=!0:c.dayOfYear()!=d.dayOfYear()&&(b.switchedDay=!0),b.current=d)};h.toScreen=function(d,b,c){if(0==d.body.hiddenDates.length)return c=d.range.conversion(c),(b.valueOf()-c.offset)*c.scale;var f=h.isHidden(b,d.body.hiddenDates);1==f.hidden&&(b=f.startDate);f=h.getHiddenDurationBetween(d.body.hiddenDates,d.range.start,d.range.end);if(b<d.range.start)return c=d.range.conversion(c,f),f=h.getHiddenDurationBeforeStart(d.body.hiddenDates,b,c.offset),b=d.options.moment(b).toDate().valueOf(),
b+=f,-(c.offset-b.valueOf())*c.scale;if(b>d.range.end)return b=h.correctTimeForHidden(d.options.moment,d.body.hiddenDates,{start:d.range.start,end:b},b),c=d.range.conversion(c,f),(b.valueOf()-c.offset)*c.scale;b=h.correctTimeForHidden(d.options.moment,d.body.hiddenDates,d.range,b);c=d.range.conversion(c,f);return(b.valueOf()-c.offset)*c.scale};h.toTime=function(d,b,c){if(0==d.body.hiddenDates.length)return d=d.range.conversion(c),new Date(b/d.scale+d.offset);var f=h.getHiddenDurationBetween(d.body.hiddenDates,
d.range.start,d.range.end);b=(d.range.end-d.range.start-f)*b/c;c=h.getAccumulatedHiddenDuration(d.body.hiddenDates,d.range,b);return new Date(c+b+d.range.start)};h.getHiddenDurationBetween=function(d,b,c){for(var f=0,a=0;a<d.length;a++){var e=d[a].start,q=d[a].end;e>=b&&q<c&&(f+=q-e)}return f};h.getHiddenDurationBeforeStart=function(d,b,c){for(var f=0,a=0;a<d.length;a++){var e=d[a].start,q=d[a].end;e>=b&&q<=c&&(f+=q-e)}return f};h.correctTimeForHidden=function(d,b,c,f){return f=d(f).toDate().valueOf(),
f-h.getHiddenDurationBefore(d,b,c,f)};h.getHiddenDurationBefore=function(d,b,c,f){var a=0;f=d(f).toDate().valueOf();for(d=0;d<b.length;d++){var e=b[d].start,q=b[d].end;e>=c.start&&q<c.end&&f>=q&&(a+=q-e)}return a};h.getAccumulatedHiddenDuration=function(d,b,c){for(var f=0,a=0,e=b.start,q=0;q<d.length;q++){var g=d[q].start,m=d[q].end;if(g>=b.start&&m<b.end){if(a+=g-e,e=m,a>=c)break;f+=m-g}}return f};h.snapAwayFromHidden=function(d,b,c,f){d=h.isHidden(b,d);return 1==d.hidden?0>c?1==f?d.startDate-(d.endDate-
b)-1:d.startDate-1:1==f?d.endDate+(b-d.startDate)+1:d.endDate+1:b};h.isHidden=function(d,b){for(var c=0;c<b.length;c++){var f=b[c].start,a=b[c].end;if(d>=f&&d<a)return{hidden:!0,startDate:f,endDate:a}}return{hidden:!1,startDate:f,endDate:a}}},function(f,h,d){function b(){}var c=(h=d(90))&&h.__esModule?h:{"default":h},n=(h=d(62))&&h.__esModule?h:{"default":h};h=d(99);var a=d(113),e=d(120),q=d(1),g=(d(89),d(93),d(119),d(124),d(140)),m=d(141),k=d(122),p=d(142);h(b.prototype);b.prototype._create=function(b){function c(a){if(this.isActive()&&
this.emit("mousewheel",a),this.options.verticalScroll&&!this.options.horizontalScroll&&this.options.zoomKey&&!a[this.options.zoomKey]){a.preventDefault();var b=0;a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);b=this.props.scrollTop+120*b;this.isActive()&&(this._setScrollTop(b),this._redraw(),this.emit("scroll",a))}}function d(a){g.options.verticalScroll&&(a.preventDefault(),g.isActive())&&(g._setScrollTop(-a.target.scrollTop),g._redraw(),g.emit("scrollSide",a))}this.dom={};this.dom.container=
b;this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");
this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.rollingModeBtn=document.createElement("div");this.dom.root.className="vis-timeline";
this.dom.background.className="vis-panel vis-background";this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical";this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal";this.dom.centerContainer.className="vis-panel vis-center";this.dom.leftContainer.className="vis-panel vis-left";this.dom.rightContainer.className="vis-panel vis-right";this.dom.top.className="vis-panel vis-top";this.dom.bottom.className="vis-panel vis-bottom";this.dom.left.className=
"vis-content";this.dom.center.className="vis-content";this.dom.right.className="vis-content";this.dom.shadowTop.className="vis-shadow vis-top";this.dom.shadowBottom.className="vis-shadow vis-bottom";this.dom.shadowTopLeft.className="vis-shadow vis-top";this.dom.shadowBottomLeft.className="vis-shadow vis-bottom";this.dom.shadowTopRight.className="vis-shadow vis-top";this.dom.shadowBottomRight.className="vis-shadow vis-bottom";this.dom.rollingModeBtn.className="vis-rolling-mode-btn";this.dom.root.appendChild(this.dom.background);
this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.root.appendChild(this.dom.bottom);this.dom.root.appendChild(this.dom.rollingModeBtn);this.dom.centerContainer.appendChild(this.dom.center);this.dom.leftContainer.appendChild(this.dom.left);
this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},
center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0};this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this));this.on("touch",this._onTouch.bind(this));this.on("panmove",this._onDrag.bind(this));var g=this;this._origRedraw=this._redraw.bind(this);this._redraw=q.throttle(this._origRedraw);this.on("_change",function(a){g.itemSet&&g.itemSet.initialItemSetDrawn&&a&&1==a.queue?g._redraw():g._origRedraw()});this.hammer=new a(this.dom.root);var k=
this.hammer.get("pinch").set({enable:!0});e.disablePreventDefaultVertically(k);this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL});this.listeners={};"tap doubletap press pinch pan panstart panmove panend".split(" ").forEach(function(a){var b=function(b){g.isActive()&&g.emit(a,b)};g.hammer.on(a,b);g.listeners[a]=b});e.onTouch(this.hammer,function(a){g.emit("touch",a)}.bind(this));e.onRelease(this.hammer,function(a){g.emit("release",a)}.bind(this));this.dom.centerContainer.addEventListener?
(this.dom.centerContainer.addEventListener("mousewheel",c.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",c.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",c.bind(this));this.dom.left.parentNode.addEventListener("scroll",d.bind(this));this.dom.right.parentNode.addEventListener("scroll",d.bind(this));var p=!1;if(this.dom.center.addEventListener("dragover",function(a){if(a.preventDefault&&a.preventDefault(),!(-1< !a.target.className.indexOf("vis")||p))return a.dataTransfer.dropEffect=
"move",p=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function(a){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();try{if(!JSON.parse(a.dataTransfer.getData("text")).content)return}catch(b){return!1}return p=!1,a.center={x:a.clientX,y:a.clientY},g.itemSet._onAddItem(a),g.emit("drop",g.getEventProperties(a)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!b)throw Error("No container provided");b.appendChild(this.dom.root)};
b.prototype.setOptions=function(a){if(a){if(q.selectiveExtend("width height minHeight maxHeight autoResize start end clickToUse dataAttributes hiddenDates locale locales moment rtl zoomKey horizontalScroll verticalScroll".split(" "),this.options,a),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className=
"vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),this.options.orientation={item:void 0,axis:void 0},"orientation"in a&&("string"==typeof a.orientation?this.options.orientation={item:a.orientation,axis:a.orientation}:"object"===(0,n["default"])(a.orientation)&&("item"in a.orientation&&(this.options.orientation.item=a.orientation.item),"axis"in a.orientation&&(this.options.orientation.axis=a.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var b=
this.timeAxis2=new g(this.body);b.setOptions=function(a){a=a?q.extend({},a):{};a.orientation="top";g.prototype.setOptions.call(b,a)};this.components.push(b)}}else if(this.timeAxis2){var c=this.components.indexOf(this.timeAxis2);-1!==c&&this.components.splice(c,1);this.timeAxis2.destroy();this.timeAxis2=null}if("function"==typeof a.drawPoints&&(a.drawPoints={onRender:a.drawPoints}),"hiddenDates"in this.options&&k.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in
a&&(a.clickToUse?this.activator||(this.activator=new m(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in a)throw Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(b){return b.setOptions(a)}),"configure"in a){this.configurator||(this.configurator=this._createConfigurator());this.configurator.setOptions(a.configure);var d=q.deepExtend({},
this.options);this.components.forEach(function(a){q.deepExtend(d,a.options)});this.configurator.setModuleOptions({global:d})}this._redraw()};b.prototype.isActive=function(){return!this.activator||this.activator.active};b.prototype.destroy=function(){this.setItems(null);this.setGroups(null);this.off();this._stopAutoResize();this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root);this.dom=null;this.activator&&(this.activator.destroy(),delete this.activator);for(var a in this.listeners)this.listeners.hasOwnProperty(a)&&
delete this.listeners[a];this.hammer=this.listeners=null;this.components.forEach(function(a){return a.destroy()});this.body=null};b.prototype.setCustomTime=function(a,b){var d=this.customTimes.filter(function(a){return b===a.options.id});if(0===d.length)throw Error("No custom time bar found with id "+(0,c["default"])(b));0<d.length&&d[0].setCustomTime(a)};b.prototype.getCustomTime=function(a){var b=this.customTimes.filter(function(b){return b.options.id===a});if(0===b.length)throw Error("No custom time bar found with id "+
(0,c["default"])(a));return b[0].getCustomTime()};b.prototype.setCustomTimeTitle=function(a,b){var d=this.customTimes.filter(function(a){return a.options.id===b});if(0===d.length)throw Error("No custom time bar found with id "+(0,c["default"])(b));if(0<d.length)return d[0].setCustomTitle(a)};b.prototype.getEventProperties=function(a){return{event:a}};b.prototype.addCustomTime=function(a,b){var d=void 0!==a?q.convert(a,"Date").valueOf():new Date;if(this.customTimes.some(function(a){return a.options.id===
b}))throw Error("A custom time with id "+(0,c["default"])(b)+" already exists");d=new p(this.body,q.extend({},this.options,{time:d,id:b}));return this.customTimes.push(d),this.components.push(d),this._redraw(),b};b.prototype.removeCustomTime=function(a){var b=this.customTimes.filter(function(b){return b.options.id===a});if(0===b.length)throw Error("No custom time bar found with id "+(0,c["default"])(a));b.forEach(function(a){this.customTimes.splice(this.customTimes.indexOf(a),1);this.components.splice(this.components.indexOf(a),
1);a.destroy()}.bind(this))};b.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};b.prototype.fit=function(a,b){var c=this.getDataRange();if(null!==c.min||null!==c.max){var d=c.max-c.min;this.range.setRange(new Date(c.min.valueOf()-.01*d),new Date(c.max.valueOf()+.01*d),{animation:!a||void 0===a.animation||a.animation},b)}};b.prototype.getDataRange=function(){throw Error("Cannot invoke abstract method getDataRange");};b.prototype.setWindow=function(a,b,c,
d){"function"==typeof arguments[2]&&(d=arguments[2],c={});var e;if(1==arguments.length){var g=arguments[0];e=void 0===g.animation||g.animation;this.range.setRange(g.start,g.end,{animation:e})}else 2==arguments.length&&"function"==typeof arguments[1]?(g=arguments[0],d=arguments[1],e=void 0===g.animation||g.animation,this.range.setRange(g.start,g.end,{animation:e},d)):(e=!c||void 0===c.animation||c.animation,this.range.setRange(a,b,{animation:e},d))};b.prototype.moveTo=function(a,b,c){"function"==typeof b&&
(c=b,b={});var d=this.range.end-this.range.start;a=q.convert(a,"Date").valueOf();this.range.setRange(a-d/2,a+d/2,{animation:!b||void 0===b.animation||b.animation},c)};b.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}};b.prototype.zoomIn=function(a,b,c){if(!(!a||0>a||1<a)){"function"==typeof b&&(c=b,b={});var d=this.getWindow(),e=d.start.valueOf(),d=d.end.valueOf(),g=d-e;a=(g-g/(1+a))/2;this.setWindow(e+a,d-a,b,c)}};b.prototype.zoomOut=
function(a,b,c){if(!(!a||0>a||1<a)){"function"==typeof b&&(c=b,b={});var d=this.getWindow(),e=d.start.valueOf(),d=d.end.valueOf(),g=d-e;this.setWindow(e-g*a/2,d+g*a/2,b,c)}};b.prototype.redraw=function(){this._redraw()};b.prototype._redraw=function(){this.redrawCount++;var b=!1,c=this.options,d=this.props,e=this.dom;if(e&&e.container&&0!=e.root.offsetWidth){k.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates);"top"==c.orientation?(q.addClassName(e.root,"vis-top"),q.removeClassName(e.root,
"vis-bottom")):(q.removeClassName(e.root,"vis-top"),q.addClassName(e.root,"vis-bottom"));e.root.style.maxHeight=q.option.asSize(c.maxHeight,"");e.root.style.minHeight=q.option.asSize(c.minHeight,"");e.root.style.width=q.option.asSize(c.width,"");d.border.left=(e.centerContainer.offsetWidth-e.centerContainer.clientWidth)/2;d.border.right=d.border.left;d.border.top=(e.centerContainer.offsetHeight-e.centerContainer.clientHeight)/2;d.border.bottom=d.border.top;d.borderRootHeight=e.root.offsetHeight-e.root.clientHeight;
d.borderRootWidth=e.root.offsetWidth-e.root.clientWidth;0===e.centerContainer.clientHeight&&(d.border.left=d.border.top,d.border.right=d.border.left);0===e.root.clientHeight&&(d.borderRootWidth=d.borderRootHeight);d.center.height=e.center.offsetHeight;d.left.height=e.left.offsetHeight;d.right.height=e.right.offsetHeight;d.top.height=e.top.clientHeight||-d.border.top;d.bottom.height=e.bottom.clientHeight||-d.border.bottom;e.root.style.height=q.option.asSize(c.height,d.top.height+Math.max(d.left.height,
d.center.height,d.right.height)+d.bottom.height+d.borderRootHeight+d.border.top+d.border.bottom+"px");d.root.height=e.root.offsetHeight;d.background.height=d.root.height-d.borderRootHeight;var g=d.root.height-d.top.height-d.bottom.height-d.borderRootHeight;d.centerContainer.height=g;d.leftContainer.height=g;d.rightContainer.height=d.leftContainer.height;d.root.width=e.root.offsetWidth;d.background.width=d.root.width-d.borderRootWidth;this.initialDrawDone||(d.scrollbarWidth=q.getScrollBarWidth());
c.verticalScroll?c.rtl?(d.left.width=e.leftContainer.clientWidth||-d.border.left,d.right.width=e.rightContainer.clientWidth+d.scrollbarWidth||-d.border.right):(d.left.width=e.leftContainer.clientWidth+d.scrollbarWidth||-d.border.left,d.right.width=e.rightContainer.clientWidth||-d.border.right):(d.left.width=e.leftContainer.clientWidth||-d.border.left,d.right.width=e.rightContainer.clientWidth||-d.border.right);this._setDOM();g=this._updateScrollTop();"top"!=c.orientation.item&&(g+=Math.max(d.centerContainer.height-
d.center.height-d.border.top-d.border.bottom,0));e.center.style.top=g+"px";var p=0==d.scrollTop?"hidden":"",m=d.scrollTop==d.scrollTopMin?"hidden":"";e.shadowTop.style.visibility=p;e.shadowBottom.style.visibility=m;e.shadowTopLeft.style.visibility=p;e.shadowBottomLeft.style.visibility=m;e.shadowTopRight.style.visibility=p;e.shadowBottomRight.style.visibility=m;c.verticalScroll&&(e.rightContainer.className="vis-panel vis-right vis-vertical-scroll",e.leftContainer.className="vis-panel vis-left vis-vertical-scroll",
e.shadowTopRight.style.visibility="hidden",e.shadowBottomRight.style.visibility="hidden",e.shadowTopLeft.style.visibility="hidden",e.shadowBottomLeft.style.visibility="hidden",e.left.style.top="0px",e.right.style.top="0px");(!c.verticalScroll||d.center.height<d.centerContainer.height)&&(e.left.style.top=g+"px",e.right.style.top=g+"px",e.rightContainer.className=e.rightContainer.className.replace(/(?:^|\s)vis-vertical-scroll(?:\s|$)/," "),e.leftContainer.className=e.leftContainer.className.replace(/(?:^|\s)vis-vertical-scroll(?:\s|$)/,
" "),d.left.width=e.leftContainer.clientWidth||-d.border.left,d.right.width=e.rightContainer.clientWidth||-d.border.right,this._setDOM());c=d.center.height>d.centerContainer.height;this.hammer.get("pan").set({direction:c?a.DIRECTION_ALL:a.DIRECTION_HORIZONTAL});this.components.forEach(function(a){b=a.redraw()||b});if(b){if(5>this.redrawCount)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0;this.body.emitter.emit("changed")}};
b.prototype._setDOM=function(){var a=this.props,b=this.dom;a.leftContainer.width=a.left.width;a.rightContainer.width=a.right.width;var c=a.root.width-a.left.width-a.right.width-a.borderRootWidth;a.center.width=c;a.centerContainer.width=c;a.top.width=c;a.bottom.width=c;b.background.style.height=a.background.height+"px";b.backgroundVertical.style.height=a.background.height+"px";b.backgroundHorizontal.style.height=a.centerContainer.height+"px";b.centerContainer.style.height=a.centerContainer.height+
"px";b.leftContainer.style.height=a.leftContainer.height+"px";b.rightContainer.style.height=a.rightContainer.height+"px";b.background.style.width=a.background.width+"px";b.backgroundVertical.style.width=a.centerContainer.width+"px";b.backgroundHorizontal.style.width=a.background.width+"px";b.centerContainer.style.width=a.center.width+"px";b.top.style.width=a.top.width+"px";b.bottom.style.width=a.bottom.width+"px";b.background.style.left="0";b.background.style.top="0";b.backgroundVertical.style.left=
a.left.width+a.border.left+"px";b.backgroundVertical.style.top="0";b.backgroundHorizontal.style.left="0";b.backgroundHorizontal.style.top=a.top.height+"px";b.centerContainer.style.left=a.left.width+"px";b.centerContainer.style.top=a.top.height+"px";b.leftContainer.style.left="0";b.leftContainer.style.top=a.top.height+"px";b.rightContainer.style.left=a.left.width+a.center.width+"px";b.rightContainer.style.top=a.top.height+"px";b.top.style.left=a.left.width+"px";b.top.style.top="0";b.bottom.style.left=
a.left.width+"px";b.bottom.style.top=a.top.height+a.centerContainer.height+"px";b.center.style.left="0";b.left.style.left="0";b.right.style.left="0"};b.prototype.repaint=function(){throw Error("Function repaint is deprecated. Use redraw instead.");};b.prototype.setCurrentTime=function(a){if(!this.currentTime)throw Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(a)};b.prototype.getCurrentTime=function(){if(!this.currentTime)throw Error("Option showCurrentTime must be true");
return this.currentTime.getCurrentTime()};b.prototype._toTime=function(a){return k.toTime(this,a,this.props.center.width)};b.prototype._toGlobalTime=function(a){return k.toTime(this,a,this.props.root.width)};b.prototype._toScreen=function(a){return k.toScreen(this,a,this.props.center.width)};b.prototype._toGlobalScreen=function(a){return k.toScreen(this,a,this.props.root.width)};b.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()};b.prototype._startAutoResize=
function(){var a=this;this._stopAutoResize();this._onResize=function(){if(1!=a.options.autoResize)return void a._stopAutoResize();a.dom.root&&(a.dom.root.offsetWidth==a.props.lastWidth&&a.dom.root.offsetHeight==a.props.lastHeight||(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight,a.props.scrollbarWidth=q.getScrollBarWidth(),a.body.emitter.emit("_change")))};q.addEventListener(window,"resize",this._onResize);a.dom.root&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=
a.dom.root.offsetHeight);this.watchTimer=setInterval(this._onResize,1E3)};b.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0);this._onResize&&(q.removeEventListener(window,"resize",this._onResize),this._onResize=null)};b.prototype._onTouch=function(a){this.touch.allowDragging=!0;this.touch.initialScrollTop=this.props.scrollTop};b.prototype._onPinch=function(a){this.touch.allowDragging=!1};b.prototype._onDrag=function(a){if(a&&this.touch.allowDragging){var b=
a.deltaY;a=this._getScrollTop();b=this._setScrollTop(this.touch.initialScrollTop+b);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop);b!=a&&this.emit("verticalDrag")}};b.prototype._setScrollTop=function(a){return this.props.scrollTop=a,this._updateScrollTop(),this.props.scrollTop};b.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);return a!=
this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=a),0<this.props.scrollTop&&(this.props.scrollTop=0),this.props.scrollTop<a&&(this.props.scrollTop=a),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop};b.prototype._getScrollTop=function(){return this.props.scrollTop};b.prototype._createConfigurator=
function(){throw Error("Cannot invoke abstract method _createConfigurator");};f.exports=b},function(f,h,d){function b(a,b){this.body=a;this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(a,b,c){c=b.order;b.order=a.order;a.order=c},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},
snap:m.snap,onAdd:function(a,b){b(a)},onUpdate:function(a,b){b(a)},onMove:function(a,b){b(a)},onRemove:function(a,b){b(a)},onMoving:function(a,b){b(a)},onAddGroup:function(a,b){b(a)},onMoveGroup:function(a,b){b(a)},onRemoveGroup:function(a,b){b(a)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1};this.options=e.extend({},this.defaultOptions);this.options.rtl=b.rtl;this.itemOptions={type:{start:"Date",end:"Date"}};
this.conversion={toScreen:a.util.toScreen,toTime:a.util.toTime};this.dom={};this.props={};this.hammer=null;var c=this;this.groupsData=this.itemsData=null;this.itemListeners={add:function(a,b,d){c._onAdd(b.items)},update:function(a,b,d){c._onUpdate(b.items)},remove:function(a,b,d){c._onRemove(b.items)}};this.groupListeners={add:function(a,b,d){c._onAddGroups(b.items)},update:function(a,b,d){c._onUpdateGroups(b.items)},remove:function(a,b,d){c._onRemoveGroups(b.items)}};this.items={};this.groups={};
this.groupIds=[];this.selection=[];this.popup=null;this.touchParams={};this.groupTouchParams={};this._create();this.setOptions(b)}var c=(h=d(55))&&h.__esModule?h:{"default":h},n=(h=d(62))&&h.__esModule?h:{"default":h},a=d(113),e=d(1),q=d(89),g=d(93),m=d(125);h=d(121);var k=d(126),p=d(130),l=d(131),r=d(132),t=d(128),u=d(133),v=d(134)["default"];b.prototype=new h;b.types={background:u,box:l,range:t,point:r};b.prototype._create=function(){var b=document.createElement("div");b.className="vis-itemset";
b["timeline-itemset"]=this;this.dom.frame=b;var c=document.createElement("div");c.className="vis-background";b.appendChild(c);this.dom.background=c;c=document.createElement("div");c.className="vis-foreground";b.appendChild(c);this.dom.foreground=c;b=document.createElement("div");b.className="vis-axis";this.dom.axis=b;b=document.createElement("div");b.className="vis-labelset";this.dom.labelSet=b;this._updateUngrouped();b=new p("__background__",null,this);b.show();this.groups.__background__=b;this.hammer=
new a(this.body.dom.centerContainer);this.hammer.on("hammer.input",function(a){a.isFirst&&this._onTouch(a)}.bind(this));this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL});this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("press",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));
this.options.rtl?this.groupHammer=new a(this.body.dom.rightContainer):this.groupHammer=new a(this.body.dom.leftContainer);this.groupHammer.on("tap",this._onGroupClick.bind(this));this.groupHammer.on("panstart",this._onGroupDragStart.bind(this));this.groupHammer.on("panmove",this._onGroupDrag.bind(this));this.groupHammer.on("panend",this._onGroupDragEnd.bind(this));this.groupHammer.get("pan").set({threshold:5,direction:a.DIRECTION_VERTICAL});this.body.dom.centerContainer.addEventListener("mouseover",
this._onMouseOver.bind(this));this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this));this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this));this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this));this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this));this.show()};b.prototype.setOptions=function(a){a&&(e.selectiveExtend("type rtl align order stack stackSubgroups selectable multiselect multiselectPerGroup groupOrder dataAttributes template groupTemplate visibleFrameTemplate hide snap groupOrderSwap showTooltips tooltip tooltipOnItemUpdateTime".split(" "),
this.options,a),"itemsAlwaysDraggable"in a&&("boolean"==typeof a.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=a.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,n["default"])(a.itemsAlwaysDraggable)&&(e.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,a.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in a&&("string"==typeof a.orientation?this.options.orientation.item=
"top"===a.orientation?"top":"bottom":"object"===(0,n["default"])(a.orientation)&&"item"in a.orientation&&(this.options.orientation.item=a.orientation.item)),"margin"in a&&("number"==typeof a.margin?(this.options.margin.axis=a.margin,this.options.margin.item.horizontal=a.margin,this.options.margin.item.vertical=a.margin):"object"===(0,n["default"])(a.margin)&&(e.selectiveExtend(["axis"],this.options.margin,a.margin),"item"in a.margin&&("number"==typeof a.margin.item?(this.options.margin.item.horizontal=
a.margin.item,this.options.margin.item.vertical=a.margin.item):"object"===(0,n["default"])(a.margin.item)&&e.selectiveExtend(["horizontal","vertical"],this.options.margin.item,a.margin.item)))),"editable"in a&&("boolean"==typeof a.editable?(this.options.editable.updateTime=a.editable,this.options.editable.updateGroup=a.editable,this.options.editable.add=a.editable,this.options.editable.remove=a.editable,this.options.editable.overrideItems=!1):"object"===(0,n["default"])(a.editable)&&e.selectiveExtend(["updateTime",
"updateGroup","add","remove","overrideItems"],this.options.editable,a.editable)),"groupEditable"in a&&("boolean"==typeof a.groupEditable?(this.options.groupEditable.order=a.groupEditable,this.options.groupEditable.add=a.groupEditable,this.options.groupEditable.remove=a.groupEditable):"object"===(0,n["default"])(a.groupEditable)&&e.selectiveExtend(["order","add","remove"],this.options.groupEditable,a.groupEditable)),"onAdd onUpdate onRemove onMove onMoving onAddGroup onMoveGroup onRemoveGroup".split(" ").forEach(function(b){var c=
a[b];if(c){if(!(c instanceof Function))throw Error("option "+b+" must be a function "+b+"(item, callback)");this.options[b]=c}}.bind(this)),this.markDirty())};b.prototype.markDirty=function(a){this.groupIds=[];a&&a.refreshItems&&e.forEach(this.items,function(a){a.dirty=!0;a.displayed&&a.redraw()})};b.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.conversion=this.body=this.hammer=null};b.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);
this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis);this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame);this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis);this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))};
b.prototype.setSelection=function(a){var b,c,d,e;void 0==a&&(a=[]);Array.isArray(a)||(a=[a]);b=0;for(c=this.selection.length;b<c;b++)d=this.selection[b],(e=this.items[d])&&e.unselect();this.selection=[];b=0;for(c=a.length;b<c;b++)d=a[b],(e=this.items[d])&&(this.selection.push(d),e.select())};b.prototype.getSelection=function(){return this.selection.concat([])};b.prototype.getVisibleItems=function(){var a=this.body.range.getRange();if(this.options.rtl)var b=this.body.util.toScreen(a.start),c=this.body.util.toScreen(a.end);
else c=this.body.util.toScreen(a.start),b=this.body.util.toScreen(a.end);var a=[],d;for(d in this.groups)if(this.groups.hasOwnProperty(d))for(var e=this.groups[d],e=e.isVisible?e.visibleItems:[],g=0;g<e.length;g++){var k=e[g];this.options.rtl?k.right<c&&k.right+k.width>b&&a.push(k.id):k.left<b&&k.left+k.width>c&&a.push(k.id)}return a};b.prototype._deselect=function(a){for(var b=this.selection,c=0,d=b.length;c<d;c++)if(b[c]==a){b.splice(c,1);break}};b.prototype.redraw=function(){var a=this.options.margin,
b=this.body.range,c=e.option.asSize,d=this.options,g=d.orientation.item,k=!1,l=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;l.className="vis-itemset";var k=this._orderGroups()||k,p=b.end-b.start,m=b.start!=this.lastRangeStart,f=d.stack!=this.lastStack,q=d.stackSubgroups!=this.lastStackSubgroups,
r=p!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||m||f||q;this.lastVisibleInterval=p;this.lastRangeStart=b.start;this.lastStack=d.stack;this.lastStackSubgroups=d.stackSubgroups;this.props.lastWidth=this.props.width;var t=this._firstGroup(),u={item:a.item,axis:a.axis},h={item:a.item,axis:a.item.vertical/2},v=0,a=a.axis+a.item.vertical;return this.groups.__background__.redraw(b,h,r),e.forEach(this.groups,function(a){k=a.redraw(b,a==t?u:h,r)||k;v+=a.height}),v=Math.max(v,a),l.style.height=
c(v),this.props.width=l.offsetWidth,this.props.height=v,this.dom.axis.style.top=c("top"==g?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,k=this._isResized()||k};b.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups.__ungrouped__||
null};b.prototype._updateUngrouped=function(){var a,b,c=this.groups.__ungrouped__;this.groups.__background__;if(this.groupsData){if(c)for(b in c.hide(),delete this.groups.__ungrouped__,this.items)this.items.hasOwnProperty(b)&&(a=this.items[b],a.parent&&a.parent.remove(a),c=this._getGroupId(a.data),(c=this.groups[c])&&c.add(a)||a.hide())}else if(!c){c=new k(null,null,this);this.groups.__ungrouped__=c;for(b in this.items)this.items.hasOwnProperty(b)&&(a=this.items[b],c.add(a));c.show()}};b.prototype.getLabelSet=
function(){return this.dom.labelSet};b.prototype.setItems=function(a){var b,c=this,d=this.itemsData;if(a){if(!(a instanceof q||a instanceof g))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=a}else this.itemsData=null;if(d&&(e.forEach(this.itemListeners,function(a,b){d.off(b,a)}),b=d.getIds(),this._onRemove(b)),this.itemsData){var k=this.id;e.forEach(this.itemListeners,function(a,b){c.itemsData.on(b,a,k)});b=this.itemsData.getIds();this._onAdd(b);this._updateUngrouped()}this.body.emitter.emit("_change",
{queue:!0})};b.prototype.getItems=function(){return this.itemsData};b.prototype.setGroups=function(a){var b,c=this;if(this.groupsData&&(e.forEach(this.groupListeners,function(a,b){c.groupsData.off(b,a)}),b=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(b)),a){if(!(a instanceof q||a instanceof g))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=a}else this.groupsData=null;if(this.groupsData){var d=this.groupsData;this.groupsData instanceof g&&
(d=this.groupsData.getDataSet());d.get().forEach(function(a){a.nestedGroups&&a.nestedGroups.forEach(function(b){b=d.get(b);b.nestedInGroup=a.id;0==a.showNested&&(b.visible=!1);d.update(b)})});var k=this.id;e.forEach(this.groupListeners,function(a,b){c.groupsData.on(b,a,k)});b=this.groupsData.getIds();this._onAddGroups(b)}this._updateUngrouped();this._order();this.body.emitter.emit("_change",{queue:!0})};b.prototype.getGroups=function(){return this.groupsData};b.prototype.removeItem=function(a){var b=
this.itemsData.get(a),c=this.itemsData.getDataSet();this.items[a];b&&this.options.onRemove(b,function(b){b&&c.remove(a)})};b.prototype._getType=function(a){return a.type||this.options.type||(a.end?"range":"box")};b.prototype._getGroupId=function(a){return"background"==this._getType(a)&&void 0==a.group?"__background__":this.groupsData?a.group:"__ungrouped__"};b.prototype._onUpdate=function(a){var c=this;a.forEach(function(a){var d,e=c.itemsData.get(a,c.itemOptions),g=c.items[a],k=e?c._getType(e):null,
l=b.types[k];if(g&&(l&&g instanceof l?c._updateItem(g,e):(d=g.selected,c._removeItem(g),g=null)),!g&&e){if(!l)throw"rangeoverflow"==k?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+k+'"');g=new l(e,c.conversion,c.options);g.id=a;c._addItem(g);d&&(this.selection.push(a),g.select())}}.bind(this));this._order();this.body.emitter.emit("_change",{queue:!0})};b.prototype._onAdd=
b.prototype._onUpdate;b.prototype._onRemove=function(a){var b=0,c=this;a.forEach(function(a){(a=c.items[a])&&(b++,c._removeItem(a))});b&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))};b.prototype._order=function(){e.forEach(this.groups,function(a){a.order()})};b.prototype._onUpdateGroups=function(a){this._onAddGroups(a)};b.prototype._onAddGroups=function(a){var b=this;a.forEach(function(a){var d=b.groupsData.get(a),g=b.groups[a];if(g)g.setData(d);else{if("__ungrouped__"==a||"__background__"==
a)throw Error("Illegal group id. "+a+" is a reserved id.");g=(0,c["default"])(b.options);e.extend(g,{height:null});g=new k(a,d,b);b.groups[a]=g;for(var l in b.items)b.items.hasOwnProperty(l)&&(d=b.items[l],d.data.group==a&&g.add(d));g.order();g.show()}});this.body.emitter.emit("_change",{queue:!0})};b.prototype._onRemoveGroups=function(a){var b=this.groups;a.forEach(function(a){var c=b[a];c&&(c.hide(),delete b[a])});this.markDirty();this.body.emitter.emit("_change",{queue:!0})};b.prototype._orderGroups=
function(){if(this.groupsData){var a=this.groupsData.getIds({order:this.options.groupOrder}),a=this._orderNestedGroups(a),b=!e.equalArray(a,this.groupIds);if(b){var c=this.groups;a.forEach(function(a){c[a].hide()});a.forEach(function(a){c[a].show()});this.groupIds=a}return b}return!1};b.prototype._orderNestedGroups=function(a){var b=[];return a.forEach(function(a){var c=this.groupsData.get(a);if(c.nestedInGroup||b.push(a),c.nestedGroups)c=this.groupsData.get({filter:function(b){return b.nestedInGroup==
a},order:this.options.groupOrder}).map(function(a){return a.id}),b=b.concat(c)},this),b};b.prototype._addItem=function(a){this.items[a.id]=a;var b=this._getGroupId(a.data);(b=this.groups[b])?b&&b.data&&b.data.showNested&&(a.groupShowing=!0):a.groupShowing=!1;b&&b.add(a)};b.prototype._updateItem=function(a,b){a.setData(b);var c=this._getGroupId(a.data);(c=this.groups[c])?c&&c.data&&c.data.showNested&&(a.groupShowing=!0):a.groupShowing=!1};b.prototype._removeItem=function(a){a.hide();delete this.items[a.id];
var b=this.selection.indexOf(a.id);-1!=b&&this.selection.splice(b,1);a.parent&&a.parent.remove(a)};b.prototype._constructByEndArray=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof t&&b.push(a[c]);return b};b.prototype._onTouch=function(a){this.touchParams.item=this.itemFromTarget(a);this.touchParams.dragLeftItem=a.target.dragLeftItem||!1;this.touchParams.dragRightItem=a.target.dragRightItem||!1;this.touchParams.itemProps=null};b.prototype._getGroupIndex=function(a){for(var b=0;b<this.groupIds.length;b++)if(a==
this.groupIds[b])return b};b.prototype._onDragStart=function(a){if(!this.touchParams.itemIsDragging){var b;b=this.touchParams.item||null;var c=this;if(b&&(b.selected||this.options.itemsAlwaysDraggable.item)){if(!this.options.editable.overrideItems||this.options.editable.updateTime||this.options.editable.updateGroup)if(null==b.editable||b.editable.updateTime||b.editable.updateGroup||this.options.editable.overrideItems){var d=this.touchParams.dragLeftItem,e=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=
!0,this.touchParams.selectedItem=b,d)b={item:d,initialX:a.center.x,dragLeft:!0,data:this._cloneItemData(b.data)},this.touchParams.itemProps=[b];else if(e)b={item:e,initialX:a.center.x,dragRight:!0,data:this._cloneItemData(b.data)},this.touchParams.itemProps=[b];else{1>this.groupIds.length&&this.redraw();var g=this._getGroupIndex(b.data.group);b=this.options.itemsAlwaysDraggable.item&&!b.selected?[b.id]:this.getSelection();this.touchParams.itemProps=b.map(function(b){b=c.items[b];var d=c._getGroupIndex(b.data.group);
return{item:b,initialX:a.center.x,groupOffset:g-d,data:this._cloneItemData(b.data)}}.bind(this))}a.stopPropagation()}}else this.options.editable.add&&(a.srcEvent.ctrlKey||a.srcEvent.metaKey)&&this._onDragStartAddItem(a)}};b.prototype._onDragStartAddItem=function(a){var b=this.options.snap||null;if(this.options.rtl)var c=e.getAbsoluteRight(this.dom.frame),c=c-a.center.x+10;else c=e.getAbsoluteLeft(this.dom.frame),c=a.center.x-c-10;var c=this.body.util.toTime(c),d=this.body.util.getScale(),g=this.body.util.getStep(),
b=b?b(c,d,g):c,b={type:"range",start:b,end:b,content:"new item"},c=e.randomUUID();b[this.itemsData._fieldId]=c;(d=this.groupFromTarget(a))&&(b.group=d.groupId);d=new t(b,this.conversion,this.options);d.id=c;d.data=this._cloneItemData(b);this._addItem(d);this.touchParams.selectedItem=d;b={item:d,initialX:a.center.x,data:d.data};this.options.rtl?b.dragLeft=!0:b.dragRight=!0;this.touchParams.itemProps=[b];a.stopPropagation()};b.prototype._onDrag=function(a){if(this.touchParams.itemProps){a.stopPropagation();
var b=this,c=this.options.snap||null,d=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width,g=this.body.util.getScale(),k=this.body.util.getStep(),l=this.touchParams.selectedItem,p=(this.options.editable.overrideItems||null==l.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=l.editable&&l.editable.updateGroup,m=null;if(p&&l&&void 0!=l.data.group){var f=b.groupFromTarget(a);
f&&(m=this._getGroupIndex(f.groupId))}this.touchParams.itemProps.forEach(function(f){var q=b.body.util.toTime(a.center.x-d),r=b.body.util.toTime(f.initialX-d),t=this.options.rtl?-(q-r):q-r,q=this._cloneItemData(f.item.data);if(null==f.item.editable||f.item.editable.updateTime||f.item.editable.updateGroup||b.options.editable.overrideItems){if((this.options.editable.overrideItems||null==l.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=l.editable&&l.editable.updateTime)if(f.dragLeft)if(this.options.rtl)void 0!=
q.end&&(r=e.convert(f.data.end,"Date"),r=new Date(r.valueOf()+t),q.end=c?c(r,g,k):r);else{if(void 0!=q.start){var u=e.convert(f.data.start,"Date"),t=new Date(u.valueOf()+t);q.start=c?c(t,g,k):t}}else f.dragRight?this.options.rtl?void 0!=q.start&&(u=e.convert(f.data.start,"Date"),t=new Date(u.valueOf()+t),q.start=c?c(t,g,k):t):void 0!=q.end&&(r=e.convert(f.data.end,"Date"),r=new Date(r.valueOf()+t),q.end=c?c(r,g,k):r):void 0!=q.start&&(u=e.convert(f.data.start,"Date").valueOf(),t=new Date(u+t),void 0!=
q.end?(r=e.convert(f.data.end,"Date"),r=r.valueOf()-u.valueOf(),q.start=c?c(t,g,k):t,q.end=new Date(q.start.valueOf()+r)):q.start=c?c(t,g,k):t);!p||f.dragLeft||f.dragRight||null==m||void 0==q.group||(r=m-f.groupOffset,r=Math.max(0,r),r=Math.min(b.groupIds.length-1,r),q.group=b.groupIds[r]);q=this._cloneItemData(q);b.options.onMoving(q,function(a){a&&f.item.setData(this._cloneItemData(a,"Date"))}.bind(this))}}.bind(this));this.body.emitter.emit("_change")}};b.prototype._moveToGroup=function(a,b){var c=
this.groups[b];if(c&&c.groupId!=a.data.group){var d=a.parent;d.remove(a);d.order();a.data.group=c.groupId;c.add(a);c.order()}};b.prototype._onDragEnd=function(a){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){a.stopPropagation();var b=this,c=this.itemsData.getDataSet();a=this.touchParams.itemProps;this.touchParams.itemProps=null;a.forEach(function(a){var d=a.item.id;if(null!=b.itemsData.get(d,b.itemOptions)){var e=this._cloneItemData(a.item.data);b.options.onMove(e,function(e){e?
(e[c._fieldId]=d,c.update(e)):(a.item.setData(a.data),b.body.emitter.emit("_change"))})}else b.options.onAdd(a.item.data,function(c){b._removeItem(a.item);c&&b.itemsData.getDataSet().add(c);b.body.emitter.emit("_change")})}.bind(this))}};b.prototype._onGroupClick=function(a){var b=this.groupFromTarget(a);if(b&&b.nestedGroups){a=this.groupsData;this.groupsData instanceof g&&(a=this.groupsData.getDataSet());b.showNested=!b.showNested;var c=a.get(b.nestedGroups).map(function(a){return void 0==a.visible&&
(a.visible=!0),a.visible=!!b.showNested,a});(a.update(c),b.showNested)?(e.removeClassName(b.dom.label,"collapsed"),e.addClassName(b.dom.label,"expanded")):(e.removeClassName(b.dom.label,"expanded"),e.addClassName(b.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}};b.prototype._onGroupDragStart=function(a){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(a),this.groupTouchParams.group&&(a.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))};
b.prototype._onGroupDrag=function(a){if(this.options.groupEditable.order&&this.groupTouchParams.group){a.stopPropagation();var b=this.groupsData;this.groupsData instanceof g&&(b=this.groupsData.getDataSet());var c=this.groupFromTarget(a);if(c&&c.height!=this.groupTouchParams.group.height){var d=c.top<this.groupTouchParams.group.top;a=a.center?a.center.y:a.clientY;var k=e.getAbsoluteTop(c.dom.foreground),l=this.groupTouchParams.group.height;if(d){if(k+l<a)return}else if(k+c.height-l>a)return}if(c&&
c!=this.groupTouchParams.group&&(c=b.get(c.groupId),(d=b.get(this.groupTouchParams.group.groupId))&&c&&(this.options.groupOrderSwap(d,c,b),b.update(d),b.update(c)),c=b.getIds({order:this.options.groupOrder}),!e.equalArray(c,this.groupTouchParams.originalOrder))){d=this.groupTouchParams.originalOrder;a=this.groupTouchParams.group.groupId;for(var k=Math.min(d.length,c.length),p=l=0,m=0;l<k;){for(;l+p<k&&l+m<k&&c[l+p]==d[l+m];)l++;if(l+p>=k)break;if(c[l+p]!=a)if(d[l+m]!=a){var f=c.indexOf(d[l+m]),q=
b.get(c[l+p]),r=b.get(d[l+m]);this.options.groupOrderSwap(q,r,b);b.update(q);b.update(r);q=c[l+p];c[l+p]=d[l+m];c[f]=q;l++}else m=1;else p=1}}}};b.prototype._onGroupDragEnd=function(a){if(this.options.groupEditable.order&&this.groupTouchParams.group){a.stopPropagation();var b=this,c=b.groupTouchParams.group.groupId,d=b.groupsData.getDataSet();a=e.extend({},d.get(c));b.options.onMoveGroup(a,function(a){if(a)a[d._fieldId]=c,d.update(a);else if(a=d.getIds({order:b.options.groupOrder}),!e.equalArray(a,
b.groupTouchParams.originalOrder))for(var g=b.groupTouchParams.originalOrder,k=Math.min(g.length,a.length),l=0;l<k;){for(;l<k&&a[l]==g[l];)l++;if(l>=k)break;var p=a.indexOf(g[l]),m=d.get(a[l]),f=d.get(g[l]);b.options.groupOrderSwap(m,f,d);d.update(m);d.update(f);m=a[l];a[l]=g[l];a[p]=m;l++}});b.body.emitter.emit("groupDragged",{groupId:c})}};b.prototype._onSelectItem=function(a){if(this.options.selectable){var b=a.srcEvent&&a.srcEvent.shiftKey;if(a.srcEvent&&(a.srcEvent.ctrlKey||a.srcEvent.metaKey)||
b)return void this._onMultiSelectItem(a);var b=this.getSelection(),c=this.itemFromTarget(a);this.setSelection(c?[c.id]:[]);c=this.getSelection();(0<c.length||0<b.length)&&this.body.emitter.emit("select",{items:c,event:a})}};b.prototype._onMouseOver=function(a){var b=this.itemFromTarget(a);if(b&&b!==this.itemFromRelatedTarget(a)){var c=b.getTitle();this.options.showTooltips&&c?(null==this.popup&&(this.popup=new v(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(c),
c=this.body.dom.centerContainer,this.popup.setPosition(a.clientX-e.getAbsoluteLeft(c)+c.offsetLeft,a.clientY-e.getAbsoluteTop(c)+c.offsetTop),this.popup.show()):null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:b.id,event:a})}};b.prototype._onMouseOut=function(a){var b=this.itemFromTarget(a);b&&b!==this.itemFromRelatedTarget(a)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:b.id,event:a}))};b.prototype._onMouseMove=function(a){if(this.itemFromTarget(a)&&
this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var b=this.body.dom.centerContainer;this.popup.setPosition(a.clientX-e.getAbsoluteLeft(b)+b.offsetLeft,a.clientY-e.getAbsoluteTop(b)+b.offsetTop);this.popup.show()}};b.prototype._onMouseWheel=function(a){this.touchParams.itemIsDragging&&this._onDragEnd(a)};b.prototype._onUpdateItem=function(a){if(this.options.selectable&&this.options.editable.add){var b=this;a&&(a=b.itemsData.get(a.id),this.options.onUpdate(a,
function(a){a&&b.itemsData.getDataSet().update(a)}))}};b.prototype._onAddItem=function(a){if(this.options.selectable&&this.options.editable.add){var b=this,c=this.options.snap||null;if(!this.itemFromTarget(a)){if(this.options.rtl)var d=e.getAbsoluteRight(this.dom.frame),g=d-a.center.x;else d=e.getAbsoluteLeft(this.dom.frame),g=a.center.x-d;var k,l=this.body.util.toTime(g),d=this.body.util.getScale(),p=this.body.util.getStep();if("drop"==a.type)(k=JSON.parse(a.dataTransfer.getData("text")),k.content=
k.content?k.content:"new item",k.start=k.start?k.start:c?c(l,d,p):l,k.type=k.type||"box",k[this.itemsData._fieldId]=k.id||e.randomUUID(),"range"!=k.type||k.end)||(g=this.body.util.toTime(g+this.props.width/5),k.end=c?c(g,d,p):g);else if(k={start:c?c(l,d,p):l,content:"new item"},k[this.itemsData._fieldId]=e.randomUUID(),"range"===this.options.type)g=this.body.util.toTime(g+this.props.width/5),k.end=c?c(g,d,p):g;(c=this.groupFromTarget(a))&&(k.group=c.groupId);k=this._cloneItemData(k);this.options.onAdd(k,
function(c){c&&(b.itemsData.getDataSet().add(c),"drop"==a.type&&b.setSelection([c.id]))})}}};b.prototype._onMultiSelectItem=function(a){if(this.options.selectable){var c=this.itemFromTarget(a);if(c){var d=this.options.multiselect?this.getSelection():[];if(a.srcEvent&&a.srcEvent.shiftKey&&this.options.multiselect){var e=this.itemsData.get(c.id).group,g=void 0;this.options.multiselectPerGroup&&0<d.length&&(g=this.itemsData.get(d[0]).group);this.options.multiselectPerGroup&&void 0!=g&&g!=e||d.push(c.id);
c=b._getItemRange(this.itemsData.get(d,this.itemOptions));if(!this.options.multiselectPerGroup||g==e){var d=[],k;for(k in this.items)if(this.items.hasOwnProperty(k)){var e=this.items[k],l=e.data.start,p=void 0!==e.data.end?e.data.end:l;!(l>=c.min&&p<=c.max)||this.options.multiselectPerGroup&&g!=this.itemsData.get(e.id).group||e instanceof u||d.push(e.id)}}}else g=d.indexOf(c.id),-1==g?d.push(c.id):d.splice(g,1);this.setSelection(d);this.body.emitter.emit("select",{items:this.getSelection(),event:a})}}};
b._getItemRange=function(a){var b=null,c=null;return a.forEach(function(a){(null==c||a.start<c)&&(c=a.start);void 0!=a.end?(null==b||a.end>b)&&(b=a.end):(null==b||a.start>b)&&(b=a.start)}),{min:c,max:b}};b.prototype.itemFromElement=function(a){for(;a;){if(a.hasOwnProperty("timeline-item"))return a["timeline-item"];a=a.parentNode}return null};b.prototype.itemFromTarget=function(a){return this.itemFromElement(a.target)};b.prototype.itemFromRelatedTarget=function(a){return this.itemFromElement(a.relatedTarget)};
b.prototype.groupFromTarget=function(a){a=a.center?a.center.y:a.clientY;var b=this.groupIds;0>=b.length&&this.groupsData&&(b=this.groupsData.getIds({order:this.options.groupOrder}));for(var c=0;c<b.length;c++){var d=this.groups[b[c]],g=d.dom.foreground,k=e.getAbsoluteTop(g);if(a>k&&a<k+g.offsetHeight)return d;if("top"===this.options.orientation.item){if(c===this.groupIds.length-1&&a>k)return d}else if(0===c&&a<k+g.offset)return d}return null};b.itemSetFromTarget=function(a){for(a=a.target;a;){if(a.hasOwnProperty("timeline-itemset"))return a["timeline-itemset"];
a=a.parentNode}return null};b.prototype._cloneItemData=function(a,b){var c=e.extend({},a);return b||(b=this.itemsData.getDataSet()._options.type),void 0!=c.start&&(c.start=e.convert(c.start,b&&b.start||"Date")),void 0!=c.end&&(c.end=e.convert(c.end,b&&b.end||"Date")),c};f.exports=b},function(f,h,d){function b(a,d,g,m){this.moment=c;this.current=this.moment();this._start=this.moment();this._end=this.moment();this.autoScale=!0;this.scale="day";this.step=1;this.setRange(a,d,g);this.switchedYear=this.switchedMonth=
this.switchedDay=!1;Array.isArray(m)?this.hiddenDates=m:this.hiddenDates=void 0!=m?[m]:[];this.format=b.FORMAT}var c=d(82),n=d(122),a=d(1);b.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};b.prototype.setMoment=function(a){this.moment=a;this.current=
this.moment(this.current.valueOf());this._start=this.moment(this._start.valueOf());this._end=this.moment(this._end.valueOf())};b.prototype.setFormat=function(c){var d=a.deepExtend({},b.FORMAT);this.format=a.deepExtend(d,c)};b.prototype.setRange=function(a,b,c){if(!(a instanceof Date&&b instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=a?this.moment(a.valueOf()):new Date;this._end=void 0!=b?this.moment(b.valueOf()):new Date;this.autoScale&&this.setMinimumStep(c)};
b.prototype.start=function(){this.current=this._start.clone();this.roundToMinor()};b.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case "year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case "month":this.current.date(1);case "week":case "day":case "weekday":this.current.hours(0);case "hour":this.current.minutes(0);case "minute":this.current.seconds(0);case "second":this.current.milliseconds(0)}if(1!=
this.step)switch(this.scale){case "millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case "second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case "minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case "hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case "weekday":case "day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case "week":this.current.subtract(this.current.week()%
this.step,"week");break;case "month":this.current.subtract(this.current.month()%this.step,"month");break;case "year":this.current.subtract(this.current.year()%this.step,"year")}};b.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};b.prototype.next=function(){var a=this.current.valueOf();switch(this.scale){case "millisecond":this.current.add(this.step,"millisecond");break;case "second":this.current.add(this.step,"second");break;case "minute":this.current.add(this.step,
"minute");break;case "hour":this.current.add(this.step,"hour");6>this.current.month()?this.current.subtract(this.current.hours()%this.step,"hour"):0!=this.current.hours()%this.step&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case "weekday":case "day":this.current.add(this.step,"day");break;case "week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else{var b=this.current.clone();b.add(1,"week");b.isSame(this.current,"month")?this.current.add(this.step,
"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case "month":this.current.add(this.step,"month");break;case "year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case "millisecond":0<this.current.milliseconds()&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case "second":0<this.current.seconds()&&this.current.seconds()<this.step&&this.current.seconds(0);break;case "minute":0<this.current.minutes()&&this.current.minutes()<this.step&&
this.current.minutes(0);break;case "hour":0<this.current.hours()&&this.current.hours()<this.step&&this.current.hours(0);break;case "weekday":case "day":this.current.date()<this.step+1&&this.current.date(1);break;case "week":this.current.week()<this.step&&this.current.week(1);break;case "month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==a&&(this.current=this._end.clone());this.switchedYear=this.switchedMonth=this.switchedDay=!1;n.stepOverHiddenDates(this.moment,this,
a)};b.prototype.getCurrent=function(){return this.current};b.prototype.setScale=function(a){a&&"string"==typeof a.scale&&(this.scale=a.scale,this.step=0<a.step?a.step:1,this.autoScale=!1)};b.prototype.setAutoScale=function(a){this.autoScale=a};b.prototype.setMinimumStep=function(a){void 0!=a&&(31104E9>a&&(this.scale="year",this.step=1E3),15552E9>a&&(this.scale="year",this.step=500),31104E8>a&&(this.scale="year",this.step=100),15552E8>a&&(this.scale="year",this.step=50),31104E7>a&&(this.scale="year",
this.step=10),15552E7>a&&(this.scale="year",this.step=5),31104E6>a&&(this.scale="year",this.step=1),7776E6>a&&(this.scale="month",this.step=3),2592E6>a&&(this.scale="month",this.step=1),432E6>a&&(this.scale="day",this.step=5),1728E5>a&&(this.scale="day",this.step=2),864E5>a&&(this.scale="day",this.step=1),432E5>a&&(this.scale="weekday",this.step=1),144E5>a&&(this.scale="hour",this.step=4),36E5>a&&(this.scale="hour",this.step=1),9E5>a&&(this.scale="minute",this.step=15),6E5>a&&(this.scale="minute",
this.step=10),3E5>a&&(this.scale="minute",this.step=5),6E4>a&&(this.scale="minute",this.step=1),15E3>a&&(this.scale="second",this.step=15),1E4>a&&(this.scale="second",this.step=10),5E3>a&&(this.scale="second",this.step=5),1E3>a&&(this.scale="second",this.step=1),200>a&&(this.scale="millisecond",this.step=200),100>a&&(this.scale="millisecond",this.step=100),50>a&&(this.scale="millisecond",this.step=50),10>a&&(this.scale="millisecond",this.step=10),5>a&&(this.scale="millisecond",this.step=5),1>a&&(this.scale=
"millisecond",this.step=1))};b.snap=function(a,b,d){a=c(a);if("year"==b)b=a.year()+Math.round(a.month()/12),a.year(Math.round(b/d)*d),a.month(0),a.date(0),a.hours(0),a.minutes(0),a.seconds(0),a.milliseconds(0);else if("month"==b)15<a.date()?(a.date(1),a.add(1,"month")):a.date(1),a.hours(0),a.minutes(0),a.seconds(0),a.milliseconds(0);else if("week"==b)2<a.weekday()?(a.weekday(0),a.add(1,"week")):a.weekday(0),a.hours(0),a.minutes(0),a.seconds(0),a.milliseconds(0);else if("day"==b){switch(d){case 5:case 2:a.hours(24*
Math.round(a.hours()/24));break;default:a.hours(12*Math.round(a.hours()/12))}a.minutes(0);a.seconds(0);a.milliseconds(0)}else if("weekday"==b){switch(d){case 5:case 2:a.hours(12*Math.round(a.hours()/12));break;default:a.hours(6*Math.round(a.hours()/6))}a.minutes(0);a.seconds(0);a.milliseconds(0)}else if("hour"==b){switch(d){case 4:a.minutes(60*Math.round(a.minutes()/60));break;default:a.minutes(30*Math.round(a.minutes()/30))}a.seconds(0);a.milliseconds(0)}else if("minute"==b){switch(d){case 15:case 10:a.minutes(5*
Math.round(a.minutes()/5));a.seconds(0);break;case 5:a.seconds(60*Math.round(a.seconds()/60));break;default:a.seconds(30*Math.round(a.seconds()/30))}a.milliseconds(0)}else if("second"==b)switch(d){case 15:case 10:a.seconds(5*Math.round(a.seconds()/5));a.milliseconds(0);break;case 5:a.milliseconds(1E3*Math.round(a.milliseconds()/1E3));break;default:a.milliseconds(500*Math.round(a.milliseconds()/500))}else"millisecond"==b&&(d=5<d?d/2:1,a.milliseconds(Math.round(a.milliseconds()/d)*d));return a};b.prototype.isMajor=
function(){if(1==this.switchedYear)switch(this.scale){case "year":case "month":case "week":case "weekday":case "day":case "hour":case "minute":case "second":case "millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case "week":case "weekday":case "day":case "hour":case "minute":case "second":case "millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case "millisecond":case "second":case "minute":case "hour":return!0;default:return!1}var a=
this.moment(this.current);switch(this.scale){case "millisecond":return 0==a.milliseconds();case "second":return 0==a.seconds();case "minute":return 0==a.hours()&&0==a.minutes();case "hour":return 0==a.hours();case "weekday":case "day":case "week":return 1==a.date();case "month":return 0==a.month();default:return!1}};b.prototype.getLabelMinor=function(a){if(void 0==a&&(a=this.current),a instanceof Date&&(a=this.moment(a)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(a,
this.scale,this.step);var b=this.format.minorLabels[this.scale];switch(this.scale){case "week":if(this.isMajor()&&0!==a.weekday())return"";default:return b&&0<b.length?this.moment(a).format(b):""}};b.prototype.getLabelMajor=function(a){if(void 0==a&&(a=this.current),a instanceof Date&&(a=this.moment(a)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(a,this.scale,this.step);var b=this.format.majorLabels[this.scale];return b&&0<b.length?this.moment(a).format(b):""};b.prototype.getClassName=
function(){function a(b){return 0==b/l%2?" vis-even":" vis-odd"}function b(a){return a.isSame(new Date,"day")?" vis-today":a.isSame(k().add(1,"day"),"day")?" vis-tomorrow":a.isSame(k().add(-1,"day"),"day")?" vis-yesterday":""}function c(a){return a.isSame(new Date,"week")?" vis-current-week":""}function d(a){return a.isSame(new Date,"month")?" vis-current-month":""}var k=this.moment,p=this.moment(this.current),p=p.locale?p.locale("en"):p.lang("en"),l=this.step,f=[];switch(this.scale){case "millisecond":f.push(b(p));
f.push(a(p.milliseconds()));break;case "second":f.push(b(p));f.push(a(p.seconds()));break;case "minute":f.push(b(p));f.push(a(p.minutes()));break;case "hour":f.push(4=="vis-h"+p.hours()+this.step?"-h"+(p.hours()+4):"");f.push(b(p));f.push(a(p.hours()));break;case "weekday":f.push("vis-"+p.format("dddd").toLowerCase());f.push(b(p));f.push(c(p));f.push(a(p.date()));break;case "day":f.push("vis-day"+p.date());f.push("vis-"+p.format("MMMM").toLowerCase());f.push(b(p));f.push(d(p));f.push(2>=this.step?
b(p):"");f.push(2>=this.step?"vis-"+p.format("dddd").toLowerCase():"");f.push(a(p.date()-1));break;case "week":f.push("vis-week"+p.format("w"));f.push(c(p));f.push(a(p.week()));break;case "month":f.push("vis-"+p.format("MMMM").toLowerCase());f.push(d(p));f.push(a(p.month()));break;case "year":f.push("vis-year"+p.year()),f.push(p.isSame(new Date,"year")?" vis-current-year":""),f.push(a(p.year()))}return f.filter(String).join(" ")};f.exports=b},function(f,h,d){function b(a,b,c){this.groupId=a;this.subgroups=
{};this.subgroupIndex=0;this.subgroupOrderer=b&&b.subgroupOrder;this.itemSet=c;this.isVisible=null;this.stackDirty=!0;b&&b.nestedGroups&&(this.nestedGroups=b.nestedGroups,0==b.showNested?this.showNested=!1:this.showNested=!0);this.nestedInGroup=null;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.itemsInRange=[];this.orderedItems={byStart:[],byEnd:[]};this.checkRangedItems=!1;var d=this;this.itemSet.body.emitter.on("checkRangedItems",function(){d.checkRangedItems=
!0});this._create();this.setData(b)}var c=(h=d(58))&&h.__esModule?h:{"default":h},n=d(1),a=d(127);d(128);b.prototype._create=function(){var a=document.createElement("div");this.itemSet.options.groupEditable.order?a.className="vis-label draggable":a.className="vis-label";this.dom.label=a;var b=document.createElement("div");b.className="vis-inner";a.appendChild(b);this.dom.inner=b;a=document.createElement("div");a.className="vis-group";a["timeline-group"]=this;this.dom.foreground=a;this.dom.background=
document.createElement("div");this.dom.background.className="vis-group";this.dom.axis=document.createElement("div");this.dom.axis.className="vis-group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.style.position="absolute";this.dom.marker.innerHTML="";this.dom.background.appendChild(this.dom.marker)};b.prototype.setData=function(a){var b,c;if(this.itemSet.options&&this.itemSet.options.groupTemplate?(c=this.itemSet.options.groupTemplate.bind(this),
b=c(a,this.dom.inner)):b=a&&a.content,b instanceof Element){for(this.dom.inner.appendChild(b);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(b)}else b instanceof Object?c(a,this.dom.inner):this.dom.inner.innerHTML=void 0!==b&&null!==b?b:this.groupId||"";(this.dom.label.title=a&&a.title||"",this.dom.inner.firstChild?n.removeClassName(this.dom.inner,"vis-hidden"):n.addClassName(this.dom.inner,"vis-hidden"),a&&a.nestedGroups)?(this.nestedGroups&&
this.nestedGroups==a.nestedGroups||(this.nestedGroups=a.nestedGroups),void 0===a.showNested&&void 0!==this.showNested||(0==a.showNested?this.showNested=!1:this.showNested=!0),n.addClassName(this.dom.label,"vis-nesting-group"),b=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",this.showNested?(n.removeClassName(this.dom.label,b),n.addClassName(this.dom.label,"expanded")):(n.removeClassName(this.dom.label,"expanded"),n.addClassName(this.dom.label,b))):this.nestedGroups&&(this.nestedGroups=null,
b=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",n.removeClassName(this.dom.label,b),n.removeClassName(this.dom.label,"expanded"),n.removeClassName(this.dom.label,"vis-nesting-group"));a&&a.nestedInGroup&&(n.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");b=a&&a.className||null;b!=this.className&&(this.className&&(n.removeClassName(this.dom.label,this.className),n.removeClassName(this.dom.foreground,
this.className),n.removeClassName(this.dom.background,this.className),n.removeClassName(this.dom.axis,this.className)),n.addClassName(this.dom.label,b),n.addClassName(this.dom.foreground,b),n.addClassName(this.dom.background,b),n.addClassName(this.dom.axis,b),this.className=b);this.style&&(n.removeCssText(this.dom.label,this.style),this.style=null);a&&a.style&&(n.addCssText(this.dom.label,a.style),this.style=a.style)};b.prototype.getLabelWidth=function(){return this.props.label.width};b.prototype.redraw=
function(b,c,d){var m=!1,k=this.dom.marker.clientHeight;k!=this.lastMarkerHeight&&(this.lastMarkerHeight=k,n.forEach(this.items,function(a){a.dirty=!0;a.displayed&&a.redraw()}),d=!0);this._calculateSubGroupHeights(c);k=this.dom.foreground;this.top=k.offsetTop;this.right=k.offsetLeft;this.width=k.offsetWidth;k=this.isVisible;this.isVisible=this._isGroupVisible(b,c);d=d||this.stackDirty||this.isVisible&&!k;if(this._updateSubgroupsSizes(),d){if("function"==typeof this.itemSet.options.order){var p=this;
n.forEach(this.items,function(a){a.displayed||(a.redraw(),p.visibleItems.push(a));a.repositionX(!1)});d=this.orderedItems.byStart.slice().sort(function(a,b){return p.itemSet.options.order(a.data,b.data)});a.stack(d,c,!0);this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,b)}else this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,b),this.itemSet.options.stack?a.stack(this.visibleItems,c,!0):a.nostack(this.visibleItems,c,this.subgroups,this.itemSet.options.stackSubgroups);
this.stackDirty=!1}b=this._calculateHeight(c);k=this.dom.foreground;this.top=k.offsetTop;this.right=k.offsetLeft;this.width=k.offsetWidth;m=n.updateProperty(this,"height",b)||m;m=n.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||m;m=n.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||m;this.dom.background.style.height=b+"px";this.dom.foreground.style.height=b+"px";this.dom.label.style.height=b+"px";b=0;for(d=this.visibleItems.length;b<d;b++)k=this.visibleItems[b],
k.repositionY(c),this.isVisible||"__background__"==this.groupId||k.displayed&&k.hide();return!this.isVisible&&this.height?m=!1:m};b.prototype._calculateSubGroupHeights=function(a){if(0<(0,c["default"])(this.subgroups).length){var b=this;this.resetSubgroups();n.forEach(this.visibleItems,function(c){void 0!==c.data.subgroup&&(b.subgroups[c.data.subgroup].height=Math.max(b.subgroups[c.data.subgroup].height,c.height+a.item.vertical),b.subgroups[c.data.subgroup].visible=!0)})}};b.prototype._isGroupVisible=
function(a,b){return this.top<=a.body.domProps.centerContainer.height-a.body.domProps.scrollTop+b.axis&&this.top+this.height+b.axis>=-a.body.domProps.scrollTop};b.prototype._calculateHeight=function(a){var b=this.visibleItems;if(0<b.length){var c=b[0].top,d=b[0].top+b[0].height;if(n.forEach(b,function(a){c=Math.min(c,a.top);d=Math.max(d,a.top+a.height)}),c>a.axis){var k=c-a.axis,d=d-k;n.forEach(b,function(a){a.top-=k})}a=d+a.item.vertical/2}else a=0;return a=Math.max(a,this.props.label.height)};b.prototype.show=
function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label);this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground);this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background);this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)};b.prototype.hide=function(){var a=this.dom.label;a.parentNode&&a.parentNode.removeChild(a);a=this.dom.foreground;a.parentNode&&a.parentNode.removeChild(a);
a=this.dom.background;a.parentNode&&a.parentNode.removeChild(a);a=this.dom.axis;a.parentNode&&a.parentNode.removeChild(a)};b.prototype.add=function(a){(this.items[a.id]=a,a.setParent(this),this.stackDirty=!0,void 0!==a.data.subgroup&&(this._addToSubgroup(a),this.orderSubgroups()),-1==this.visibleItems.indexOf(a))&&this._checkIfVisible(a,this.visibleItems,this.itemSet.body.range)};b.prototype._addToSubgroup=function(a,b){b=b||a.data.subgroup;void 0!=b&&void 0===this.subgroups[b]&&(this.subgroups[b]=
{height:0,top:0,start:a.data.start,end:a.data.end,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++);new Date(a.data.start)<new Date(this.subgroups[b].start)&&(this.subgroups[b].start=a.data.start);new Date(a.data.end)>new Date(this.subgroups[b].end)&&(this.subgroups[b].end=a.data.end);this.subgroups[b].items.push(a)};b.prototype._updateSubgroupsSizes=function(){if(this.subgroups)for(var a in this.subgroups){var b=this.subgroups[a].items[0].data.start,c=this.subgroups[a].items[0].data.end-
1;this.subgroups[a].items.forEach(function(a){new Date(a.data.start)<new Date(b)&&(b=a.data.start);new Date(a.data.end)>new Date(c)&&(c=a.data.end)});this.subgroups[a].start=b;this.subgroups[a].end=new Date(c-1)}};b.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var a=[];if("string"==typeof this.subgroupOrderer){for(var b in this.subgroups)a.push({subgroup:b,sortField:this.subgroups[b].items[0].data[this.subgroupOrderer]});a.sort(function(a,b){return a.sortField-b.sortField})}else if("function"==
typeof this.subgroupOrderer){for(b in this.subgroups)a.push(this.subgroups[b].items[0].data);a.sort(this.subgroupOrderer)}if(0<a.length)for(b=0;b<a.length;b++)this.subgroups[a[b].subgroup].index=b}};b.prototype.resetSubgroups=function(){for(var a in this.subgroups)this.subgroups.hasOwnProperty(a)&&(this.subgroups[a].visible=!1,this.subgroups[a].height=0)};b.prototype.remove=function(a){delete this.items[a.id];a.setParent(null);this.stackDirty=!0;var b=this.visibleItems.indexOf(a);-1!=b&&this.visibleItems.splice(b,
1);void 0!==a.data.subgroup&&(this._removeFromSubgroup(a),this.orderSubgroups())};b.prototype._removeFromSubgroup=function(a,b){if(void 0!=(b=b||a.data.subgroup)){var c=this.subgroups[b];if(c){var d=c.items.indexOf(a);0<=d&&(c.items.splice(d,1),c.items.length?this._updateSubgroupsSizes():delete this.subgroups[b])}}};b.prototype.removeFromDataSet=function(a){this.itemSet.removeItem(a.id)};b.prototype.order=function(){for(var b=n.toArray(this.items),c=[],d=[],m=0;m<b.length;m++)void 0!==b[m].data.end&&
d.push(b[m]),c.push(b[m]);this.orderedItems={byStart:c,byEnd:d};a.orderByStart(this.orderedItems.byStart);a.orderByEnd(this.orderedItems.byEnd)};b.prototype._updateItemsInRange=function(a,b,c){var d=[],k={},p=(c.end-c.start)/4,l=c.start-p,f=c.end+p,p=function(a){return a<l?-1:a<=f?0:1};if(0<b.length)for(var t=0;t<b.length;t++)this._checkIfVisibleWithReference(b[t],d,k,c);b=n.binarySearchCustom(a.byStart,p,"data","start");if(this._traceVisible(b,a.byStart,d,k,function(a){return a.data.start<l||a.data.start>
f}),1==this.checkRangedItems)for(this.checkRangedItems=!1,t=0;t<a.byEnd.length;t++)this._checkIfVisibleWithReference(a.byEnd[t],d,k,c);else c=n.binarySearchCustom(a.byEnd,p,"data","end"),this._traceVisible(c,a.byEnd,d,k,function(a){return a.data.end<l||a.data.end>f});for(t=0;t<d.length;t++)a=d[t],a.displayed||a.show(),a.repositionX();return d};b.prototype._traceVisible=function(a,b,c,d,k){if(-1!=a){for(var p=a;0<=p;p--){var l=b[p];if(k(l))break;void 0===d[l.id]&&(d[l.id]=!0,c.push(l))}for(p=a+1;p<
b.length;p++){l=b[p];if(k(l))break;void 0===d[l.id]&&(d[l.id]=!0,c.push(l))}}};b.prototype._checkIfVisible=function(a,b,c){a.isVisible(c)?(a.displayed||a.show(),a.repositionX(),b.push(a)):a.displayed&&a.hide()};b.prototype._checkIfVisibleWithReference=function(a,b,c,d){a.isVisible(d)?void 0===c[a.id]&&(c[a.id]=!0,b.push(a)):a.displayed&&a.hide()};b.prototype.changeSubgroup=function(a,b,c){this._removeFromSubgroup(a,b);this._addToSubgroup(a,c);this.orderSubgroups()};f.exports=b},function(f,h){h.orderByStart=
function(d){d.sort(function(b,c){return b.data.start-c.data.start})};h.orderByEnd=function(d){d.sort(function(b,c){return("end"in b.data?b.data.end:b.data.start)-("end"in c.data?c.data.end:c.data.start)})};h.stack=function(d,b,c){if(c)for(c=0;c<d.length;c++)d[c].top=null;for(c=0;c<d.length;c++){var f=d[c];if(f.stack&&null===f.top){f.top=b.axis;do{for(var a=null,e=0,q=d.length;e<q;e++){var g=d[e];if(null!==g.top&&g!==f&&g.stack&&h.collision(f,g,b.item,g.options.rtl)){a=g;break}}null!=a&&(f.top=a.top+
a.height+b.item.vertical)}while(a)}}};h.nostack=function(d,b,c,f){for(var a=0;a<d.length;a++)if(void 0==d[a].data.subgroup)d[a].top=b.item.vertical;else if(void 0!==d[a].data.subgroup&&f){var e=0,q;for(q in c)c.hasOwnProperty(q)&&1==c[q].visible&&c[q].index<c[d[a].data.subgroup].index&&(e+=c[q].height,c[d[a].data.subgroup].top=e);d[a].top=e+.5*b.item.vertical}f||h.stackSubgroups(d,b,c)};h.stackSubgroups=function(d,b,c){for(var f in c)if(c.hasOwnProperty(f)){c[f].top=0;do{var a=null,e;for(e in c)if(null!==
c[e].top&&e!==f&&c[f].index>c[e].index&&h.collisionByTimes(c[f],c[e])){a=c[e];break}null!=a&&(c[f].top=a.top+a.height)}while(a)}for(f=0;f<d.length;f++)void 0!==d[f].data.subgroup&&(d[f].top=c[d[f].data.subgroup].top+.5*b.item.vertical)};h.collision=function(d,b,c,f){return f?d.right-c.horizontal+.001<b.right+b.width&&d.right+d.width+c.horizontal-.001>b.right&&d.top-c.vertical+.001<b.top+b.height&&d.top+d.height+c.vertical-.001>b.top:d.left-c.horizontal+.001<b.left+b.width&&d.left+d.width+c.horizontal-
.001>b.left&&d.top-c.vertical+.001<b.top+b.height&&d.top+d.height+c.vertical-.001>b.top};h.collisionByTimes=function(d,b){return d.start<=b.start&&d.end>=b.start&&d.top<b.top+b.height&&d.top+d.height>b.top||b.start<=d.start&&b.end>=d.start&&b.top<d.top+d.height&&b.top+b.height>d.top}},function(f,h,d){function b(b,a,d){if(this.props={content:{width:0}},this.overflow=!1,this.options=d,b){if(void 0==b.start)throw Error('Property "start" missing in item '+b.id);if(void 0==b.end)throw Error('Property "end" missing in item '+
b.id);}c.call(this,b,a,d)}var c=(d(113),d(129));b.prototype=new c(null,null,null);b.prototype.baseClassName="vis-item vis-range";b.prototype.isVisible=function(b){return this.data.start<b.end&&this.data.end>b.start};b.prototype.redraw=function(){var b=this.dom;if(b||(this.dom={},b=this.dom,b.box=document.createElement("div"),b.frame=document.createElement("div"),b.frame.className="vis-item-overflow",b.box.appendChild(b.frame),b.visibleFrame=document.createElement("div"),b.visibleFrame.className="vis-item-visible-frame",
b.box.appendChild(b.visibleFrame),b.content=document.createElement("div"),b.content.className="vis-item-content",b.frame.appendChild(b.content),b.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw Error("Cannot redraw item: no parent attached");if(!b.box.parentNode){var a=this.parent.dom.foreground;if(!a)throw Error("Cannot redraw item: parent has no foreground container element");a.appendChild(b.box)}if(this.displayed=!0,this.dirty)this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),
this._updateStyle(this.dom.box),b.box.className=this.baseClassName+((this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly")),this.overflow="hidden"!==window.getComputedStyle(b.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1;this._repaintOnItemUpdateTimeTooltip(b.box);
this._repaintDeleteButton(b.box);this._repaintDragCenter();this._repaintDragLeft();this._repaintDragRight()};b.prototype.show=function(){this.displayed||this.redraw()};b.prototype.hide=function(){if(this.displayed){var b=this.dom.box;b.parentNode&&b.parentNode.removeChild(b);this.displayed=!1}};b.prototype.repositionX=function(b){var a,c=this.parent.width,d=this.conversion.toScreen(this.data.start),g=this.conversion.toScreen(this.data.end),m=void 0===this.data.align?this.options.align:this.data.align;
void 0!==b&&!0!==b||(d<-c&&(d=-c),g>2*c&&(g=2*c));b=Math.max(g-d+.5,1);switch(this.overflow?(this.options.rtl?this.right=d:this.left=d,this.width=b+this.props.content.width,a=this.props.content.width):(this.options.rtl?this.right=d:this.left=d,this.width=b,a=Math.min(g-d,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=b+"px",m){case "left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left=
"0";break;case "right":this.options.rtl?this.dom.content.style.right=Math.max(b-a,0)+"px":this.dom.content.style.left=Math.max(b-a,0)+"px";break;case "center":this.options.rtl?this.dom.content.style.right=Math.max((b-a)/2,0)+"px":this.dom.content.style.left=Math.max((b-a)/2,0)+"px";break;default:a=this.overflow?0<g?Math.max(-d,0):-a:0>d?-d:0,this.options.rtl?this.dom.content.style.right=a+"px":(this.dom.content.style.left=a+"px",this.dom.content.style.width="calc(100% - "+a+"px)")}};b.prototype.repositionY=
function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"};b.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var b=document.createElement("div");b.className="vis-drag-left";b.dragLeftItem=this;this.dom.box.appendChild(b);this.dom.dragLeft=b}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&
this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)};b.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var b=document.createElement("div");b.className="vis-drag-right";b.dragRightItem=this;this.dom.box.appendChild(b);this.dom.dragRight=b}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),
this.dom.dragRight=null)};f.exports=b},function(f,h,d){function b(a,b,c){this.parent=this.id=null;this.data=a;this.dom=null;this.conversion=b||{};this.options=c||{};this.displayed=this.selected=!1;this.dirty=this.groupShowing=!0;this.editable=this.height=this.width=this.left=this.right=this.top=null;this._updateEditStatus()}var c=(h=d(62))&&h.__esModule?h:{"default":h},n=(h=d(58))&&h.__esModule?h:{"default":h},a=d(113),e=d(1),q=d(82);b.prototype.stack=!0;b.prototype.select=function(){this.dirty=this.selected=
!0;this.displayed&&this.redraw()};b.prototype.unselect=function(){this.selected=!1;this.dirty=!0;this.displayed&&this.redraw()};b.prototype.setData=function(a){void 0!=a.group&&this.data.group!=a.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,a.group);this.parent.stackDirty=!0;void 0!=a.subgroup&&this.data.subgroup!=a.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,a.subgroup);this.data=a;this._updateEditStatus();this.dirty=!0;this.displayed&&this.redraw()};
b.prototype.setParent=function(a){this.displayed?(this.hide(),this.parent=a,this.parent&&this.show()):this.parent=a};b.prototype.isVisible=function(a){return!1};b.prototype.show=function(){return!1};b.prototype.hide=function(){return!1};b.prototype.redraw=function(){};b.prototype.repositionX=function(){};b.prototype.repositionY=function(){};b.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var b=this,c=document.createElement("div");
c.className="vis-drag-center";c.dragCenterItem=this;var d=new a(c);d.on("tap",function(a){b.parent.itemSet.body.emitter.emit("click",{event:a,item:b.id})});d.on("doubletap",function(a){a.stopPropagation();b.parent.itemSet._onUpdateItem(b);b.parent.itemSet.body.emitter.emit("doubleClick",{event:a,item:b.id})});this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(c,this.dom.dragLeft):this.dom.box.appendChild(c):this.dom.point&&this.dom.point.appendChild(c);this.dom.dragCenter=c}else!this.selected&&
this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)};b.prototype._repaintDeleteButton=function(b){var c=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&c&&!this.dom.deleteButton){var d=this,c=document.createElement("div");this.options.rtl?c.className="vis-delete-rtl":c.className=
"vis-delete";c.title="Delete this item";(new a(c)).on("tap",function(a){a.stopPropagation();d.parent.removeFromDataSet(d)});b.appendChild(c);this.dom.deleteButton=c}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)};b.prototype._repaintOnItemUpdateTimeTooltip=function(a){if(this.options.tooltipOnItemUpdateTime){var b=(this.options.editable.updateTime||!0===this.data.editable)&&
!1!==this.data.editable;this.selected&&b&&!this.dom.onItemUpdateTimeTooltip?(b=document.createElement("div"),b.className="vis-onUpdateTime-tooltip",a.appendChild(b),this.dom.onItemUpdateTimeTooltip=b):!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=
this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden";this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top=
"",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px");var c,d;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(d=this.options.tooltipOnItemUpdateTime.template.bind(this),c=d(this.data)):(c="start: "+q(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(c+="<br> end: "+q(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=c}}};b.prototype._updateContents=function(a){var b,c,d,e,f=this.parent.itemSet.itemsData.get(this.id),
t=this.dom.box||this.dom.point,q=t.getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(e=this.options.visibleFrameTemplate.bind(this),d=e(f,t)):d="",q)if(d instanceof Object&&!(d instanceof Element))e(f,q);else if(e=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(d)){if(d instanceof Element)q.innerHTML="",q.appendChild(d);else if(void 0!=d)q.innerHTML=d;else if("background"!=this.data.type||void 0!==this.data.content)throw Error('Property "content" missing in item '+
this.id);this.itemVisibleFrameContent=d}if(this.options.template?(c=this.options.template.bind(this),b=c(f,a,this.data)):b=this.data.content,b instanceof Object&&!(b instanceof Element))c(f,a);else if(e=this._contentToString(this.content)!==this._contentToString(b)){if(b instanceof Element)a.innerHTML="",a.appendChild(b);else if(void 0!=b)a.innerHTML=b;else if("background"!=this.data.type||void 0!==this.data.content)throw Error('Property "content" missing in item '+this.id);this.content=b}};b.prototype._updateDataAttributes=
function(a){if(this.options.dataAttributes&&0<this.options.dataAttributes.length){var b;if(Array.isArray(this.options.dataAttributes))b=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;b=(0,n["default"])(this.data)}for(var c=0;c<b.length;c++){var d=b[c],e=this.data[d];null!=e?a.setAttribute("data-"+d,e):a.removeAttribute("data-"+d)}}};b.prototype._updateStyle=function(a){this.style&&(e.removeCssText(a,this.style),this.style=null);this.data.style&&(e.addCssText(a,this.data.style),
this.style=this.data.style)};b.prototype._contentToString=function(a){return"string"==typeof a?a:a&&"outerHTML"in a?a.outerHTML:a};b.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,c["default"])(this.options.editable)&&(this.editable={},e.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable)));
this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,c["default"])(this.data.editable)&&(this.editable={},e.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))};b.prototype.getWidthLeft=function(){return 0};b.prototype.getWidthRight=function(){return 0};b.prototype.getTitle=
function(){return this.data.title};f.exports=b},function(f,h,d){function b(b,a,d){c.call(this,b,a,d);this.left=this.top=this.height=this.width=0}h=(h=d(55))&&h.__esModule?h:{"default":h};var c=(d(1),d(126));b.prototype=(0,h["default"])(c.prototype);b.prototype.redraw=function(b,a,c){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,b);this.width=this.dom.background.offsetWidth;this.dom.background.style.height="0";b=0;for(c=this.visibleItems.length;b<c;b++)this.visibleItems[b].repositionY(a);
return!1};b.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)};f.exports=b},function(f,h,d){function b(b,a,d){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=d,b&&void 0==b.start)throw Error('Property "start" missing in item '+b);c.call(this,b,a,d)}var c=d(129);d(1);b.prototype=new c(null,null,null);b.prototype.isVisible=function(b){var a=this.options.align,c=this.width*b.getMillisecondsPerPixel();return"right"==
a?this.data.start.getTime()>b.start&&this.data.start.getTime()-c<b.end:"left"==a?this.data.start.getTime()+c>b.start&&this.data.start.getTime()<b.end:this.data.start.getTime()+c/2>b.start&&this.data.start.getTime()-c/2<b.end};b.prototype.redraw=function(){var b=this.dom;if(b||(this.dom={},b=this.dom,b.box=document.createElement("DIV"),b.content=document.createElement("DIV"),b.content.className="vis-item-content",b.box.appendChild(b.content),b.line=document.createElement("DIV"),b.line.className="vis-line",
b.dot=document.createElement("DIV"),b.dot.className="vis-dot",b.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw Error("Cannot redraw item: no parent attached");if(!b.box.parentNode){var a=this.parent.dom.foreground;if(!a)throw Error("Cannot redraw item: parent has no foreground container element");a.appendChild(b.box)}if(!b.line.parentNode){var c=this.parent.dom.background;if(!c)throw Error("Cannot redraw item: parent has no background container element");c.appendChild(b.line)}if(!b.dot.parentNode){a=
this.parent.dom.axis;if(!c)throw Error("Cannot redraw item: parent has no axis container element");a.appendChild(b.dot)}if(this.displayed=!0,this.dirty)this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),c=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),b.box.className="vis-item vis-box"+c,b.line.className="vis-item vis-line"+
c,b.dot.className="vis-item vis-dot"+c,c=b.box.style.right,a=b.box.style.left,this.options.rtl?b.box.style.right="0px":b.box.style.left="0px",this.props.dot.height=b.dot.offsetHeight,this.props.dot.width=b.dot.offsetWidth,this.props.line.width=b.line.offsetWidth,this.width=b.box.offsetWidth,this.height=b.box.offsetHeight,this.options.rtl?b.box.style.right=c:b.box.style.left=a,this.dirty=!1;this._repaintOnItemUpdateTimeTooltip(b.box);this._repaintDragCenter();this._repaintDeleteButton(b.box)};b.prototype.show=
function(){this.displayed||this.redraw()};b.prototype.hide=function(){if(this.displayed){var b=this.dom;b.box.parentNode&&b.box.parentNode.removeChild(b.box);b.line.parentNode&&b.line.parentNode.removeChild(b.line);b.dot.parentNode&&b.dot.parentNode.removeChild(b.dot);this.displayed=!1}};b.prototype.repositionX=function(){var b=this.conversion.toScreen(this.data.start),a=this.options.align;"right"==a?this.options.rtl?(this.right=b-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=
b-this.props.line.width+"px",this.dom.dot.style.right=b-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=b-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=b-this.props.line.width+"px",this.dom.dot.style.left=b-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==a?this.options.rtl?(this.right=b,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=b+"px",this.dom.dot.style.right=b+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=
b,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=b+"px",this.dom.dot.style.left=b+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=b-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=b-this.props.line.width+"px",this.dom.dot.style.right=b-this.props.dot.width/2+"px"):(this.left=b-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=b-this.props.line.width/2+"px",this.dom.dot.style.left=b-this.props.dot.width/
2+"px")};b.prototype.repositionY=function(){var b=this.dom.box,a=this.dom.line,c=this.dom.dot;if("top"==this.options.orientation.item)b.style.top=(this.top||0)+"px",a.style.top="0",a.style.height=this.parent.top+this.top+1+"px",a.style.bottom="";else{var d=this.parent.itemSet.props.height,g=d-this.parent.top-this.parent.height+this.top;b.style.top=(this.parent.height-this.top-this.height||0)+"px";a.style.top=d-g+"px";a.style.bottom="0"}c.style.top=-this.props.dot.height/2+"px"};b.prototype.getWidthLeft=
function(){return this.width/2};b.prototype.getWidthRight=function(){return this.width/2};f.exports=b},function(f,h,d){function b(b,a,d){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=d,b&&void 0==b.start)throw Error('Property "start" missing in item '+b);c.call(this,b,a,d)}var c=d(129);b.prototype=new c(null,null,null);b.prototype.isVisible=function(b){var a=this.width*b.getMillisecondsPerPixel();return this.data.start.getTime()+a>b.start&&
this.data.start<b.end};b.prototype.redraw=function(){var b=this.dom;if(b||(this.dom={},b=this.dom,b.point=document.createElement("div"),b.content=document.createElement("div"),b.content.className="vis-item-content",b.point.appendChild(b.content),b.dot=document.createElement("div"),b.point.appendChild(b.dot),b.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw Error("Cannot redraw item: no parent attached");if(!b.point.parentNode){var a=this.parent.dom.foreground;if(!a)throw Error("Cannot redraw item: parent has no foreground container element");
a.appendChild(b.point)}if(this.displayed=!0,this.dirty)this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point),a=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),b.point.className="vis-item vis-point"+a,b.dot.className="vis-item vis-dot"+a,this.props.dot.width=b.dot.offsetWidth,this.props.dot.height=b.dot.offsetHeight,
this.props.content.height=b.content.offsetHeight,this.options.rtl?b.content.style.marginRight=2*this.props.dot.width+"px":b.content.style.marginLeft=2*this.props.dot.width+"px",this.width=b.point.offsetWidth,this.height=b.point.offsetHeight,b.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?b.dot.style.right=this.props.dot.width/2+"px":b.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1;this._repaintOnItemUpdateTimeTooltip(b.point);this._repaintDragCenter();this._repaintDeleteButton(b.point)};
b.prototype.show=function(){this.displayed||this.redraw()};b.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)};b.prototype.repositionX=function(){var b=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=b-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=b-this.props.dot.width,this.dom.point.style.left=this.left+"px")};b.prototype.repositionY=function(){this.dom.point.style.top=
"top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"};b.prototype.getWidthLeft=function(){return this.props.dot.width};b.prototype.getWidthRight=function(){return this.props.dot.width};f.exports=b},function(f,h,d){function b(a,b,d){if(this.props={content:{width:0}},this.overflow=!1,a){if(void 0==a.start)throw Error('Property "start" missing in item '+a.id);if(void 0==a.end)throw Error('Property "end" missing in item '+a.id);}c.call(this,a,b,d)}var c=(d(113),
d(129)),n=d(130);h=d(128);b.prototype=new c(null,null,null);b.prototype.baseClassName="vis-item vis-background";b.prototype.stack=!1;b.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start};b.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.box=document.createElement("div"),a.frame=document.createElement("div"),a.frame.className="vis-item-overflow",a.box.appendChild(a.frame),a.content=document.createElement("div"),a.content.className="vis-item-content",
a.frame.appendChild(a.content),this.dirty=!0),!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.background;if(!b)throw Error("Cannot redraw item: parent has no background container element");b.appendChild(a.box)}if(this.displayed=!0,this.dirty)this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),a.box.className=this.baseClassName+((this.data.className?" "+this.data.className:
"")+(this.selected?" vis-selected":"")),this.overflow="hidden"!==window.getComputedStyle(a.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1};b.prototype.show=h.prototype.show;b.prototype.hide=h.prototype.hide;b.prototype.repositionX=h.prototype.repositionX;b.prototype.repositionY=function(a){var b;a=this.options.orientation.item;if(void 0!==this.data.subgroup){var c=this.data.subgroup;this.parent.subgroups[c].index;this.dom.box.style.height=this.parent.subgroups[c].height+
"px";this.dom.box.style.top="top"==a?this.parent.top+this.parent.subgroups[c].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[c].top-this.parent.subgroups[c].height+"px";this.dom.box.style.bottom=""}else this.parent instanceof n?(b=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==a?"0":"",this.dom.box.style.top="top"==a?"0":""):(b=this.parent.height,this.dom.box.style.top=
this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=b+"px"};f.exports=b},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(a,c){(0,b["default"])(this,d);this.container=a;this.overflowMethod=c||"cap";this.y=this.x=0;this.padding=5;this.hidden=!1;this.frame=document.createElement("div");this.frame.className="vis-tooltip";this.container.appendChild(this.frame)}
return(0,c["default"])(d,[{key:"setPosition",value:function(a,b){this.x=parseInt(a);this.y=parseInt(b)}},{key:"setText",value:function(a){a instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(a)):this.frame.innerHTML=a}},{key:"show",value:function(a){if(void 0===a&&(a=!0),!0===a){a=this.frame.clientHeight;var b=this.frame.clientWidth,c=this.frame.parentNode.clientHeight,d=this.frame.parentNode.clientWidth,f;"flip"==this.overflowMethod?(c=!1,f=!0,this.y-a<this.padding&&(f=!1),this.x+
b>d-this.padding&&(c=!0),c=c?this.x-b:this.x,f=f?this.y-a:this.y):(f=this.y-a,f+a+this.padding>c&&(f=c-a-this.padding),f<this.padding&&(f=this.padding),c=this.x,c+b+this.padding>d&&(c=d-b-this.padding),c<this.padding&&(c=this.padding));this.frame.style.left=c+"px";this.frame.style.top=f+"px";this.frame.style.visibility="visible";this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0;this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),
d}();h["default"]=d},function(f,h){h.__esModule=!0;h["default"]=function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function");}},function(f,h,d){h.__esModule=!0;var b=(f=d(137))&&f.__esModule?f:{"default":f};h["default"]=function(){function c(c,a){for(var d=0;d<a.length;d++){var f=a[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);(0,b["default"])(c,f.key,f)}}return function(b,a,d){return a&&c(b.prototype,a),d&&c(b,d),b}}()},function(f,
h,d){f.exports={"default":d(138),__esModule:!0}},function(f,h,d){d(139);var b=d(17).Object;f.exports=function(c,d,a){return b.defineProperty(c,d,a)}},function(f,h,d){f=d(15);f(f.S+f.F*!d(25),"Object",{defineProperty:d(21).f})},function(f,h,d){function b(b,c){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,
maxMinorChars:7,format:a.FORMAT,moment:q,timeAxis:null};this.options=n.extend({},this.defaultOptions);this.body=b;this._create();this.setOptions(c)}var c=(h=d(62))&&h.__esModule?h:{"default":h},n=d(1);h=d(121);var a=d(125),e=d(122),q=d(82);b.prototype=new h;b.prototype.setOptions=function(a){a&&(n.selectiveExtend("showMinorLabels showMajorLabels maxMinorChars hiddenDates timeAxis moment rtl".split(" "),this.options,a),n.selectiveDeepExtend(["format"],this.options,a),"orientation"in a&&("string"==
typeof a.orientation?this.options.orientation.axis=a.orientation:"object"===(0,c["default"])(a.orientation)&&"axis"in a.orientation&&(this.options.orientation.axis=a.orientation.axis)),"locale"in a&&("function"==typeof q.locale?q.locale(a.locale):q.lang(a.locale)))};b.prototype._create=function(){this.dom.foreground=document.createElement("div");this.dom.background=document.createElement("div");this.dom.foreground.className="vis-time-axis vis-foreground";this.dom.background.className="vis-time-axis vis-background"};
b.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground);this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background);this.body=null};b.prototype.redraw=function(){var a=this.props,b=this.dom.foreground,c=this.dom.background,d="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,g=b.parentNode!==d;this._calculateCharSize();var e=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;
a.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?a.minorCharHeight:0;a.majorLabelHeight=e?a.majorCharHeight:0;a.height=a.minorLabelHeight+a.majorLabelHeight;a.width=b.offsetWidth;a.minorLineHeight=this.body.domProps.root.height-a.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height);a.minorLineWidth=1;a.majorLineHeight=a.minorLineHeight+a.majorLabelHeight;a.majorLineWidth=1;a=b.nextSibling;e=c.nextSibling;
return b.parentNode&&b.parentNode.removeChild(b),c.parentNode&&c.parentNode.removeChild(c),b.style.height=this.props.height+"px",this._repaintLabels(),a?d.insertBefore(b,a):d.appendChild(b),e?this.body.dom.backgroundVertical.insertBefore(c,e):this.body.dom.backgroundVertical.appendChild(c),this._isResized()||g};b.prototype._repaintLabels=function(){var b=this.options.orientation.axis,c=n.convert(this.body.range.start,"Number"),d=n.convert(this.body.range.end,"Number"),l=this.body.util.toTime((this.props.minorCharWidth||
10)*this.options.maxMinorChars).valueOf(),l=l-e.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,l),l=l-this.body.util.toTime(0).valueOf(),d=new a(new Date(c),new Date(d),l,this.body.hiddenDates);d.setMoment(this.options.moment);this.options.format&&d.setFormat(this.options.format);this.options.timeAxis&&d.setScale(this.options.timeAxis);this.step=d;c=this.dom;c.redundant.lines=c.lines;c.redundant.majorTexts=c.majorTexts;c.redundant.minorTexts=c.minorTexts;c.lines=
[];c.majorTexts=[];c.minorTexts=[];var f,t,q,h,C,A,D,y=0,c=void 0,w=0;d.start();l=d.getCurrent();for(t=this.body.util.toScreen(l);d.hasNext()&&1E3>w;){switch(w++,q=d.isMajor(),D=d.getClassName(),A=d.getLabelMinor(),l,f=t,d.next(),l=d.getCurrent(),d.isMajor(),t=this.body.util.toScreen(l),h=y,y=t-f,d.scale){case "week":h=!0;break;default:h=y>=.4*h}this.options.showMinorLabels&&h&&(A=this._repaintMinorText(f,A,b,D),A.style.width=y+"px");q&&this.options.showMajorLabels?(0<f&&(void 0==c&&(c=f),A=this._repaintMajorText(f,
d.getLabelMajor(),b,D)),C=this._repaintMajorLine(f,y,b,D)):h?C=this._repaintMinorLine(f,y,b,D):C&&(C.style.width=parseInt(C.style.width)+y+"px")}if(1E3!==w||g||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),g=!0),this.options.showMajorLabels)f=this.body.util.toTime(0),f=d.getLabelMajor(f),C=f.length*(this.props.majorCharWidth||10)+10,(void 0==c||C<c)&&this._repaintMajorText(0,f,b,D);n.forEach(this.dom.redundant,function(a){for(;a.length;){var b=
a.pop();b&&b.parentNode&&b.parentNode.removeChild(b)}})};b.prototype._repaintMinorText=function(a,b,c,d){var g=this.dom.redundant.minorTexts.shift();if(!g){var e=document.createTextNode(""),g=document.createElement("div");g.appendChild(e);this.dom.foreground.appendChild(g)}return this.dom.minorTexts.push(g),g.innerHTML=b,g.style.top="top"==c?this.props.majorLabelHeight+"px":"0",this.options.rtl?(g.style.left="",g.style.right=a+"px"):g.style.left=a+"px",g.className="vis-text vis-minor "+d,g};b.prototype._repaintMajorText=
function(a,b,c,d){var g=this.dom.redundant.majorTexts.shift();if(!g){var e=document.createElement("div"),g=document.createElement("div");g.appendChild(e);this.dom.foreground.appendChild(g)}return g.childNodes[0].innerHTML=b,g.className="vis-text vis-major "+d,g.style.top="top"==c?"0":this.props.minorLabelHeight+"px",this.options.rtl?(g.style.left="",g.style.right=a+"px"):g.style.left=a+"px",this.dom.majorTexts.push(g),g};b.prototype._repaintMinorLine=function(a,b,c,d){var g=this.dom.redundant.lines.shift();
g||(g=document.createElement("div"),this.dom.background.appendChild(g));this.dom.lines.push(g);var e=this.props;return g.style.top="top"==c?e.majorLabelHeight+"px":this.body.domProps.top.height+"px",g.style.height=e.minorLineHeight+"px",this.options.rtl?(g.style.left="",g.style.right=a-e.minorLineWidth/2+"px",g.className="vis-grid vis-vertical-rtl vis-minor "+d):(g.style.left=a-e.minorLineWidth/2+"px",g.className="vis-grid vis-vertical vis-minor "+d),g.style.width=b+"px",g};b.prototype._repaintMajorLine=
function(a,b,c,d){var g=this.dom.redundant.lines.shift();g||(g=document.createElement("div"),this.dom.background.appendChild(g));this.dom.lines.push(g);var e=this.props;return g.style.top="top"==c?"0":this.body.domProps.top.height+"px",this.options.rtl?(g.style.left="",g.style.right=a-e.majorLineWidth/2+"px",g.className="vis-grid vis-vertical-rtl vis-major "+d):(g.style.left=a-e.majorLineWidth/2+"px",g.className="vis-grid vis-vertical vis-major "+d),g.style.height=e.majorLineHeight+"px",g.style.width=
b+"px",g};b.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor));this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;
this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor));this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var g=!1;f.exports=b},function(f,h,d){function b(a){this.active=
!1;this.dom={container:a};this.dom.overlay=document.createElement("div");this.dom.overlay.className="vis-overlay";this.dom.container.appendChild(this.dom.overlay);this.hammer=n(this.dom.overlay);this.hammer.on("tap",this._onTapOverlay.bind(this));var b=this;"tap doubletap press pinch pan panstart panmove panend".split(" ").forEach(function(a){b.hammer.on(a,function(a){a.stopPropagation()})});document&&document.body&&(this.onClick=function(c){a:{for(c=c.target;c;){if(c===a){c=!0;break a}c=c.parentNode}c=
!1}c||b.deactivate()},document.body.addEventListener("click",this.onClick));void 0!==this.keycharm&&this.keycharm.destroy();this.keycharm=c();this.escListener=this.deactivate.bind(this)}var c=d(116);h=d(99);var n=d(113),a=d(1);h(b.prototype);b.current=null;b.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.onClick&&document.body.removeEventListener("click",this.onClick);this.hammer.destroy();this.hammer=null};b.prototype.activate=function(){b.current&&
b.current.deactivate();b.current=this;this.active=!0;this.dom.overlay.style.display="none";a.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");this.keycharm.bind("esc",this.escListener)};b.prototype.deactivate=function(){this.active=!1;this.dom.overlay.style.display="";a.removeClassName(this.dom.container,"vis-active");this.keycharm.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};b.prototype._onTapOverlay=function(a){this.activate();
a.stopPropagation()};f.exports=b},function(f,h,d){function b(b,c){this.body=b;this.defaultOptions={moment:a,locales:e,locale:"en",id:void 0,title:void 0};this.options=n.extend({},this.defaultOptions);c&&c.time?this.customTime=c.time:this.customTime=new Date;this.eventParams={};this.setOptions(c);this._create()}var c=d(113),n=d(1);h=d(121);var a=d(82),e=d(143);b.prototype=new h;b.prototype.setOptions=function(a){a&&n.selectiveExtend(["moment","locale","locales","id"],this.options,a)};b.prototype._create=
function(){function a(b){this.body.range._onMouseWheel(b)}var b=document.createElement("div");b["custom-time"]=this;b.className="vis-custom-time "+(this.options.id||"");b.style.position="absolute";b.style.top="0px";b.style.height="100%";this.bar=b;var d=document.createElement("div");d.style.position="relative";d.style.top="0px";d.style.left="-10px";d.style.height="100%";d.style.width="20px";d.addEventListener?(d.addEventListener("mousewheel",a.bind(this),!1),d.addEventListener("DOMMouseScroll",a.bind(this),
!1)):d.attachEvent("onmousewheel",a.bind(this));b.appendChild(d);this.hammer=new c(d);this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:c.DIRECTION_HORIZONTAL})};b.prototype.destroy=function(){this.hide();this.hammer.destroy();this.body=this.hammer=null};b.prototype.redraw=function(){var a=this.body.dom.backgroundVertical;this.bar.parentNode!=
a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar));var a=this.body.util.toScreen(this.customTime),b=this.options.locales[this.options.locale];b||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),b=this.options.locales.en);var c=this.options.title;return void 0===c?(c=b.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),
c=c.charAt(0).toUpperCase()+c.substring(1)):"function"==typeof c&&(c=c.call(this.customTime)),this.bar.style.left=a+"px",this.bar.title=c,!1};b.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)};b.prototype.setCustomTime=function(a){this.customTime=n.convert(a,"Date");this.redraw()};b.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};b.prototype.setCustomTitle=function(a){this.options.title=a};b.prototype._onDragStart=function(a){this.eventParams.dragging=
!0;this.eventParams.customTime=this.customTime;a.stopPropagation()};b.prototype._onDrag=function(a){if(this.eventParams.dragging){var b=this.body.util.toScreen(this.eventParams.customTime)+a.deltaX,b=this.body.util.toTime(b);this.setCustomTime(b);this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:a});a.stopPropagation()}};b.prototype._onDragEnd=function(a){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),
event:a}),a.stopPropagation())};b.customTimeFromTarget=function(a){for(a=a.target;a;){if(a.hasOwnProperty("custom-time"))return a["custom-time"];a=a.parentNode}return null};f.exports=b},function(f,h){h.en={current:"current",time:"time"};h.en_EN=h.en;h.en_US=h.en;h.it={current:"attuale",time:"tempo"};h.it_IT=h.it;h.it_CH=h.it;h.nl={current:"huidige",time:"tijd"};h.nl_NL=h.nl;h.nl_BE=h.nl;h.de={current:"Aktuelle",time:"Zeit"};h.de_DE=h.de;h.fr={current:"actuel",time:"heure"};h.fr_FR=h.fr;h.fr_CA=h.fr;
h.fr_BE=h.fr;h.es={current:"corriente",time:"hora"};h.es_ES=h.es},function(f,h,d){function b(b,d){this.body=b;this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:n,locales:a,locale:"en"};this.options=c.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(d)}var c=d(1);h=d(121);var n=d(82),a=d(143);b.prototype=new h;b.prototype._create=function(){var a=document.createElement("div");a.className="vis-current-time";a.style.position="absolute";a.style.top="0px";a.style.height=
"100%";this.bar=a};b.prototype.destroy=function(){this.options.showCurrentTime=!1;this.redraw();this.body=null};b.prototype.setOptions=function(a){a&&c.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,a)};b.prototype.redraw=function(){if(this.options.showCurrentTime){var a=this.body.dom.backgroundVertical;this.bar.parentNode!=a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar),this.start());var b=this.options.moment((new Date).valueOf()+
this.offset),a=this.body.util.toScreen(b),c=this.options.locales[this.options.locale];c||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),c=this.options.locales.en);b=c.current+" "+c.time+": "+b.format("dddd, MMMM Do YYYY, H:mm:ss");b=b.charAt(0).toUpperCase()+b.substring(1);this.options.rtl?this.bar.style.right=a+"px":this.bar.style.left=a+"px";this.bar.title=b}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),
this.stop();return!1};b.prototype.start=function(){function a(){b.stop();var c=1/b.body.range.conversion(b.body.domProps.center.width).scale/10;30>c&&(c=30);1E3<c&&(c=1E3);b.redraw();b.body.emitter.emit("currentTimeTick");b.currentTimeTimer=setTimeout(a,c)}var b=this;a()};b.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)};b.prototype.setCurrentTime=function(a){this.offset=c.convert(a,"Date").valueOf()-(new Date).valueOf();
this.redraw()};b.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};f.exports=b},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});h.printStyle=void 0;f=d(90);var c=b(f);f=d(62);var n=b(f);f=d(58);var a=b(f);f=d(135);var e=b(f);f=d(136);var q=b(f),g=d(1),m=!1,k=void 0;d=function(){function b(){(0,e["default"])(this,b)}return(0,q["default"])(b,null,[{key:"validate",value:function(a,c,d){m=!1;var g=
k=c;return void 0!==d&&(g=c[d]),b.parse(a,g,[]),m}},{key:"parse",value:function(a,c,d){for(var g in a)a.hasOwnProperty(g)&&b.check(g,a,c,d)}},{key:"check",value:function(a,c,d,g){void 0===d[a]&&void 0===d.__any__?b.getSuggestion(a,d,g):void 0===d[a]&&void 0!==d.__any__?"object"===b.getType(c[a])&&void 0!==d.__any__.__type__?b.checkFields(a,c,d,"__any__",d.__any__.__type__,g):b.checkFields(a,c,d,"__any__",d.__any__,g):void 0!==d[a].__type__?b.checkFields(a,c,d,a,d[a].__type__,g):b.checkFields(a,c,
d,a,d[a],g)}},{key:"checkFields",value:function(c,d,e,k,f,q){var h=b.getType(d[c]),n=f[h];void 0!==n?"array"===b.getType(n)&&-1===n.indexOf(d[c])?(console.log('%cInvalid option detected in "'+c+'". Allowed values are:'+b.print(n)+' not "'+d[c]+'". '+b.printLocation(q,c),"background: #FFeeee; color: #dd0000"),m=!0):"object"===h&&"__any__"!==k&&(q=g.copyAndExtendArray(q,c),b.parse(d[c],e[k],q)):void 0===f.any&&(console.log('%cInvalid type received for "'+c+'". Expected: '+b.print((0,a["default"])(f))+
". Received ["+h+'] "'+d[c]+'"'+b.printLocation(q,c),"background: #FFeeee; color: #dd0000"),m=!0)}},{key:"getType",value:function(a){var b=void 0===a?"undefined":(0,n["default"])(a);return"object"===b?null===a?"null":a instanceof Boolean?"boolean":a instanceof Number?"number":a instanceof String?"string":Array.isArray(a)?"array":a instanceof Date?"date":void 0!==a.nodeType?"dom":!0===a._isAMomentObject?"moment":"object":"number"===b?"number":"boolean"===b?"boolean":"string"===b?"string":void 0===
b?"undefined":b}},{key:"getSuggestion",value:function(c,d,g){var e=b.findInOptions(c,d,g,!1),f=b.findInOptions(c,k,[],!0);void 0!==e.indexMatch?console.log('%cUnknown option detected: "'+c+'" in '+b.printLocation(e.path,c,"")+'Perhaps it was incomplete? Did you mean: "'+e.indexMatch+'"?\n\n',"background: #FFeeee; color: #dd0000"):4>=f.distance&&e.distance>f.distance?console.log('%cUnknown option detected: "'+c+'" in '+b.printLocation(e.path,c,"")+"Perhaps it was misplaced? Matching option found at: "+
b.printLocation(f.path,f.closestMatch,""),"background: #FFeeee; color: #dd0000"):8>=e.distance?console.log('%cUnknown option detected: "'+c+'". Did you mean "'+e.closestMatch+'"?'+b.printLocation(e.path,c),"background: #FFeeee; color: #dd0000"):console.log('%cUnknown option detected: "'+c+'". Did you mean one of these: '+b.print((0,a["default"])(d))+b.printLocation(g,c),"background: #FFeeee; color: #dd0000");m=!0}},{key:"findInOptions",value:function(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]&&
arguments[3],k=1E9,f="",m=[],q=a.toLowerCase(),h=void 0,n;for(n in c){var z;void 0!==c[n].__type__&&!0===e?(z=b.findInOptions(a,c[n],g.copyAndExtendArray(d,n)),k>z.distance&&(f=z.closestMatch,m=z.path,k=z.distance,h=z.indexMatch)):(-1!==n.toLowerCase().indexOf(q)&&(h=n),z=b.levenshteinDistance(a,n),k>z&&(f=n,m=g.copyArray(d),k=z))}return{closestMatch:f,path:m,distance:k,indexMatch:h}}},{key:"printLocation",value:function(a,b){for(var c="\n\n"+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:
"Problem value found at: \n")+"options = {\n",d=0;d<a.length;d++){for(var g=0;g<d+1;g++)c+="  ";c+=a[d]+": {\n"}for(d=0;d<a.length+1;d++)c+="  ";c+=b+"\n";for(d=0;d<a.length+1;d++){for(g=0;g<a.length-d;g++)c+="  ";c+="}\n"}return c+"\n\n"}},{key:"print",value:function(a){return(0,c["default"])(a).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;var c,d=[];for(c=0;c<=b.length;c++)d[c]=
[c];var g;for(g=0;g<=a.length;g++)d[0][g]=g;for(c=1;c<=b.length;c++)for(g=1;g<=a.length;g++)b.charAt(c-1)==a.charAt(g-1)?d[c][g]=d[c-1][g-1]:d[c][g]=Math.min(d[c-1][g-1]+1,Math.min(d[c][g-1]+1,d[c-1][g]+1));return d[b.length][a.length]}}]),b}();h["default"]=d;h.printStyle="background: #FFeeee; color: #dd0000"},function(f,h){Object.defineProperty(h,"__esModule",{value:!0});h.allOptions={configure:{enabled:{"boolean":"boolean"},filter:{"boolean":"boolean","function":"function"},container:{dom:"dom"},
__type__:{object:"object","boolean":"boolean","function":"function"}},align:{string:"string"},rtl:{"boolean":"boolean",undefined:"undefined"},rollingMode:{follow:{"boolean":"boolean"},offset:{number:"number",undefined:"undefined"},__type__:{object:"object"}},verticalScroll:{"boolean":"boolean",undefined:"undefined"},horizontalScroll:{"boolean":"boolean",undefined:"undefined"},autoResize:{"boolean":"boolean"},throttleRedraw:{number:"number"},clickToUse:{"boolean":"boolean"},dataAttributes:{string:"string",
array:"array"},editable:{add:{"boolean":"boolean",undefined:"undefined"},remove:{"boolean":"boolean",undefined:"undefined"},updateGroup:{"boolean":"boolean",undefined:"undefined"},updateTime:{"boolean":"boolean",undefined:"undefined"},overrideItems:{"boolean":"boolean",undefined:"undefined"},__type__:{"boolean":"boolean",object:"object"}},end:{number:"number",date:"date",string:"string",moment:"moment"},format:{minorLabels:{millisecond:{string:"string",undefined:"undefined"},second:{string:"string",
undefined:"undefined"},minute:{string:"string",undefined:"undefined"},hour:{string:"string",undefined:"undefined"},weekday:{string:"string",undefined:"undefined"},day:{string:"string",undefined:"undefined"},week:{string:"string",undefined:"undefined"},month:{string:"string",undefined:"undefined"},year:{string:"string",undefined:"undefined"},__type__:{object:"object","function":"function"}},majorLabels:{millisecond:{string:"string",undefined:"undefined"},second:{string:"string",undefined:"undefined"},
minute:{string:"string",undefined:"undefined"},hour:{string:"string",undefined:"undefined"},weekday:{string:"string",undefined:"undefined"},day:{string:"string",undefined:"undefined"},week:{string:"string",undefined:"undefined"},month:{string:"string",undefined:"undefined"},year:{string:"string",undefined:"undefined"},__type__:{object:"object","function":"function"}},__type__:{object:"object"}},moment:{"function":"function"},groupOrder:{string:"string","function":"function"},groupEditable:{add:{"boolean":"boolean",
undefined:"undefined"},remove:{"boolean":"boolean",undefined:"undefined"},order:{"boolean":"boolean",undefined:"undefined"},__type__:{"boolean":"boolean",object:"object"}},groupOrderSwap:{"function":"function"},height:{string:"string",number:"number"},hiddenDates:{start:{date:"date",number:"number",string:"string",moment:"moment"},end:{date:"date",number:"number",string:"string",moment:"moment"},repeat:{string:"string"},__type__:{object:"object",array:"array"}},itemsAlwaysDraggable:{item:{"boolean":"boolean",
undefined:"undefined"},range:{"boolean":"boolean",undefined:"undefined"},__type__:{"boolean":"boolean",object:"object"}},locale:{string:"string"},locales:{__any__:{any:"any"},__type__:{object:"object"}},margin:{axis:{number:"number"},item:{horizontal:{number:"number",undefined:"undefined"},vertical:{number:"number",undefined:"undefined"},__type__:{object:"object",number:"number"}},__type__:{object:"object",number:"number"}},max:{date:"date",number:"number",string:"string",moment:"moment"},maxHeight:{number:"number",
string:"string"},maxMinorChars:{number:"number"},min:{date:"date",number:"number",string:"string",moment:"moment"},minHeight:{number:"number",string:"string"},moveable:{"boolean":"boolean"},multiselect:{"boolean":"boolean"},multiselectPerGroup:{"boolean":"boolean"},onAdd:{"function":"function"},onUpdate:{"function":"function"},onMove:{"function":"function"},onMoving:{"function":"function"},onRemove:{"function":"function"},onAddGroup:{"function":"function"},onMoveGroup:{"function":"function"},onRemoveGroup:{"function":"function"},
order:{"function":"function"},orientation:{axis:{string:"string",undefined:"undefined"},item:{string:"string",undefined:"undefined"},__type__:{string:"string",object:"object"}},selectable:{"boolean":"boolean"},showCurrentTime:{"boolean":"boolean"},showMajorLabels:{"boolean":"boolean"},showMinorLabels:{"boolean":"boolean"},stack:{"boolean":"boolean"},stackSubgroups:{"boolean":"boolean"},snap:{"function":"function","null":"null"},start:{date:"date",number:"number",string:"string",moment:"moment"},template:{"function":"function"},
groupTemplate:{"function":"function"},visibleFrameTemplate:{string:"string","function":"function"},showTooltips:{"boolean":"boolean"},tooltip:{followMouse:{"boolean":"boolean"},overflowMethod:{string:["cap","flip"]},__type__:{object:"object"}},tooltipOnItemUpdateTime:{template:{"function":"function"},__type__:{"boolean":"boolean",object:"object"}},timeAxis:{scale:{string:"string",undefined:"undefined"},step:{number:"number",undefined:"undefined"},__type__:{object:"object"}},type:{string:"string"},
width:{string:"string",number:"number"},zoomable:{"boolean":"boolean"},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:"number"},zoomMin:{number:"number"},__type__:{object:"object"}};h.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},
majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,
showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536E10,10,31536E10,1],zoomMin:[10,10,31536E10,1]}}},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(90);var c=b(f);f=d(62);var n=b(f);f=d(135);
var a=b(f);f=d(136);var e=b(f),q=d(1),g=d(148)["default"];d=function(){function b(c,d,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;(0,a["default"])(this,b);this.parent=c;this.changedOptions=[];this.container=d;this.allowCreation=!1;this.options={};this.initialized=!1;this.popupCounter=0;this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0};q.extend(this.options,this.defaultOptions);this.configureOptions=e;this.moduleOptions={};this.domElements=[];this.popupDiv=
{};this.popupLimit=5;this.popupHistory={};this.colorPicker=new g(f);this.wrapper=void 0}return(0,e["default"])(b,[{key:"setOptions",value:function(a){if(void 0!==a){this.popupHistory={};this._removePopup();var b=!0;"string"==typeof a?this.options.filter=a:a instanceof Array?this.options.filter=a.join():"object"===(void 0===a?"undefined":(0,n["default"])(a))?(void 0!==a.container&&(this.options.container=a.container),void 0!==a.filter&&(this.options.filter=a.filter),void 0!==a.showButton&&(this.options.showButton=
a.showButton),void 0!==a.enabled&&(b=a.enabled)):"boolean"==typeof a?(this.options.filter=!0,b=a):"function"==typeof a&&(this.options.filter=a,b=!0);!1===this.options.filter&&(b=!1);this.options.enabled=b}this._clean()}},{key:"setModuleOptions",value:function(a){this.moduleOptions=a;!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var a=this;this._clean();this.changedOptions=[];var b=
this.options.filter,c=0,d=!1,g;for(g in this.configureOptions)this.configureOptions.hasOwnProperty(g)&&(this.allowCreation=!1,d=!1,"function"==typeof b?(d=b(g,[]),d=d||this._handleObject(this.configureOptions[g],[g],!0)):!0!==b&&-1===b.indexOf(g)||(d=!0),!1!==d&&(this.allowCreation=!0,0<c&&this._makeItem([]),this._makeHeader(g),this._handleObject(this.configureOptions[g],[g])),c++);if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button";
e.innerHTML="generate options";e.onclick=function(){a._printOptions()};e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"};e.onmouseout=function(){e.className="vis-configuration vis-config-button"};this.optionsContainer=document.createElement("div");this.optionsContainer.className="vis-configuration vis-config-option-container";this.domElements.push(this.optionsContainer);this.domElements.push(e)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div");
this.wrapper.className="vis-configuration-wrapper";this.container.appendChild(this.wrapper);for(var a=0;a<this.domElements.length;a++)this.wrapper.appendChild(this.domElements[a]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var a=0;a<this.domElements.length;a++)this.wrapper.removeChild(this.domElements[a]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0);this.domElements=[];this._removePopup()}},{key:"_getValue",value:function(a){for(var b=this.moduleOptions,
c=0;c<a.length;c++){if(void 0===b[a[c]]){b=void 0;break}b=b[a[c]]}return b}},{key:"_makeItem",value:function(a){if(!0===this.allowCreation){var b=document.createElement("div");b.className="vis-configuration vis-config-item vis-config-s"+a.length;for(var c=arguments.length,d=Array(1<c?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];return d.forEach(function(a){b.appendChild(a)}),this.domElements.push(b),this.domElements.length}return 0}},{key:"_makeHeader",value:function(a){var b=document.createElement("div");
b.className="vis-configuration vis-config-header";b.innerHTML=a;this._makeItem([],b)}},{key:"_makeLabel",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=document.createElement("div");return d.className="vis-configuration vis-config-label vis-config-s"+b.length,d.innerHTML=!0===c?"<i><b>"+a+":</b></i>":a+":",d}},{key:"_makeDropdown",value:function(a,b,c){var d=document.createElement("select");d.className="vis-configuration vis-config-select";var g=0;void 0!==b&&
-1!==a.indexOf(b)&&(g=a.indexOf(b));for(b=0;b<a.length;b++){var e=document.createElement("option");e.value=a[b];b===g&&(e.selected="selected");e.innerHTML=a[b];d.appendChild(e)}var f=this;d.onchange=function(){f._update(this.value,c)};a=this._makeLabel(c[c.length-1],c);this._makeItem(c,a,d)}},{key:"_makeRange",value:function(a,b,c){var d=a[0],g=a[1],e=a[2],f=a[3];a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=g,a.max=e}catch(m){}a.step=
f;var f="",q=0;void 0!==b?(0>b&&1.2*b<g?(a.min=Math.ceil(1.2*b),q=a.min,f="range increased"):b/1.2<g&&(a.min=Math.ceil(b/1.2),q=a.min,f="range increased"),1.2*b>e&&1!==e&&(a.max=Math.ceil(1.2*b),q=a.max,f="range increased"),a.value=b):a.value=d;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput";h.value=a.value;var n=this;a.onchange=function(){h.value=this.value;n._update(Number(this.value),c)};a.oninput=function(){h.value=this.value};b=this._makeLabel(c[c.length-
1],c);b=this._makeItem(c,b,a,h);""!==f&&this.popupHistory[b]!==q&&(this.popupHistory[b]=q,this._setupPopup(f,b))}},{key:"_setupPopup",value:function(a,b){var c=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var d=document.createElement("div");d.id="vis-configuration-popup";d.className="vis-configuration-popup";d.innerHTML=a;d.onclick=function(){c._removePopup()};this.popupCounter+=1;this.popupDiv={html:d,index:b}}}},{key:"_removePopup",value:function(){void 0!==
this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var a=this;if(void 0!==this.popupDiv.html){var b=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=b.left+"px";this.popupDiv.html.style.top=b.top-30+"px";document.body.appendChild(this.popupDiv.html);this.popupDiv.hideTimeout=setTimeout(function(){a.popupDiv.html.style.opacity=
0},1500);this.popupDiv.deleteTimeout=setTimeout(function(){a._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(a,b,c){var d=document.createElement("input");d.type="checkbox";d.className="vis-configuration vis-config-checkbox";d.checked=a;void 0!==b&&(d.checked=b,b!==a&&("object"===(void 0===a?"undefined":(0,n["default"])(a))?b!==a.enabled&&this.changedOptions.push({path:c,value:b}):this.changedOptions.push({path:c,value:b})));var g=this;d.onchange=function(){g._update(this.checked,c)};
a=this._makeLabel(c[c.length-1],c);this._makeItem(c,a,d)}},{key:"_makeTextInput",value:function(a,b,c){var d=document.createElement("input");d.type="text";d.className="vis-configuration vis-config-text";d.value=b;b!==a&&this.changedOptions.push({path:c,value:b});var g=this;d.onchange=function(){g._update(this.value,c)};a=this._makeLabel(c[c.length-1],c);this._makeItem(c,a,d)}},{key:"_makeColorField",value:function(a,b,c){var d=this;a=a[1];var g=document.createElement("div");b=void 0===b?a:b;"none"!==
b?(g.className="vis-configuration vis-config-colorBlock",g.style.backgroundColor=b):g.className="vis-configuration vis-config-colorBlock none";b=void 0===b?a:b;g.onclick=function(){d._showColorPicker(b,g,c)};a=this._makeLabel(c[c.length-1],c);this._makeItem(c,a,g)}},{key:"_showColorPicker",value:function(a,b,c){var d=this;b.onclick=function(){};this.colorPicker.insertTo(b);this.colorPicker.show();this.colorPicker.setColor(a);this.colorPicker.setUpdateCallback(function(a){a="rgba("+a.r+","+a.g+","+
a.b+","+a.a+")";b.style.backgroundColor=a;d._update(a,c)});this.colorPicker.setCloseCallback(function(){b.onclick=function(){d._showColorPicker(a,b,c)}})}},{key:"_handleObject",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d,g=this.options.filter,e=!1,f;for(f in a)if(a.hasOwnProperty(f)){d=!0;var m=a[f],h=q.copyAndExtendArray(b,f);if("function"==typeof g&&!1===(d=g(f,b))&&!(m instanceof Array)&&"string"!=
typeof m&&"boolean"!=typeof m&&m instanceof Object&&(this.allowCreation=!1,d=this._handleObject(m,h,!0),this.allowCreation=!1===c),!1!==d)if(e=!0,d=this._getValue(h),m instanceof Array)this._handleArray(m,d,h);else if("string"==typeof m)this._makeTextInput(m,d,h);else if("boolean"==typeof m)this._makeCheckbox(m,d,h);else if(m instanceof Object){if(d=!0,-1!==b.indexOf("physics")&&this.moduleOptions.physics.solver!==f&&(d=!1),!0===d)void 0!==m.enabled?(d=q.copyAndExtendArray(h,"enabled"),d=this._getValue(d),
!0===d?(d=this._makeLabel(f,h,!0),this._makeItem(h,d),e=this._handleObject(m,h)||e):this._makeCheckbox(m,d,h)):(d=this._makeLabel(f,h,!0),this._makeItem(h,d),e=this._handleObject(m,h)||e)}else console.error("dont know how to handle",m,f,h)}return e}},{key:"_handleArray",value:function(a,b,c){"string"==typeof a[0]&&"color"===a[0]?(this._makeColorField(a,b,c),a[1]!==b&&this.changedOptions.push({path:c,value:b})):"string"==typeof a[0]?(this._makeDropdown(a,b,c),a[0]!==b&&this.changedOptions.push({path:c,
value:b})):"number"==typeof a[0]&&(this._makeRange(a,b,c),a[0]!==b&&this.changedOptions.push({path:c,value:Number(b)}))}},{key:"_update",value:function(a,b){var c=this._constructOptions(a,b);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",c);this.initialized=!0;this.parent.setOptions(c)}},{key:"_constructOptions",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=c;a="true"===a||a;a="false"!==
a&&a;for(var g=0;g<b.length;g++)"global"!==b[g]&&(void 0===d[b[g]]&&(d[b[g]]={}),g!==b.length-1?d=d[b[g]]:d[b[g]]=a);return c}},{key:"_printOptions",value:function(){var a=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,c["default"])(a,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var a={},b=0;b<this.changedOptions.length;b++)this._constructOptions(this.changedOptions[b].value,this.changedOptions[b].path,a);return a}}]),b}();h["default"]=d},function(f,h,d){function b(a){return a&&
a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(90);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f),e=d(113),q=d(120),g=d(1);d=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;(0,n["default"])(this,b);this.pixelRatio=a;this.generated=!1;this.centerCoordinates={x:144.5,y:144.5};this.r=289*.49;this.color={r:255,g:255,b:255,a:1};this.hueCircle=void 0;this.initialColor={r:255,g:255,b:255,a:1};this.previousColor=void 0;this.applied=
!1;this.updateCallback=function(){};this.closeCallback=function(){};this._create()}return(0,a["default"])(b,[{key:"insertTo",value:function(a){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0);this.container=a;this.container.appendChild(this.frame);this._bindHammer();this._setSize()}},{key:"setUpdateCallback",value:function(a){if("function"!=typeof a)throw Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=a}},{key:"setCloseCallback",
value:function(a){if("function"!=typeof a)throw Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=a}},{key:"_isColorString",value:function(a){var b={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",
midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",
mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",
paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",
violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",
lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"==typeof a)return b[a]}},{key:"setColor",value:function(a){var b=
!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==a){var d=void 0,e=this._isColorString(a);(void 0!==e&&(a=e),!0===g.isString(a))?!0===g.isValidRGB(a)?(d=a.substr(4).substr(0,a.length-5).split(","),d={r:d[0],g:d[1],b:d[2],a:1}):!0===g.isValidRGBA(a)?(d=a.substr(5).substr(0,a.length-6).split(","),d={r:d[0],g:d[1],b:d[2],a:d[3]}):!0===g.isValidHex(a)&&(d=g.hexToRGB(a),d={r:d.r,g:d.g,b:d.b,a:1}):a instanceof Object&&void 0!==a.r&&void 0!==a.g&&void 0!==a.b&&(d={r:a.r,g:a.g,b:a.b,
a:void 0!==a.a?a.a:"1.0"});if(void 0===d)throw Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,c["default"])(a));this._setColor(d,b)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0);this.applied=!1;this.frame.style.display="block";this._generateHueCircle()}},{key:"_hide",value:function(){var a=this;!0===(!(0<arguments.length&&void 0!==arguments[0])||
arguments[0])&&(this.previousColor=g.extend({},this.color));!0===this.applied&&this.updateCallback(this.initialColor);this.frame.style.display="none";setTimeout(function(){void 0!==a.closeCallback&&(a.closeCallback(),a.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color);this.applied=!1;this._hide()}},{key:"_apply",value:function(){this.applied=!0;this.updateCallback(this.color);this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?
this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(a){!0===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=g.extend({},a));this.color=a;var b=g.RGBToHSV(a.r,a.g,a.b),c=2*Math.PI,d=this.r*b.s,e=this.centerCoordinates.y+d*Math.cos(c*b.h);this.colorPickerSelector.style.left=this.centerCoordinates.x+d*Math.sin(c*b.h)-.5*this.colorPickerSelector.clientWidth+"px";this.colorPickerSelector.style.top=e-.5*this.colorPickerSelector.clientHeight+
"px";this._updatePicker(a)}},{key:"_setOpacity",value:function(a){this.color.a=a/100;this._updatePicker(this.color)}},{key:"_setBrightness",value:function(a){var b=g.RGBToHSV(this.color.r,this.color.g,this.color.b);b.v=a/100;a=g.HSVToRGB(b.h,b.s,b.v);a.a=this.color.a;this.color=a;this._updatePicker()}},{key:"_updatePicker",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,b=g.RGBToHSV(a.r,a.g,a.b),c=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&
(this.pixelRatio=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1));c.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);c.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight);c.putImageData(this.hueCircle,0,0);c.fillStyle="rgba(0,0,0,"+(1-b.v)+")";c.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);c.fill();this.brightnessRange.value=
100*b.v;this.opacityRange.value=100*a.a;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%";this.colorPickerCanvas.style.height="100%";this.colorPickerCanvas.width=289*this.pixelRatio;this.colorPickerCanvas.height=
289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var a=
this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else a=document.createElement("DIV"),a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a);
this.colorPickerDiv.className="vis-color";this.opacityDiv=document.createElement("div");this.opacityDiv.className="vis-opacity";this.brightnessDiv=document.createElement("div");this.brightnessDiv.className="vis-brightness";this.arrowDiv=document.createElement("div");this.arrowDiv.className="vis-arrow";this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(b){}this.opacityRange.value="100";this.opacityRange.className=
"vis-range";this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(b){}this.brightnessRange.value="100";this.brightnessRange.className="vis-range";this.opacityDiv.appendChild(this.opacityRange);this.brightnessDiv.appendChild(this.brightnessRange);var c=this;this.opacityRange.onchange=function(){c._setOpacity(this.value)};this.opacityRange.oninput=function(){c._setOpacity(this.value)};this.brightnessRange.onchange=
function(){c._setBrightness(this.value)};this.brightnessRange.oninput=function(){c._setBrightness(this.value)};this.brightnessLabel=document.createElement("div");this.brightnessLabel.className="vis-label vis-brightness";this.brightnessLabel.innerHTML="brightness:";this.opacityLabel=document.createElement("div");this.opacityLabel.className="vis-label vis-opacity";this.opacityLabel.innerHTML="opacity:";this.newColorDiv=document.createElement("div");this.newColorDiv.className="vis-new-color";this.newColorDiv.innerHTML=
"new";this.initialColorDiv=document.createElement("div");this.initialColorDiv.className="vis-initial-color";this.initialColorDiv.innerHTML="initial";this.cancelButton=document.createElement("div");this.cancelButton.className="vis-button vis-cancel";this.cancelButton.innerHTML="cancel";this.cancelButton.onclick=this._hide.bind(this,!1);this.applyButton=document.createElement("div");this.applyButton.className="vis-button vis-apply";this.applyButton.innerHTML="apply";this.applyButton.onclick=this._apply.bind(this);
this.saveButton=document.createElement("div");this.saveButton.className="vis-button vis-save";this.saveButton.innerHTML="save";this.saveButton.onclick=this._save.bind(this);this.loadButton=document.createElement("div");this.loadButton.className="vis-button vis-load";this.loadButton.innerHTML="load last";this.loadButton.onclick=this._loadLast.bind(this);this.frame.appendChild(this.colorPickerDiv);this.frame.appendChild(this.arrowDiv);this.frame.appendChild(this.brightnessLabel);this.frame.appendChild(this.brightnessDiv);
this.frame.appendChild(this.opacityLabel);this.frame.appendChild(this.opacityDiv);this.frame.appendChild(this.newColorDiv);this.frame.appendChild(this.initialColorDiv);this.frame.appendChild(this.cancelButton);this.frame.appendChild(this.applyButton);this.frame.appendChild(this.saveButton);this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var a=this;this.drag={};this.pinch={};this.hammer=new e(this.colorPickerCanvas);this.hammer.get("pinch").set({enable:!0});q.onTouch(this.hammer,
function(b){a._moveSelector(b)});this.hammer.on("tap",function(b){a._moveSelector(b)});this.hammer.on("panstart",function(b){a._moveSelector(b)});this.hammer.on("panmove",function(b){a._moveSelector(b)});this.hammer.on("panend",function(b){a._moveSelector(b)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var a=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||
a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1));a.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var b=this.colorPickerCanvas.clientWidth,c=this.colorPickerCanvas.clientHeight;a.clearRect(0,0,b,c);var d,e,f,m;this.centerCoordinates={x:.5*b,y:.5*c};this.r=.49*b;var q=2*Math.PI/360,h=1/this.r,n;for(f=0;360>f;f++)for(m=0;m<this.r;m++)d=this.centerCoordinates.x+m*Math.sin(q*f),e=this.centerCoordinates.y+m*Math.cos(q*f),n=g.HSVToRGB(1/360*f,m*h,1),a.fillStyle=
"rgb("+n.r+","+n.g+","+n.b+")",a.fillRect(d-.5,e-.5,2,2);a.strokeStyle="rgba(0,0,0,1)";a.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);a.stroke();this.hueCircle=a.getImageData(0,0,b,c)}this.generated=!0}},{key:"_moveSelector",value:function(a){var b=this.colorPickerDiv.getBoundingClientRect(),c=.5*this.colorPickerDiv.clientHeight,d=.5*this.colorPickerDiv.clientWidth,e=a.center.x-b.left-d,b=a.center.y-b.top-c;a=Math.atan2(e,b);e=.98*Math.min(Math.sqrt(e*e+b*b),d);d=Math.sin(a)*e+
d;this.colorPickerSelector.style.top=Math.cos(a)*e+c-.5*this.colorPickerSelector.clientHeight+"px";this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";c=a/(2*Math.PI);c=0>c?c+1:c;d=e/this.r;e=g.RGBToHSV(this.color.r,this.color.g,this.color.b);e.h=c;e.s=d;c=g.HSVToRGB(e.h,e.s,e.v);c.a=this.color.a;this.color=c;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor=
"rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),b}();h["default"]=d},function(f,h,d){function b(b,d,g,f){!(Array.isArray(g)||g instanceof a||g instanceof e)&&g instanceof Object&&(g=f=g);f&&f.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:c,width:null,
height:null,maxHeight:null,minHeight:null};this.options=n.deepExtend({},this.defaultOptions);this._create(b);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}};this.range=new q(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=
new m(this.body);this.components.push(this.timeAxis);this.currentTime=new k(this.body);this.components.push(this.currentTime);this.linegraph=new l(this.body);this.components.push(this.linegraph);this.groupsData=this.itemsData=null;this.on("tap",function(a){p.emit("click",p.getEventProperties(a))});this.on("doubletap",function(a){p.emit("doubleClick",p.getEventProperties(a))});this.dom.root.oncontextmenu=function(a){p.emit("contextmenu",p.getEventProperties(a))};f&&this.setOptions(f);g&&this.setGroups(g);
d&&this.setItems(d);this._redraw()}var c=(d(99),d(113),d(82)),n=d(1),a=d(89),e=d(93),q=d(119),g=d(123),m=d(140),k=d(144),p=d(142),l=d(150),r=d(145).printStyle,t=d(158).allOptions,u=d(158).configureOptions,v=d(147)["default"],C=d(145)["default"];b.prototype=new g;b.prototype.setOptions=function(a){!0===C.validate(a,t)&&console.log("%cErrors have been found in the supplied options object.",r);g.prototype.setOptions.call(this,a)};b.prototype.setItems=function(b){var c,d=null==this.itemsData;if(c=b?b instanceof
a||b instanceof e?b:new a(b,{type:{start:"Date",end:"Date"}}):null,this.itemsData=c,this.linegraph&&this.linegraph.setItems(c),d)void 0!=this.options.start||void 0!=this.options.end?this.setWindow(void 0!=this.options.start?this.options.start:null,void 0!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1})};b.prototype.setGroups=function(b){this.groupsData=b=b?b instanceof a||b instanceof e?b:new a(b):null;this.linegraph.setGroups(b)};b.prototype.getLegend=function(a,b,
c){return void 0===b&&(b=15),void 0===c&&(c=15),void 0!==this.linegraph.groups[a]?this.linegraph.groups[a].getLegend(b,c):"cannot find group:'"+a+"'"};b.prototype.isGroupVisible=function(a){return void 0!==this.linegraph.groups[a]&&this.linegraph.groups[a].visible&&(void 0===this.linegraph.options.groups.visibility[a]||1==this.linegraph.options.groups.visibility[a])};b.prototype.getDataRange=function(){var a=null,b=null,c;for(c in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(c)&&
1==this.linegraph.groups[c].visible)for(var d=0;d<this.linegraph.groups[c].itemsData.length;d++)var g=n.convert(this.linegraph.groups[c].itemsData[d].x,"Date").valueOf(),a=null==a?g:a>g?g:a,b=null==b?g:b<g?g:b;return{min:null!=a?new Date(a):null,max:null!=b?new Date(b):null}};b.prototype.getEventProperties=function(a){var b=a.center?a.center.y:a.clientY,c=(a.center?a.center.x:a.clientX)-n.getAbsoluteLeft(this.dom.centerContainer),b=b-n.getAbsoluteTop(this.dom.centerContainer),d=this._toTime(c),g=
p.customTimeFromTarget(a),e=n.getTarget(a),k=null;n.hasParent(e,this.timeAxis.dom.foreground)?k="axis":this.timeAxis2&&n.hasParent(e,this.timeAxis2.dom.foreground)?k="axis":n.hasParent(e,this.linegraph.yAxisLeft.dom.frame)?k="data-axis":n.hasParent(e,this.linegraph.yAxisRight.dom.frame)?k="data-axis":n.hasParent(e,this.linegraph.legendLeft.dom.frame)?k="legend":n.hasParent(e,this.linegraph.legendRight.dom.frame)?k="legend":null!=g?k="custom-time":n.hasParent(e,this.currentTime.bar)?k="current-time":
n.hasParent(e,this.dom.center)&&(k="background");var g=[],e=this.linegraph.yAxisLeft,l=this.linegraph.yAxisRight;return!e.hidden&&0<this.itemsData.length&&g.push(e.screenToValue(b)),!l.hidden&&0<this.itemsData.length&&g.push(l.screenToValue(b)),{event:a,what:k,pageX:a.srcEvent?a.srcEvent.pageX:a.pageX,pageY:a.srcEvent?a.srcEvent.pageY:a.pageY,x:c,y:b,time:d,value:g}};b.prototype._createConfigurator=function(){return new v(this,this.dom.container,u)};f.exports=b},function(f,h,d){function b(a,b){this.id=
n.randomUUID();this.body=a;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}};this.options=n.extend({},this.defaultOptions);this.dom={};this.props={};this.hammer=null;this.groups=
{};this.updateSVGheightOnResize=this.updateSVGheight=this.abortedGraphUpdate=!1;this.forceGraphUpdate=!0;var c=this;this.groupsData=this.itemsData=null;this.itemListeners={add:function(a,b,d){c._onAdd(b.items)},update:function(a,b,d){c._onUpdate(b.items)},remove:function(a,b,d){c._onRemove(b.items)}};this.groupListeners={add:function(a,b,d){c._onAddGroups(b.items)},update:function(a,b,d){c._onUpdateGroups(b.items)},remove:function(a,b,d){c._onRemoveGroups(b.items)}};this.items={};this.selection=[];
this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(b);this.groupsUsingDefaultStyles=[0];this.body.emitter.on("rangechanged",function(){c.lastStart=c.body.range.start;c.svg.style.left=n.option.asSize(-c.props.width);c.forceGraphUpdate=!0;c.redraw.call(c)});this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var c=(h=d(62))&&h.__esModule?h:{"default":h},n=d(1),a=d(88),e=d(89),q=d(93);h=d(121);var g=
d(151),m=d(153),k=d(157),p=d(154),l=d(156),r=d(155);b.prototype=new h;b.prototype._create=function(){var a=document.createElement("div");a.className="vis-line-graph";this.dom.frame=a;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";a.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new g(this.body,this.options.dataAxis,
this.svg,this.options.groups);this.options.dataAxis.orientation="right";this.yAxisRight=new g(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new k(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new k(this.body,this.options.legend,"right",this.options.groups);this.show()};b.prototype.setOptions=function(a){a&&(void 0===a.graphHeight&&void 0!==a.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=
!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==a.graphHeight&&parseInt((a.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),n.selectiveDeepExtend("sampling defaultGroup stack height graphHeight yAxisOrientation style barChart dataAxis sort groups".split(" "),this.options,a),n.mergeOptions(this.options,a,"interpolation"),n.mergeOptions(this.options,a,"drawPoints"),n.mergeOptions(this.options,a,"shaded"),n.mergeOptions(this.options,
a,"legend"),a.interpolation&&"object"==(0,c["default"])(a.interpolation)&&a.interpolation.parametrization&&("uniform"==a.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==a.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==a.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&
void 0!==a.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(a));this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};b.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};
b.prototype.setItems=function(a){var b,c=this,d=this.itemsData;if(a){if(!(a instanceof e||a instanceof q))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=a}else this.itemsData=null;if(d&&(n.forEach(this.itemListeners,function(a,b){d.off(b,a)}),b=d.getIds(),this._onRemove(b)),this.itemsData){var g=this.id;n.forEach(this.itemListeners,function(a,b){c.itemsData.on(b,a,g)});b=this.itemsData.getIds();this._onAdd(b)}};b.prototype.setGroups=function(a){var b,c=this;
if(this.groupsData){n.forEach(this.groupListeners,function(a,b){c.groupsData.off(b,a)});b=this.groupsData.getIds();this.groupsData=null;for(var d=0;d<b.length;d++)this._removeGroup(b[d])}if(a){if(!(a instanceof e||a instanceof q))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=a}else this.groupsData=null;if(this.groupsData){var g=this.id;n.forEach(this.groupListeners,function(a,b){c.groupsData.on(b,a,g)});b=this.groupsData.getIds();this._onAddGroups(b)}};b.prototype._onUpdate=
function(a){this._updateAllGroupData(a)};b.prototype._onAdd=function(a){this._onUpdate(a)};b.prototype._onRemove=function(a){this._onUpdate(a)};b.prototype._onUpdateGroups=function(a){this._updateAllGroupData(null,a)};b.prototype._onAddGroups=function(a){this._onUpdateGroups(a)};b.prototype._onRemoveGroups=function(a){for(var b=0;b<a.length;b++)this._removeGroup(a[b]);this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})};b.prototype._removeGroup=function(a){this.groups.hasOwnProperty(a)&&
("right"==this.groups[a].options.yAxisOrientation?(this.yAxisRight.removeGroup(a),this.legendRight.removeGroup(a),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(a),this.legendLeft.removeGroup(a),this.legendLeft.redraw()),delete this.groups[a])};b.prototype._updateGroup=function(a,b){this.groups.hasOwnProperty(b)?(this.groups[b].update(a),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.updateGroup(b,this.groups[b]),this.legendRight.updateGroup(b,this.groups[b]),this.yAxisLeft.removeGroup(b),
this.legendLeft.removeGroup(b)):(this.yAxisLeft.updateGroup(b,this.groups[b]),this.legendLeft.updateGroup(b,this.groups[b]),this.yAxisRight.removeGroup(b),this.legendRight.removeGroup(b))):(this.groups[b]=new m(a,b,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.addGroup(b,this.groups[b]),this.legendRight.addGroup(b,this.groups[b])):(this.yAxisLeft.addGroup(b,this.groups[b]),this.legendLeft.addGroup(b,this.groups[b])));this.legendLeft.redraw();
this.legendRight.redraw()};b.prototype._updateAllGroupData=function(a,b){if(null!=this.itemsData){var c={},d=this.itemsData.get(),g=this.itemsData._fieldId,e={};a&&a.map(function(a){e[a]=a});for(var k={},l=0;l<d.length;l++){var f=d[l],p=f.group;null!==p&&void 0!==p||(p="__ungrouped__");k.hasOwnProperty(p)?k[p]++:k[p]=1}var m={};if(!b&&a)for(p in this.groups)this.groups.hasOwnProperty(p)&&(l=this.groups[p],l=l.getItems(),c[p]=l.filter(function(a){return m[a[g]]=a[g],a[g]!==e[a[g]]}),l=k[p],k[p]-=c[p].length,
c[p].length<l&&(c[p][l-1]={}));for(l=0;l<d.length;l++)if(f=d[l],p=f.group,null!==p&&void 0!==p||(p="__ungrouped__"),b||!a||f[g]===e[f[g]]||!m.hasOwnProperty(f[g])){c.hasOwnProperty(p)||(c[p]=Array(k[p]));var q=n.bridgeObject(f);q.x=n.convert(f.x,"Date");q.end=n.convert(f.end,"Date");q.orginalY=f.y;q.y=Number(f.y);q[g]=f[g];f=c[p].length-k[p]--;c[p][f]=q}for(p in this.groups)this.groups.hasOwnProperty(p)&&(c.hasOwnProperty(p)||(c[p]=[]));for(p in c)c.hasOwnProperty(p)&&(0==c[p].length?this.groups.hasOwnProperty(p)&&
this._removeGroup(p):(l=void 0,void 0!=this.groupsData&&(l=this.groupsData.get(p)),void 0==l&&(l={id:p,content:this.options.defaultGroup+p}),this._updateGroup(l,p),this.groups[p].setItems(c[p])));this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})}};b.prototype.redraw=function(){var a=!1;this.props.width=this.dom.frame.offsetWidth;this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom;var a=this._isResized()||a,
b=this.body.range.end-this.body.range.start,c=b!=this.lastVisibleInterval;(this.lastVisibleInterval=b,1==a&&(this.svg.style.width=n.option.asSize(3*this.props.width),this.svg.style.left=n.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=
!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==a||1==c||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)?(a=this._updateGraph()||a,this.forceGraphUpdate=!1):0!=this.lastStart&&(b=this.body.range.start-this.lastStart,c=this.body.range.end-this.body.range.start,0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/c*b+"px"));return this.legendLeft.redraw(),this.legendRight.redraw(),a};b.prototype._getSortedGroupIds=function(){var a=[],b;
for(b in this.groups)if(this.groups.hasOwnProperty(b)){var c=this.groups[b];1!=c.visible||void 0!==this.options.groups.visibility[b]&&1!=this.options.groups.visibility[b]||a.push({id:b,zIndex:c.options.zIndex})}n.insertSort(a,function(a,b){var c=a.zIndex,d=b.zIndex;return void 0===c&&(c=0),void 0===d&&(d=0),c==d?0:c<d?-1:1});b=Array(a.length);for(c=0;c<a.length;c++)b[c]=a[c].id;return b};b.prototype._updateGraph=function(){if(a.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var b,
c,d={};c=this.body.util.toGlobalTime(-this.body.domProps.root.width);var g=this.body.util.toGlobalTime(2*this.body.domProps.root.width),e=this._getSortedGroupIds();if(0<e.length){var k={};this._getRelevantData(e,k,c,g);this._applySampling(e,k);for(c=0;c<e.length;c++)this._convertXcoordinates(k[e[c]]);if(this._getYRanges(e,k,d),1==this._updateYAxis(e,d))return a.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;d=void 0;for(c=0;c<e.length;c++)b=this.groups[e[c]],
!0===this.options.stack&&"line"===this.options.style&&(void 0!=b.options.excludeFromStacking&&b.options.excludeFromStacking||(void 0!=d&&(this._stack(k[b.id],k[d.id]),1==b.options.shaded.enabled&&"group"!==b.options.shaded.orientation&&("top"==b.options.shaded.orientation&&"group"!==d.options.shaded.orientation?(d.options.shaded.orientation="group",d.options.shaded.groupId=b.id):(b.options.shaded.orientation="group",b.options.shaded.groupId=d.id))),d=b)),this._convertYcoordinates(k[e[c]],b);d={};
for(c=0;c<e.length;c++)if(b=this.groups[e[c]],"line"===b.options.style&&1==b.options.shaded.enabled)g=k[e[c]],null!=g&&0!=g.length&&((d.hasOwnProperty(e[c])||(d[e[c]]=l.calcPath(g,b)),"group"===b.options.shaded.orientation)?(g=b.options.shaded.groupId,-1===e.indexOf(g)?console.log(b.id+": Unknown shading group target given:"+g):(d.hasOwnProperty(g)||(d[g]=l.calcPath(k[g],this.groups[g])),l.drawShading(d[e[c]],b,d[g],this.framework))):l.drawShading(d[e[c]],b,void 0,this.framework));p.draw(e,k,this.framework);
for(c=0;c<e.length;c++)if(b=this.groups[e[c]],0<k[e[c]].length)switch(b.options.style){case "line":d.hasOwnProperty(e[c])||(d[e[c]]=l.calcPath(k[e[c]],b)),l.draw(d[e[c]],b,this.framework);case "point":case "points":"point"!=b.options.style&&"points"!=b.options.style&&1!=b.options.drawPoints.enabled||r.draw(k[e[c]],b,this.framework)}}}return a.cleanupElements(this.svgElements),!1};b.prototype._stack=function(a,b){for(var c,d,g,e,k,l=c=0;l<a.length;l++){k=e=void 0;for(d=c;d<b.length;d++){if(b[d].x===
a[l].x){e=b[d];k=b[d];c=d;break}if(b[d].x>a[l].x){k=b[d];e=0==d?k:b[d-1];c=d;break}}void 0===k&&(e=b[b.length-1],k=b[b.length-1]);d=k.x-e.x;g=k.y-e.y;a[l].y=0==d?a[l].orginalY+k.y:a[l].orginalY+g/d*(a[l].x-e.x)+e.y}};b.prototype._getRelevantData=function(a,b,c,d){var g,e,k,l;if(0<a.length)for(e=0;e<a.length;e++)if(g=this.groups[a[e]],k=g.getItems(),1==g.options.sort){var f=function(a,b){return a.getTime()==b.getTime()?0:a<b?-1:1},p=Math.max(0,n.binarySearchValue(k,c,"x","before",f)),f=Math.min(k.length,
n.binarySearchValue(k,d,"x","after",f)+1);0>=f&&(f=k.length);var m=Array(f-p);for(k=p;k<f;k++)l=g.itemsData[k],m[k-p]=l;b[a[e]]=m}else b[a[e]]=g.itemsData};b.prototype._applySampling=function(a,b){var c;if(0<a.length)for(var d=0;d<a.length;d++)if(c=this.groups[a[d]],1==c.options.sampling){var g=b[a[d]];if(0<g.length){var e,k=g.length;e=this.body.util.toGlobalScreen(g[g.length-1].x)-this.body.util.toGlobalScreen(g[0].x);e=Math.min(Math.ceil(.2*k),Math.max(1,Math.round(k/e)));for(var l=Array(k),f=0;f<
k;f+=e)l[Math.round(f/e)]=g[f];b[a[d]]=l.splice(0,Math.round(k/e))}}};b.prototype._getYRanges=function(a,b,c){var d,g,e,k,l=[],f=[];if(0<a.length){for(e=0;e<a.length;e++)d=b[a[e]],k=this.groups[a[e]].options,0<d.length&&(g=this.groups[a[e]],!0===k.stack&&"bar"===k.style?"left"===k.yAxisOrientation?l=l.concat(d):f=f.concat(d):c[a[e]]=g.getYRange(d,a[e]));p.getStackedYRange(l,c,a,"__barStackLeft","left");p.getStackedYRange(f,c,a,"__barStackRight","right")}};b.prototype._updateYAxis=function(a,b){var c,
d,g=!1,e=!1,k=!1,l=1E9,f=1E9,p=-1E9,m=-1E9;if(0<a.length){for(var q=0;q<a.length;q++){var r=this.groups[a[q]];r&&"right"!=r.options.yAxisOrientation?(e=!0,l=1E9,p=-1E9):r&&r.options.yAxisOrientation&&(k=!0,f=1E9,m=-1E9)}for(q=0;q<a.length;q++)b.hasOwnProperty(a[q])&&!0!==b[a[q]].ignore&&(c=b[a[q]].min,d=b[a[q]].max,"right"!=b[a[q]].yAxisOrientation?(e=!0,l=l>c?c:l,p=p<d?d:p):(k=!0,f=f>c?c:f,m=m<d?d:m));1==e&&this.yAxisLeft.setRange(l,p);1==k&&this.yAxisRight.setRange(f,m)}g=this._toggleAxisVisiblity(e,
this.yAxisLeft)||g;g=this._toggleAxisVisiblity(k,this.yAxisRight)||g;1==k&&1==e?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1);this.yAxisRight.master=!e;this.yAxisRight.masterAxis=this.yAxisLeft;0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==k?this.yAxisRight.width:0,g=this.yAxisLeft.redraw()||g,g=this.yAxisRight.redraw()||g):g=this.yAxisRight.redraw()||g;c=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];
for(q=0;q<c.length;q++)-1!=a.indexOf(c[q])&&a.splice(a.indexOf(c[q]),1);return g};b.prototype._toggleAxisVisiblity=function(a,b){var c=!1;return 0==a?b.dom.frame.parentNode&&0==b.hidden&&(b.hide(),c=!0):b.dom.frame.parentNode||1!=b.hidden||(b.show(),c=!0),c};b.prototype._convertXcoordinates=function(a){for(var b=this.body.util.toScreen,c=0;c<a.length;c++)a[c].screen_x=b(a[c].x)+this.props.width,a[c].screen_y=a[c].y,void 0!=a[c].end?a[c].screen_end=b(a[c].end)+this.props.width:a[c].screen_end=void 0};
b.prototype._convertYcoordinates=function(a,b){var c=this.yAxisLeft,d=Number(this.svg.style.height.replace("px",""));"right"==b.options.yAxisOrientation&&(c=this.yAxisRight);for(var g=0;g<a.length;g++)a[g].screen_y=Math.round(c.convertValue(a[g].y));b.setZeroPosition(Math.min(d,c.convertValue(0)))};f.exports=b},function(f,h,d){function b(a,b,c,d){this.id=n.randomUUID();this.body=a;this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,
labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}}};this.linegraphOptions=d;this.linegraphSVG=c;this.props={};this.DOMelements={lines:{},labels:{},title:{}};this.dom={};this.scale=void 0;this.range={start:0,end:0};
this.options=n.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(b);this.minWidth=this.width=Number((""+this.options.width).replace("px",""));this.height=this.linegraphSVG.getBoundingClientRect().height;this.hidden=!1;this.stepPixels=25;this.amountOfSteps=this.zeroCrossing=-1;this.lineOffset=0;this.master=!0;this.masterAxis=null;this.svgElements={};this.iconsRemoved=!1;this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,
options:this.options,groups:this.groups};var e=this;this.body.emitter.on("verticalDrag",function(){e.dom.lineContainer.style.top=e.body.domProps.scrollTop+"px"})}var c=(h=d(58))&&h.__esModule?h:{"default":h},n=d(1),a=d(88);h=d(121);var e=d(152);b.prototype=new h;b.prototype.addGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.groups[a]=b);this.amountOfGroups+=1};b.prototype.updateGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.amountOfGroups+=1);this.groups[a]=b};b.prototype.removeGroup=
function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],--this.amountOfGroups)};b.prototype.setOptions=function(a){if(a){var b=!1;this.options.orientation!=a.orientation&&void 0!==a.orientation&&(b=!0);n.selectiveDeepExtend("orientation showMinorLabels showMajorLabels icons majorLinesOffset minorLinesOffset labelOffsetX labelOffsetY iconWidth width visible left right alignZeros".split(" "),this.options,a);this.minWidth=Number((""+this.options.width).replace("px",""));!0===b&&this.dom.frame&&
(this.hide(),this.show())}};b.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.dom.lineContainer.style.position="relative";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top=
"0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};b.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);var b,d=this.options.iconWidth,e=11.5;b="left"===this.options.orientation?4:this.width-d-4;var k=(0,c["default"])(this.groups);k.sort(function(a,b){return a<b?-1:1});for(var f=0;f<k.length;f++){var l=k[f];!0!==this.groups[l].visible||void 0!==this.linegraphOptions.visibility[l]&&!0!==this.linegraphOptions.visibility[l]||
(this.groups[l].getLegend(d,15,this.framework,b,e),e+=19)}a.cleanupElements(this.svgElements);this.iconsRemoved=!1};b.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(a.prepareElements(this.svgElements),a.cleanupElements(this.svgElements),this.iconsRemoved=!0)};b.prototype.show=function(){this.hidden=!1;this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame));this.dom.lineContainer.parentNode||
this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)};b.prototype.hide=function(){this.hidden=!0;this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)};b.prototype.setRange=function(a,b){this.range.start=a;this.range.end=b};b.prototype.redraw=function(){var a=!1,b=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var c in this.groups)this.groups.hasOwnProperty(c)&&
(!0!==this.groups[c].visible||void 0!==this.linegraphOptions.visibility[c]&&!0!==this.linegraphOptions.visibility[c]||b++);if(0===this.amountOfGroups||0===b)this.hide();else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;a=this.props;c=this.dom.frame;c.className="vis-data-axis";this._calculateCharSize();var b=this.options.orientation,
d=this.options.showMajorLabels;a.minorLabelHeight=this.options.showMinorLabels?a.minorCharHeight:0;a.majorLabelHeight=d?a.majorCharHeight:0;a.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;a.minorLineHeight=1;a.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;a.majorLineHeight=1;"left"===b?(c.style.top="0",c.style.left="0",c.style.bottom="",c.style.width=
this.width+"px",c.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(c.style.top="",c.style.bottom="0",c.style.left="0",c.style.width=this.width+"px",c.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height);a=this._redrawLabels();a=this._isResized()||a;!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons();this._redrawTitle(b)}return a};
b.prototype._redrawLabels=function(){var b=this,c=!1;a.prepareElements(this.DOMelements.lines);a.prepareElements(this.DOMelements.labels);var d=this.options.orientation,k=void 0!=this.options[d].range?this.options[d].range:{},f=!0;void 0!=k.max&&(this.range.end=k.max,f=!1);var l=!0;void 0!=k.min&&(this.range.start=k.min,l=!1);this.scale=new e(this.range.start,this.range.end,l,f,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[d].format);!1===this.master&&
void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale);this.maxLabelSize=0;this.scale.getLines().forEach(function(a){var c=a.y,g=a.major;b.options.showMinorLabels&&!1===g&&b._redrawLabel(c-2,a.val,d,"vis-y-axis vis-minor",b.props.minorCharHeight);g&&0<=c&&b._redrawLabel(c-2,a.val,d,"vis-y-axis vis-major",b.props.majorCharHeight);!0===b.master&&(g?b._redrawLine(c,d,"vis-grid vis-horizontal vis-major",b.options.majorLinesOffset,b.props.majorLineWidth):b._redrawLine(c,d,"vis-grid vis-horizontal vis-minor",
b.options.minorLinesOffset,b.props.minorLineWidth))});k=0;void 0!==this.options[d].title&&void 0!==this.options[d].title.text&&(k=this.props.titleCharHeight);k=!0===this.options.icons?Math.max(this.options.iconWidth,k)+this.options.labelOffsetX+15:k+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-k&&!0===this.options.visible?(this.width=this.maxLabelSize+k,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),
c=!0):this.maxLabelSize<this.width-k&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+k),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),c=!0):(a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),c=!1),c};b.prototype.convertValue=function(a){return this.scale.convertValue(a)};b.prototype.screenToValue=function(a){return this.scale.screenToValue(a)};
b.prototype._redrawLabel=function(b,c,d,e,f){var l=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);l.className=e;l.innerHTML=c;"left"===d?(l.style.left="-"+this.options.labelOffsetX+"px",l.style.textAlign="right"):(l.style.right="-"+this.options.labelOffsetX+"px",l.style.textAlign="left");l.style.top=b-.5*f+this.options.labelOffsetY+"px";c+="";b=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<c.length*b&&(this.maxLabelSize=c.length*b)};b.prototype._redrawLine=
function(b,c,d,e,f){if(!0===this.master){var l=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);l.className=d;l.innerHTML="";"left"===c?l.style.left=this.width-e+"px":l.style.right=this.width-e+"px";l.style.width=f+"px";l.style.top=b+"px"}};b.prototype._redrawTitle=function(b){if(a.prepareElements(this.DOMelements.title),void 0!==this.options[b].title&&void 0!==this.options[b].title.text){var c=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);c.className="vis-y-axis vis-title vis-"+
b;c.innerHTML=this.options[b].title.text;void 0!==this.options[b].title.style&&n.addCssText(c,this.options[b].title.style);"left"===b?c.style.left=this.props.titleCharHeight+"px":c.style.right=this.props.titleCharHeight+"px";c.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)};b.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var a=document.createTextNode("0"),b=document.createElement("div");b.className="vis-y-axis vis-minor vis-measure";b.appendChild(a);
this.dom.frame.appendChild(b);this.props.minorCharHeight=b.clientHeight;this.props.minorCharWidth=b.clientWidth;this.dom.frame.removeChild(b)}"majorCharHeight"in this.props||(a=document.createTextNode("0"),b=document.createElement("div"),b.className="vis-y-axis vis-major vis-measure",b.appendChild(a),this.dom.frame.appendChild(b),this.props.majorCharHeight=b.clientHeight,this.props.majorCharWidth=b.clientWidth,this.dom.frame.removeChild(b));"titleCharHeight"in this.props||(a=document.createTextNode("0"),
b=document.createElement("div"),b.className="vis-y-axis vis-title vis-measure",b.appendChild(a),this.dom.frame.appendChild(b),this.props.titleCharHeight=b.clientHeight,this.props.titleCharWidth=b.clientWidth,this.dom.frame.removeChild(b))};f.exports=b},function(f,h){function d(b,c,d,a,e,f){var g=6<arguments.length&&void 0!==arguments[6]&&arguments[6],m=7<arguments.length&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=
e,this.majorCharHeight=f,this._start=b,this._end=c,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=g,this.autoScaleStart=d,this.autoScaleEnd=a,this.formattingFunction=m,d||a){var k=this,g=function(a){var b=a-a%(k.magnitudefactor*k.minorSteps[k.minorStepIdx]);return a%(k.magnitudefactor*k.minorSteps[k.minorStepIdx])>k.magnitudefactor*k.minorSteps[k.minorStepIdx]*.5?b+k.magnitudefactor*k.minorSteps[k.minorStepIdx]:b};d&&(this._start-=2*this.magnitudefactor*
this.minorSteps[this.minorStepIdx],this._start=g(this._start));a&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=g(this._end));this.determineScale()}}d.prototype.setCharHeight=function(b){this.majorCharHeight=b};d.prototype.setHeight=function(b){this.containerHeight=b};d.prototype.determineScale=function(){var b=this._end-this._start;this.scale=this.containerHeight/b;var c=this.majorCharHeight/this.scale,b=0<b?Math.round(Math.log(b)/Math.LN10):0;this.minorStepIdx=-1;
this.magnitudefactor=Math.pow(10,b);var d=0;0>b&&(d=b);for(var a=!1;Math.abs(d)<=Math.abs(b);d++){this.magnitudefactor=Math.pow(10,d);for(var e=0;e<this.minorSteps.length;e++)if(this.magnitudefactor*this.minorSteps[e]>=c){a=!0;this.minorStepIdx=e;break}if(!0===a)break}};d.prototype.is_major=function(b){return 0==b%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])};d.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]};d.prototype.getFirstMajor=function(){var b=
this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(b-this._start%b)%b)};d.prototype.formatValue=function(b){var c=b.toPrecision(5);return"function"==typeof this.formattingFunction&&(c=this.formattingFunction(b)),"number"==typeof c?""+c:"string"==typeof c?c:b.toPrecision(5)};d.prototype.getLines=function(){for(var b=[],c=this.getStep(),d=this._start+(c-this._start%c)%c;1E-5<this._end-d;d+=c)d!=this._start&&b.push({major:this.is_major(d),y:this.convertValue(d),
val:this.formatValue(d)});return b};d.prototype.followScale=function(b){var c=this.minorStepIdx,d=this._start,a=this._end;1>=b.minorStepIdx&&1>=this.minorStepIdx||1<b.minorStepIdx&&1<this.minorStepIdx||(b.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2!=c&&(this.magnitudefactor*=2),this.magnitudefactor*=2):(this.minorStepIdx=2,1!=c&&(this.magnitudefactor/=2),this.magnitudefactor/=2));for(var c=(b.getLines(),b.convertValue(0)),e=b.getStep()*b.scale,f=!1,g=0;!f&&5>g++;){this.scale=e/(this.minorSteps[this.minorStepIdx]*
this.magnitudefactor);f=this.containerHeight/this.scale;this._start=d;this._end=this._start+f;var m=this._end*this.scale,k=this.magnitudefactor*this.majorSteps[this.minorStepIdx],p=this.getFirstMajor()-b.getFirstMajor();this.zeroAlign?(this._end+=(c-m)/this.scale,this._start=this._end-f):this.autoScaleStart?(this._start-=p/this.scale,this._end=this._start+f):(this._start+=k-p/this.scale,this._end=this._start+f);if(!this.autoScaleEnd&&this._end>a+1E-5)this.magnitudefactor/=2,f=!1;else{if(!this.autoScaleStart&&
this._start<d-1E-5){if(!(this.zeroAlign&&0<=d)){this.magnitudefactor/=2;f=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&f<a-d?(this.magnitudefactor*=2,f=!1):f=!0}}};d.prototype.convertValue=function(b){return this.containerHeight-(b-this._start)*this.scale};d.prototype.screenToValue=function(b){return(this.containerHeight-b)/this.scale+this._start};f.exports=d},function(f,h,d){function b(a,b,c,d){this.id=b;this.options=n.selectiveBridgeObject("sampling style sort yAxisOrientation barChart drawPoints shaded interpolation zIndex excludeFromStacking excludeFromLegend".split(" "),
c);this.usingDefaultStyle=void 0===a.className;this.groupsUsingDefaultStyles=d;this.zeroPosition=0;this.update(a);1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1);this.itemsData=[];this.visible=void 0===a.visible||a.visible}var c=(h=d(62))&&h.__esModule?h:{"default":h},n=d(1),a=(d(88),d(154)),e=d(156),q=d(155);b.prototype.setItems=function(a){null!=a?(this.itemsData=a,1==this.options.sort&&n.insertSort(this.itemsData,function(a,b){return a.x>b.x?1:-1})):this.itemsData=[]};b.prototype.getItems=
function(){return this.itemsData};b.prototype.setZeroPosition=function(a){this.zeroPosition=a};b.prototype.setOptions=function(a){void 0!==a&&(n.selectiveDeepExtend("sampling style sort yAxisOrientation barChart zIndex excludeFromStacking excludeFromLegend".split(" "),this.options,a),"function"==typeof a.drawPoints&&(a.drawPoints={onRender:a.drawPoints}),n.mergeOptions(this.options,a,"interpolation"),n.mergeOptions(this.options,a,"drawPoints"),n.mergeOptions(this.options,a,"shaded"),a.interpolation&&
"object"==(0,c["default"])(a.interpolation)&&a.interpolation.parametrization&&("uniform"==a.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==a.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))};b.prototype.update=function(a){this.group=a;this.content=a.content||"graph";this.className=a.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%
10;this.visible=void 0===a.visible||a.visible;this.style=a.style;this.setOptions(a.options)};b.prototype.getLegend=function(b,c,d,f,l){if(void 0==d||null==d)d={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]};switch(void 0!=f&&null!=f||(f=0),void 0!=l&&null!=l||(l=.5*c),this.options.style){case "line":e.drawIcon(this,f,l,b,c,d);break;case "points":case "point":q.drawIcon(this,f,l,b,c,d);break;case "bar":a.drawIcon(this,f,l,b,c,d)}return{icon:d.svg,
label:this.content,orientation:this.options.yAxisOrientation}};b.prototype.getYRange=function(a){for(var b=a[0].y,c=a[0].y,d=0;d<a.length;d++)b=b>a[d].y?a[d].y:b,c=c<a[d].y?a[d].y:c;return{min:b,max:c,yAxisOrientation:this.options.yAxisOrientation}};f.exports=b},function(f,h,d){function b(a,b){}var c=d(88),n=d(155);b.drawIcon=function(a,b,d,g,f,k){var p=.5*f,l=c.getSVGElement("rect",k.svgElements,k.svg);l.setAttributeNS(null,"x",b);l.setAttributeNS(null,"y",d-p);l.setAttributeNS(null,"width",g);l.setAttributeNS(null,
"height",2*p);l.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*g),r=a.options.barChart.width/l,h=Math.round(.4*f);f=Math.round(.75*f);g=Math.round((g-2*l)/3);if(c.drawBar(b+.5*l+g,d+p-h-1,l,h,a.className+" vis-bar",k.svgElements,k.svg,a.style),c.drawBar(b+1.5*l+g+2,d+p-f-1,l,f,a.className+" vis-bar",k.svgElements,k.svg,a.style),1==a.options.drawPoints.enabled)a={style:a.options.drawPoints.style,styles:a.options.drawPoints.styles,size:a.options.drawPoints.size/r,className:a.className},
c.drawPoint(b+.5*l+g,d+p-h-1,a,k.svgElements,k.svg),c.drawPoint(b+1.5*l+g+2,d+p-f-1,a,k.svgElements,k.svg)};b.draw=function(a,d,f){var g,m,k,p,l=[],r={},h=0;for(p=0;p<a.length;p++)if(k=f.groups[a[p]],"bar"===k.options.style&&!0===k.visible&&(void 0===f.options.groups.visibility[a[p]]||!0===f.options.groups.visibility[a[p]]))for(m=0;m<d[a[p]].length;m++)l.push({screen_x:d[a[p]][m].screen_x,screen_end:d[a[p]][m].screen_end,screen_y:d[a[p]][m].screen_y,x:d[a[p]][m].x,end:d[a[p]][m].end,y:d[a[p]][m].y,
groupId:a[p],label:d[a[p]][m].label}),h+=1;if(0!==h)for(l.sort(function(a,b){return a.screen_x===b.screen_x?a.groupId<b.groupId?-1:1:a.screen_x-b.screen_x}),b._getDataIntersections(r,l),p=0;p<l.length;p++)k=f.groups[l[p].groupId],m=void 0!=k.options.barChart.minWidth?k.options.barChart.minWidth:.1*k.options.barChart.width,d=l[p].screen_x,a=0,void 0===r[d]?(p+1<l.length&&(g=Math.abs(l[p+1].screen_x-d)),m=b._getSafeDrawData(g,k,m)):(h=p+(r[d].amount-r[d].resolved),r[d].resolved,h<l.length&&(g=Math.abs(l[h].screen_x-
d)),m=b._getSafeDrawData(g,k,m),r[d].resolved+=1,!0===k.options.stack&&!0!==k.options.excludeFromStacking?l[p].screen_y<k.zeroPosition?(a=r[d].accumulatedNegative,r[d].accumulatedNegative+=k.zeroPosition-l[p].screen_y):(a=r[d].accumulatedPositive,r[d].accumulatedPositive+=k.zeroPosition-l[p].screen_y):!0===k.options.barChart.sideBySide&&(m.width/=r[d].amount,m.offset+=r[d].resolved*m.width-.5*m.width*(r[d].amount+1))),d=m.width,h=l[p].screen_x,(void 0!=l[p].screen_end?(d=l[p].screen_end-l[p].screen_x,
h+=.5*d):h+=m.offset,c.drawBar(h,l[p].screen_y-a,d,k.zeroPosition-l[p].screen_y,k.className+" vis-bar",f.svgElements,f.svg,k.style),!0===k.options.drawPoints.enabled)&&n.draw([{screen_x:l[p].screen_x,screen_y:l[p].screen_y-a,x:l[p].x,y:l[p].y,groupId:l[p].groupId,label:l[p].label}],k,f,m.offset)};b._getDataIntersections=function(a,b){for(var c,d=0;d<b.length;d++)d+1<b.length&&(c=Math.abs(b[d+1].screen_x-b[d].screen_x)),0<d&&(c=Math.min(c,Math.abs(b[d-1].screen_x-b[d].screen_x))),0===c&&(void 0===
a[b[d].screen_x]&&(a[b[d].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),a[b[d].screen_x].amount+=1)};b._getSafeDrawData=function(a,b,c){var d,f;return a<b.options.barChart.width&&0<a?(d=a<c?c:a,f=0,"left"===b.options.barChart.align?f-=.5*a:"right"===b.options.barChart.align&&(f+=.5*a)):(d=b.options.barChart.width,f=0,"left"===b.options.barChart.align?f-=.5*b.options.barChart.width:"right"===b.options.barChart.align&&(f+=.5*b.options.barChart.width)),{width:d,offset:f}};
b.getStackedYRange=function(a,c,d,g,f){if(0<a.length){a.sort(function(a,b){return a.screen_x===b.screen_x?a.groupId<b.groupId?-1:1:a.screen_x-b.screen_x});var k={};b._getDataIntersections(k,a);c[g]=b._getStackedYRange(k,a);c[g].yAxisOrientation=f;d.push(g)}};b._getStackedYRange=function(a,b){for(var c,d=b[0].screen_y,f=b[0].screen_y,k=0;k<b.length;k++)c=b[k].screen_x,void 0===a[c]?(d=d>b[k].screen_y?b[k].screen_y:d,f=f<b[k].screen_y?b[k].screen_y:f):0>b[k].screen_y?a[c].accumulatedNegative+=b[k].screen_y:
a[c].accumulatedPositive+=b[k].screen_y;for(var p in a)a.hasOwnProperty(p)&&(d=d>a[p].accumulatedNegative?a[p].accumulatedNegative:d,d=d>a[p].accumulatedPositive?a[p].accumulatedPositive:d,f=f<a[p].accumulatedNegative?a[p].accumulatedNegative:f,f=f<a[p].accumulatedPositive?a[p].accumulatedPositive:f);return{min:d,max:f}};f.exports=b},function(f,h,d){function b(a,b){}function c(a,b){return b=void 0===b?{}:b,{style:b.style||a.options.drawPoints.style,styles:b.styles||a.options.drawPoints.styles,size:b.size||
a.options.drawPoints.size,className:b.className||a.className}}var n=(h=d(62))&&h.__esModule?h:{"default":h},a=d(88);b.draw=function(b,d,g,f){f=f||0;var k,p=void 0;k=(g.options&&g.options.drawPoints&&g.options.drawPoints.onRender&&"function"==typeof g.options.drawPoints.onRender&&(p=g.options.drawPoints.onRender),d.group.options&&d.group.options.drawPoints&&d.group.options.drawPoints.onRender&&"function"==typeof d.group.options.drawPoints.onRender&&(p=d.group.options.drawPoints.onRender),p);for(p=
0;p<b.length;p++)if(k){var l=k(b[p],d);!0!==l&&"object"!==(void 0===l?"undefined":(0,n["default"])(l))||a.drawPoint(b[p].screen_x+f,b[p].screen_y,c(d,l),g.svgElements,g.svg,b[p].label)}else a.drawPoint(b[p].screen_x+f,b[p].screen_y,c(d),g.svgElements,g.svg,b[p].label)};b.drawIcon=function(b,d,g,f,k,p){k*=.5;var l=a.getSVGElement("rect",p.svgElements,p.svg);l.setAttributeNS(null,"x",d);l.setAttributeNS(null,"y",g-k);l.setAttributeNS(null,"width",f);l.setAttributeNS(null,"height",2*k);l.setAttributeNS(null,
"class","vis-outline");a.drawPoint(d+.5*f,g,c(b),p.svgElements,p.svg)};f.exports=b},function(f,h,d){function b(b,a){}var c=d(88);b.calcPath=function(c,a){if(null!=c&&0<c.length)return 1==a.options.interpolation.enabled?b._catmullRom(c,a):b._linear(c)};b.drawIcon=function(b,a,d,f,g,m){var k,p;g*=.5;var l=c.getSVGElement("rect",m.svgElements,m.svg);(l.setAttributeNS(null,"x",a),l.setAttributeNS(null,"y",d-g),l.setAttributeNS(null,"width",f),l.setAttributeNS(null,"height",2*g),l.setAttributeNS(null,
"class","vis-outline"),k=c.getSVGElement("path",m.svgElements,m.svg),k.setAttributeNS(null,"class",b.className),void 0!==b.style&&k.setAttributeNS(null,"style",b.style),k.setAttributeNS(null,"d","M"+a+","+d+" L"+(a+f)+","+d),1==b.options.shaded.enabled&&(p=c.getSVGElement("path",m.svgElements,m.svg),"top"==b.options.shaded.orientation?p.setAttributeNS(null,"d","M"+a+", "+(d-g)+"L"+a+","+d+" L"+(a+f)+","+d+" L"+(a+f)+","+(d-g)):p.setAttributeNS(null,"d","M"+a+","+d+" L"+a+","+(d+g)+" L"+(a+f)+","+
(d+g)+"L"+(a+f)+","+d),p.setAttributeNS(null,"class",b.className+" vis-icon-fill"),void 0!==b.options.shaded.style&&""!==b.options.shaded.style&&p.setAttributeNS(null,"style",b.options.shaded.style)),1==b.options.drawPoints.enabled)&&c.drawPoint(a+.5*f,d,{style:b.options.drawPoints.style,styles:b.options.drawPoints.styles,size:b.options.drawPoints.size,className:b.className},m.svgElements,m.svg)};b.drawShading=function(b,a,d,f){if(1==a.options.shaded.enabled){var g=Number(f.svg.style.height.replace("px",
""));f=c.getSVGElement("path",f.svgElements,f.svg);var m="L";1==a.options.interpolation.enabled&&(m="C");g="top"==a.options.shaded.orientation?0:"bottom"==a.options.shaded.orientation?g:Math.min(Math.max(0,a.zeroPosition),g);b="group"==a.options.shaded.orientation&&null!=d&&void 0!=d?"M"+b[0][0]+","+b[0][1]+" "+this.serializePath(b,m,!1)+" L"+d[d.length-1][0]+","+d[d.length-1][1]+" "+this.serializePath(d,m,!0)+d[0][0]+","+d[0][1]+" Z":"M"+b[0][0]+","+b[0][1]+" "+this.serializePath(b,m,!1)+" V"+g+
" H"+b[0][0]+" Z";f.setAttributeNS(null,"class",a.className+" vis-fill");void 0!==a.options.shaded.style&&f.setAttributeNS(null,"style",a.options.shaded.style);f.setAttributeNS(null,"d",b)}};b.draw=function(b,a,d){if(null!=b&&void 0!=b){d=c.getSVGElement("path",d.svgElements,d.svg);d.setAttributeNS(null,"class",a.className);void 0!==a.style&&d.setAttributeNS(null,"style",a.style);var f="L";1==a.options.interpolation.enabled&&(f="C");d.setAttributeNS(null,"d","M"+b[0][0]+","+b[0][1]+" "+this.serializePath(b,
f,!1))}};b.serializePath=function(b,a,c){if(2>b.length)return"";if(c)for(c=b.length-2;0<c;c--)a+=b[c][0]+","+b[c][1]+" ";else for(c=1;c<b.length;c++)a+=b[c][0]+","+b[c][1]+" ";return a};b._catmullRomUniform=function(b){var a,c,d,g,f,k,p=[];p.push([Math.round(b[0].screen_x),Math.round(b[0].screen_y)]);for(var l=b.length,r=0;r<l-1;r++)a=0==r?b[0]:b[r-1],c=b[r],f=b[r+1],k=r+2<l?b[r+2]:f,d=1/6*(-a.screen_x+6*c.screen_x+f.screen_x),g=1/6*(-a.screen_y+6*c.screen_y+f.screen_y),a=1/6*(c.screen_x+6*f.screen_x-
k.screen_x),c=1/6*(c.screen_y+6*f.screen_y-k.screen_y),p.push([d,g]),p.push([a,c]),p.push([f.screen_x,f.screen_y]);return p};b._catmullRom=function(b,a){var c=a.options.interpolation.alpha;if(0==c||void 0===c)return this._catmullRomUniform(b);var d,g,f,k,p,l,r,h,u,v,C,A,D=[];D.push([Math.round(b[0].screen_x),Math.round(b[0].screen_y)]);for(var y=b.length,w=0;w<y-1;w++)d=0==w?b[0]:b[w-1],g=b[w],f=b[w+1],k=w+2<y?b[w+2]:f,p=Math.sqrt(Math.pow(d.screen_x-g.screen_x,2)+Math.pow(d.screen_y-g.screen_y,2)),
l=Math.sqrt(Math.pow(g.screen_x-f.screen_x,2)+Math.pow(g.screen_y-f.screen_y,2)),r=Math.sqrt(Math.pow(f.screen_x-k.screen_x,2)+Math.pow(f.screen_y-k.screen_y,2)),v=Math.pow(r,c),r=Math.pow(r,2*c),C=Math.pow(l,c),l=Math.pow(l,2*c),u=Math.pow(p,c),A=Math.pow(p,2*c),h=2*A+3*u*C+l,p=2*r+3*v*C+l,u=3*u*(u+C),0<u&&(u=1/u),v=3*v*(v+C),0<v&&(v=1/v),d={screen_x:(-l*d.screen_x+h*g.screen_x+A*f.screen_x)*u,screen_y:(-l*d.screen_y+h*g.screen_y+A*f.screen_y)*u},k={screen_x:(r*g.screen_x+p*f.screen_x-l*k.screen_x)*
v,screen_y:(r*g.screen_y+p*f.screen_y-l*k.screen_y)*v},0==d.screen_x&&0==d.screen_y&&(d=g),0==k.screen_x&&0==k.screen_y&&(k=f),D.push([d.screen_x,d.screen_y]),D.push([k.screen_x,k.screen_y]),D.push([f.screen_x,f.screen_y]);return D};b._linear=function(b){for(var a=[],c=0;c<b.length;c++)a.push([b[c].screen_x,b[c].screen_y]);return a};f.exports=b},function(f,h,d){function b(a,b,c,d){this.body=a;this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},
right:{visible:!0,position:"top-right"}};this.side=c;this.options=n.extend({},this.defaultOptions);this.linegraphOptions=d;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};this.setOptions(b)}var c=(h=d(58))&&h.__esModule?h:{"default":h},n=d(1),a=d(88);d=d(121);b.prototype=new d;b.prototype.clear=function(){this.groups={};this.amountOfGroups=0};b.prototype.addGroup=
function(a,b){1!=b.options.excludeFromLegend&&(this.groups.hasOwnProperty(a)||(this.groups[a]=b),this.amountOfGroups+=1)};b.prototype.updateGroup=function(a,b){this.groups[a]=b};b.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],--this.amountOfGroups)};b.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="vis-legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";this.dom.frame.style.display=
"block";this.dom.textArea=document.createElement("div");this.dom.textArea.className="vis-legend-text";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.width=this.options.iconSize+5+"px";this.svg.style.height="100%";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};b.prototype.hide=function(){this.dom.frame.parentNode&&
this.dom.frame.parentNode.removeChild(this.dom.frame)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};b.prototype.setOptions=function(a){n.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,a)};b.prototype.redraw=function(){var a=0,b=(0,c["default"])(this.groups);b.sort(function(a,b){return a<b?-1:1});for(var d=0;d<b.length;d++){var f=b[d];1!=this.groups[f].visible||void 0!==this.linegraphOptions.visibility[f]&&
1!=this.linegraphOptions.visibility[f]||a++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==a)this.hide();else{(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=
""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=
4+(this.body.domProps.center.height-this.body.domProps.centerContainer.height)+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top="");0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());a="";for(d=0;d<b.length;d++)f=b[d],1!=
this.groups[f].visible||void 0!==this.linegraphOptions.visibility[f]&&1!=this.linegraphOptions.visibility[f]||(a+=this.groups[f].content+"<br />");this.dom.textArea.innerHTML=a;this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};b.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var b=(0,c["default"])(this.groups);b.sort(function(a,b){return a<b?-1:1});a.resetElements(this.svgElements);var d=window.getComputedStyle(this.dom.frame).paddingTop,
d=Number(d.replace("px","")),g=this.options.iconSize,f=.75*this.options.iconSize,k=d+.5*f+3;this.svg.style.width=g+5+d+"px";for(var p=0;p<b.length;p++){var l=b[p];1!=this.groups[l].visible||void 0!==this.linegraphOptions.visibility[l]&&1!=this.linegraphOptions.visibility[l]||(this.groups[l].getLegend(g,f,this.framework,d,k),k+=f+this.options.iconSpacing)}}};f.exports=b},function(f,h){Object.defineProperty(h,"__esModule",{value:!0});h.allOptions={configure:{enabled:{"boolean":"boolean"},filter:{"boolean":"boolean",
"function":"function"},container:{dom:"dom"},__type__:{object:"object","boolean":"boolean","function":"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:"string"},sort:{"boolean":"boolean"},sampling:{"boolean":"boolean"},stack:{"boolean":"boolean"},graphHeight:{string:"string",number:"number"},shaded:{enabled:{"boolean":"boolean"},orientation:{string:["bottom","top","zero","group"]},groupId:{object:"object"},__type__:{"boolean":"boolean",object:"object"}},style:{string:["line",
"bar","points"]},barChart:{width:{number:"number"},minWidth:{number:"number"},sideBySide:{"boolean":"boolean"},align:{string:["left","center","right"]},__type__:{object:"object"}},interpolation:{enabled:{"boolean":"boolean"},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:"number"},__type__:{object:"object","boolean":"boolean"}},drawPoints:{enabled:{"boolean":"boolean"},onRender:{"function":"function"},size:{number:"number"},style:{string:["square","circle"]},__type__:{object:"object",
"boolean":"boolean","function":"function"}},dataAxis:{showMinorLabels:{"boolean":"boolean"},showMajorLabels:{"boolean":"boolean"},icons:{"boolean":"boolean"},width:{string:"string",number:"number"},visible:{"boolean":"boolean"},alignZeros:{"boolean":"boolean"},left:{range:{min:{number:"number",undefined:"undefined"},max:{number:"number",undefined:"undefined"},__type__:{object:"object"}},format:{"function":"function"},title:{text:{string:"string",number:"number",undefined:"undefined"},style:{string:"string",
undefined:"undefined"},__type__:{object:"object"}},__type__:{object:"object"}},right:{range:{min:{number:"number",undefined:"undefined"},max:{number:"number",undefined:"undefined"},__type__:{object:"object"}},format:{"function":"function"},title:{text:{string:"string",number:"number",undefined:"undefined"},style:{string:"string",undefined:"undefined"},__type__:{object:"object"}},__type__:{object:"object"}},__type__:{object:"object"}},legend:{enabled:{"boolean":"boolean"},icons:{"boolean":"boolean"},
left:{visible:{"boolean":"boolean"},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:"object"}},right:{visible:{"boolean":"boolean"},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:"object"}},__type__:{object:"object","boolean":"boolean"}},groups:{visibility:{any:"any"},__type__:{object:"object"}},autoResize:{"boolean":"boolean"},throttleRedraw:{number:"number"},clickToUse:{"boolean":"boolean"},end:{number:"number",date:"date",
string:"string",moment:"moment"},format:{minorLabels:{millisecond:{string:"string",undefined:"undefined"},second:{string:"string",undefined:"undefined"},minute:{string:"string",undefined:"undefined"},hour:{string:"string",undefined:"undefined"},weekday:{string:"string",undefined:"undefined"},day:{string:"string",undefined:"undefined"},month:{string:"string",undefined:"undefined"},year:{string:"string",undefined:"undefined"},__type__:{object:"object"}},majorLabels:{millisecond:{string:"string",undefined:"undefined"},
second:{string:"string",undefined:"undefined"},minute:{string:"string",undefined:"undefined"},hour:{string:"string",undefined:"undefined"},weekday:{string:"string",undefined:"undefined"},day:{string:"string",undefined:"undefined"},month:{string:"string",undefined:"undefined"},year:{string:"string",undefined:"undefined"},__type__:{object:"object"}},__type__:{object:"object"}},moment:{"function":"function"},height:{string:"string",number:"number"},hiddenDates:{start:{date:"date",number:"number",string:"string",
moment:"moment"},end:{date:"date",number:"number",string:"string",moment:"moment"},repeat:{string:"string"},__type__:{object:"object",array:"array"}},locale:{string:"string"},locales:{__any__:{any:"any"},__type__:{object:"object"}},max:{date:"date",number:"number",string:"string",moment:"moment"},maxHeight:{number:"number",string:"string"},maxMinorChars:{number:"number"},min:{date:"date",number:"number",string:"string",moment:"moment"},minHeight:{number:"number",string:"string"},moveable:{"boolean":"boolean"},
multiselect:{"boolean":"boolean"},orientation:{string:"string"},showCurrentTime:{"boolean":"boolean"},showMajorLabels:{"boolean":"boolean"},showMinorLabels:{"boolean":"boolean"},start:{date:"date",number:"number",string:"string",moment:"moment"},timeAxis:{scale:{string:"string",undefined:"undefined"},step:{number:"number",undefined:"undefined"},__type__:{object:"object"}},width:{string:"string",number:"number"},zoomable:{"boolean":"boolean"},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:"number"},
zoomMin:{number:"number"},zIndex:{number:"number"},__type__:{object:"object"}};h.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,
showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",
second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536E10,10,31536E10,1],zoomMin:[10,10,31536E10,1],zIndex:0}}},function(f,h,d){h.util=d(1);h.DOMutil=d(88);
h.DataSet=d(89);h.DataView=d(93);h.Queue=d(92);h.Network=d(160);h.network={Images:d(165),dotparser:d(162),gephiParser:d(163),allOptions:d(230)};h.network.convertDot=function(b){return h.network.dotparser.DOTToGraph(b)};h.network.convertGephi=function(b,c){return h.network.gephiParser.parseGephi(b,c)};h.moment=d(82);h.Hammer=d(113);h.keycharm=d(116)},function(f,h,d){function b(a,d,e){var f=this;if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this.options=
{};this.defaultOptions={locale:"en",locales:q,clickToUse:!1};c.extend(this.options,this.defaultOptions);this.body={container:a,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},
onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}};this.bindEventListeners();this.images=new g(function(){return f.body.emitter.emit("_requestRedraw")});this.groups=new m;this.canvas=new u(this.body);this.selectionHandler=new A(this.body,this.canvas);this.interactionHandler=new C(this.body,this.canvas,this.selectionHandler);this.view=new v(this.body,
this.canvas);this.renderer=new t(this.body,this.canvas);this.physics=new l(this.body);this.layoutEngine=new D(this.body);this.clustering=new r(this.body);this.manipulation=new y(this.body,this.canvas,this.selectionHandler);this.nodesHandler=new k(this.body,this.images,this.groups,this.layoutEngine);this.edgesHandler=new p(this.body,this.images,this.groups);this.body.modules.kamadaKawai=new P(this.body,150,.05);this.body.modules.clustering=this.clustering;this.canvas._create();this.setOptions(e);this.setData(d)}
d(161);h=d(99);var c=d(1),n=(d(89),d(93),d(162)),a=d(163),e=d(141),q=d(164),g=d(165)["default"],m=d(167)["default"],k=d(168)["default"],p=d(201)["default"],l=d(212)["default"],r=d(221)["default"],t=d(223)["default"],u=d(224)["default"],v=d(225)["default"],C=d(226)["default"],A=d(228)["default"],D=d(210)["default"],y=d(229)["default"],w=d(147)["default"],z=d(145)["default"],x=d(145).printStyle,B=d(230),F=B.allOptions,Q=B.configureOptions,P=d(231)["default"];h(b.prototype);b.prototype.setOptions=function(a){var b=
this;if(void 0!==a){!0===z.validate(a,F)&&console.log("%cErrors have been found in the supplied options object.",x);if(c.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,a),a=this.layoutEngine.setOptions(a.layout,a),this.canvas.setOptions(a),this.groups.setOptions(a.groups),this.nodesHandler.setOptions(a.nodes),this.edgesHandler.setOptions(a.edges),this.physics.setOptions(a.physics),this.manipulation.setOptions(a.manipulation,a,this.options),this.interactionHandler.setOptions(a.interaction),
this.renderer.setOptions(a.interaction),this.selectionHandler.setOptions(a.interaction),void 0!==a.groups&&this.body.emitter.emit("refreshNodes"),"configure"in a&&(this.configurator||(this.configurator=new w(this,this.body.container,Q,this.canvas.pixelRatio)),this.configurator.setOptions(a.configure)),this.configurator&&!0===this.configurator.options.enabled){var d={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};c.deepExtend(d.nodes,this.nodesHandler.options);c.deepExtend(d.edges,
this.edgesHandler.options);c.deepExtend(d.layout,this.layoutEngine.options);c.deepExtend(d.interaction,this.selectionHandler.options);c.deepExtend(d.interaction,this.renderer.options);c.deepExtend(d.interaction,this.interactionHandler.options);c.deepExtend(d.manipulation,this.manipulation.options);c.deepExtend(d.physics,this.physics.options);c.deepExtend(d.global,this.canvas.options);c.deepExtend(d.global,this.options);this.configurator.setModuleOptions(d)}void 0!==a.clickToUse?!0===a.clickToUse?
void 0===this.activator&&(this.activator=new e(this.canvas.frame),this.activator.on("change",function(){b.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate");this.canvas.setSize();this.body.emitter.emit("startSimulation")}};b.prototype._updateVisibleIndices=function(){var a=this.body.nodes,b=this.body.edges;this.body.nodeIndices=[];this.body.edgeIndices=[];for(var c in a)a.hasOwnProperty(c)&&
!1===a[c].options.hidden&&this.body.nodeIndices.push(a[c].id);for(var d in b)b.hasOwnProperty(d)&&!1===b[d].options.hidden&&this.body.edgeIndices.push(b[d].id)};b.prototype.bindEventListeners=function(){var a=this;this.body.emitter.on("_dataChanged",function(){a._updateVisibleIndices();a.body.emitter.emit("_requestRedraw");a.body.emitter.emit("_dataUpdated")});this.body.emitter.on("_dataUpdated",function(){a._updateValueRange(a.body.nodes);a._updateValueRange(a.body.edges);a.body.emitter.emit("startSimulation");
a.body.emitter.emit("_requestRedraw")})};b.prototype.setData=function(b){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),b&&b.dot&&(b.nodes||b.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(b&&b.options),b&&b.dot)return console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);"),
b=n.DOTToGraph(b.dot),void this.setData(b);if(b&&b.gephi)return console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);"),b=a.parseGephi(b.gephi),void this.setData(b);this.nodesHandler.setData(b&&b.nodes,!0);this.edgesHandler.setData(b&&b.edges,!0);this.body.emitter.emit("_dataChanged");
this.body.emitter.emit("_dataLoaded");this.body.emitter.emit("initPhysics")};b.prototype.destroy=function(){this.body.emitter.emit("destroy");this.body.emitter.off();this.off();delete this.groups;delete this.canvas;delete this.selectionHandler;delete this.interactionHandler;delete this.view;delete this.renderer;delete this.physics;delete this.layoutEngine;delete this.clustering;delete this.manipulation;delete this.nodesHandler;delete this.edgesHandler;delete this.configurator;delete this.images;for(var a in this.body.nodes)delete this.body.nodes[a];
for(var b in this.body.edges)delete this.body.edges[b];c.recursiveDOMDelete(this.body.container)};b.prototype._updateValueRange=function(a){var b,c=void 0,d=void 0,g=0;for(b in a)if(a.hasOwnProperty(b)){var e=a[b].getValue();void 0!==e&&(c=void 0===c?e:Math.min(e,c),d=void 0===d?e:Math.max(e,d),g+=e)}if(void 0!==c&&void 0!==d)for(b in a)a.hasOwnProperty(b)&&a[b].setValueRange(c,d,g)};b.prototype.isActive=function(){return!this.activator||this.activator.active};b.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,
arguments)};b.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};b.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};b.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};b.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};b.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};
b.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};b.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};b.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};b.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};b.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,
arguments)};b.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};b.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};b.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};b.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};b.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,
arguments)};b.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};b.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};b.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};b.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,
arguments)};b.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};b.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};b.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};b.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};b.prototype.getConnectedNodes=function(a){return void 0!==
this.body.nodes[a]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};b.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};b.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};b.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};b.prototype.stabilize=
function(){return this.physics.stabilize.apply(this.physics,arguments)};b.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};b.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};b.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)};b.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,
arguments)};b.prototype.getNodeAt=function(){var a=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==a&&void 0!==a.id?a.id:a};b.prototype.getEdgeAt=function(){var a=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==a&&void 0!==a.id?a.id:a};b.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};b.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,
arguments)};b.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments);this.redraw()};b.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};b.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};b.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};b.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};b.prototype.moveTo=
function(){return this.view.moveTo.apply(this.view,arguments)};b.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};b.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};b.prototype.getOptionsFromConfigurator=function(){var a={};return this.configurator&&(a=this.configurator.getOptions.apply(this.configurator)),a};f.exports=b},function(f,h){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(d,
b,c){this.beginPath();this.arc(d,b,c,0,2*Math.PI,!1);this.closePath()},CanvasRenderingContext2D.prototype.square=function(d,b,c){this.beginPath();this.rect(d-c,b-c,2*c,2*c);this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(d,b,c){this.beginPath();c*=1.15;b+=.275*c;var f=2*c;c=f/2;var a=Math.sqrt(3)/6*f,f=Math.sqrt(f*f-c*c);this.moveTo(d,b-(f-a));this.lineTo(d+c,b+a);this.lineTo(d-c,b+a);this.lineTo(d,b-(f-a));this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(d,
b,c){this.beginPath();c*=1.15;b-=.275*c;var f=2*c;c=f/2;var a=Math.sqrt(3)/6*f,f=Math.sqrt(f*f-c*c);this.moveTo(d,b+(f-a));this.lineTo(d+c,b-a);this.lineTo(d-c,b-a);this.lineTo(d,b+(f-a));this.closePath()},CanvasRenderingContext2D.prototype.star=function(d,b,c){this.beginPath();c*=.82;b+=.1*c;for(var f=0;10>f;f++){var a=0==f%2?1.3*c:.5*c;this.lineTo(d+a*Math.sin(2*f*Math.PI/10),b-a*Math.cos(2*f*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(d,b,c){this.beginPath();
this.lineTo(d,b+c);this.lineTo(d+c,b);this.lineTo(d,b-c);this.lineTo(d-c,b);this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(d,b,c,f,a){var e=Math.PI/180;0>c-2*a&&(a=c/2);0>f-2*a&&(a=f/2);this.beginPath();this.moveTo(d+a,b);this.lineTo(d+c-a,b);this.arc(d+c-a,b+a,a,270*e,360*e,!1);this.lineTo(d+c,b+f-a);this.arc(d+c-a,b+f-a,a,0,90*e,!1);this.lineTo(d+a,b+f);this.arc(d+a,b+f-a,a,90*e,180*e,!1);this.lineTo(d,b+a);this.arc(d+a,b+a,a,180*e,270*e,!1);this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=
function(d,b,c,f){var a=c/2*.5522848,e=f/2*.5522848,h=d+c,g=b+f;c=d+c/2;f=b+f/2;this.beginPath();this.moveTo(d,f);this.bezierCurveTo(d,f-e,c-a,b,c,b);this.bezierCurveTo(c+a,b,h,f-e,h,f);this.bezierCurveTo(h,f+e,c+a,g,c,g);this.bezierCurveTo(c-a,g,d,f+e,d,f);this.closePath()},CanvasRenderingContext2D.prototype.database=function(d,b,c,f){var a=1/3*f,e=c/2*.5522848,h=a/2*.5522848,g=d+c,m=b+a;c=d+c/2;var k=b+a/2,a=b+(f-a/2);f=b+f;this.beginPath();this.moveTo(g,k);this.bezierCurveTo(g,k+h,c+e,m,c,m);this.bezierCurveTo(c-
e,m,d,k+h,d,k);this.bezierCurveTo(d,k-h,c-e,b,c,b);this.bezierCurveTo(c+e,b,g,k-h,g,k);this.lineTo(g,a);this.bezierCurveTo(g,a+h,c+e,f,c,f);this.bezierCurveTo(c-e,f,d,a+h,d,a);this.lineTo(d,k)},CanvasRenderingContext2D.prototype.arrowEndpoint=function(d,b,c,f){var a=d-f*Math.cos(c),e=b-f*Math.sin(c),h=d-.9*f*Math.cos(c),g=b-.9*f*Math.sin(c),m=a+f/3*Math.cos(c+.5*Math.PI),k=e+f/3*Math.sin(c+.5*Math.PI),a=a+f/3*Math.cos(c-.5*Math.PI);c=e+f/3*Math.sin(c-.5*Math.PI);this.beginPath();this.moveTo(d,b);
this.lineTo(m,k);this.lineTo(h,g);this.lineTo(a,c);this.closePath()},CanvasRenderingContext2D.prototype.circleEndpoint=function(d,b,c,f){f*=.4;this.circle(d-f*Math.cos(c),b-f*Math.sin(c),f)},CanvasRenderingContext2D.prototype.dashedLine=function(d,b,c,f,a){this.beginPath();this.moveTo(d,b);var e=a.length;c-=d;var h=f-b;f=h/c;for(var h=Math.sqrt(c*c+h*h),g=0,m=!0,k,p;.1<=h;)p=a[g++%e],p>h&&(p=h),k=Math.sqrt(p*p/(1+f*f)),k=0>c?-k:k,d+=k,b+=f*k,!0===m?this.lineTo(d,b):this.moveTo(d,b),h-=p,m=!m})},function(f,
h,d){function b(a){w=a;a={};z=0;x=w.charAt(0);if(g(),"strict"===B&&(a.strict=!0,g()),"graph"!==B&&"digraph"!==B||(a.type=B,g()),F===D.IDENTIFIER&&(a.id=B,g()),"{"!=B)throw r("Angle bracket { expected");if(g(),m(a),"}"!=B)throw r("Angle bracket } expected");if(g(),""!==B)throw r("End of file expected");return g(),delete a.node,delete a.edge,delete a.graph,a}function c(){z++;x=w.charAt(z)}function n(){return w.charAt(z+1)}function a(a,b){if(a||(a={}),b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);
return a}function e(b,c){for(var d,g,e=null,k=[b],l=b;l.parent;)k.push(l.parent),l=l.parent;if(l.nodes)for(d=0,g=l.nodes.length;d<g;d++)if(c.id===l.nodes[d].id){e=l.nodes[d];break}e||(e={id:c.id},b.node&&(e.attr=a(e.attr,b.node)));for(d=k.length-1;0<=d;d--)g=k[d],g.nodes||(g.nodes=[]),-1===g.nodes.indexOf(e)&&g.nodes.push(e);c.attr&&(e.attr=a(e.attr,c.attr))}function q(b,c,d,g,e){c={from:c,to:d,type:g};return b.edge&&(c.attr=a({},b.edge)),c.attr=a(c.attr||{},e),c}function g(){F=D.NULL;for(B="";" "===
x||"\t"===x||"\n"===x||"\r"===x;)c();do{var a=!1;if("#"===x){for(var b=z-1;" "===w.charAt(b)||"\t"===w.charAt(b);)b--;if("\n"===w.charAt(b)||""===w.charAt(b)){for(;""!=x&&"\n"!=x;)c();a=!0}}if("/"===x&&"/"===n()){for(;""!=x&&"\n"!=x;)c();a=!0}if("/"===x&&"*"===n()){for(;""!=x;){if("*"===x&&"/"===n()){c();c();break}c()}a=!0}for(;" "===x||"\t"===x||"\n"===x||"\r"===x;)c()}while(a);if(""===x)return void(F=D.DELIMITER);a=x+n();if(y[a])return F=D.DELIMITER,B=a,c(),void c();if(y[x])return F=D.DELIMITER,
B=x,void c();if(Q.test(x)||"-"===x){B+=x;for(c();Q.test(x);)B+=x,c();return"false"===B?B=!1:"true"===B?B=!0:isNaN(Number(B))||(B=Number(B)),void(F=D.IDENTIFIER)}if('"'===x){for(c();""!=x&&('"'!=x||'"'===x&&'"'===n());)'"'===x?(B+=x,c()):"\\"===x&&"n"===n()?(B+="\n",c()):B+=x,c();if('"'!=x)throw r('End of string " expected');return c(),void(F=D.IDENTIFIER)}for(F=D.UNKNOWN;""!=x;)B+=x,c();throw new SyntaxError('Syntax error in part "'+(30>=B.length?B:B.substr(0,27)+"...")+'"');}function m(a){for(;""!==
B&&"}"!=B;){var b=a,c=k(b);if(c)p(b,c);else if(c=b,!("node"===B?(g(),c.node=l(),"node"):"edge"===B?(g(),c.edge=l(),"edge"):"graph"===B&&(g(),c.graph=l(),"graph"))){if(F!=D.IDENTIFIER)throw r("Identifier expected");c=B;if(g(),"="===B){if(g(),F!=D.IDENTIFIER)throw r("Identifier expected");b[c]=B;g()}else{var d={id:c},f=l();f&&(d.attr=f);e(b,d);p(b,c)}}";"===B&&g()}}function k(a){var b=null;if("subgraph"===B&&(b={},b.type="subgraph",g(),F===D.IDENTIFIER&&(b.id=B,g())),"{"===B){if(g(),b||(b={}),b.parent=
a,b.node=a.node,b.edge=a.edge,b.graph=a.graph,m(b),"}"!=B)throw r("Angle bracket } expected");g();delete b.node;delete b.edge;delete b.graph;delete b.parent;a.subgraphs||(a.subgraphs=[]);a.subgraphs.push(b)}return b}function p(b,c){for(;"->"===B||"--"===B;){var d,f=B;g();d=k(b);if(!d){if(F!=D.IDENTIFIER)throw r("Identifier or subgraph expected");d=B;e(b,{id:d});g()}var p=b,f=q(b,c,d,f,l());if(p.edges||(p.edges=[]),p.edges.push(f),p.edge)p=a({},p.edge),f.attr=a(p,f.attr);c=d}}function l(){for(var a=
null;"["===B;){g();for(a={};""!==B&&"]"!=B;){if(F!=D.IDENTIFIER)throw r("Attribute name expected");var b=B;if(g(),"="!=B)throw r("Equal sign = expected");if(g(),F!=D.IDENTIFIER)throw r("Attribute value expected");for(var c=a,d=B,b=b.split(".");b.length;){var e=b.shift();b.length?(c[e]||(c[e]={}),c=c[e]):c[e]=d}g();","==B&&g()}if("]"!=B)throw r("Bracket ] expected");g()}return a}function r(a){return new SyntaxError(a+', got "'+(30>=B.length?B:B.substr(0,27)+"...")+'" (char '+z+")")}function t(a,b,
c){Array.isArray(a)?a.forEach(function(a){Array.isArray(b)?b.forEach(function(b){c(a,b)}):c(a,b)}):Array.isArray(b)?b.forEach(function(b){c(a,b)}):c(a,b)}function u(a,b,c){b=b.split(".");for(var d=b.pop(),g=a,e=0;e<b.length;e++){var k=b[e];k in g||(g[k]={});g=g[k]}return g[d]=c,a}function v(a,b){var c={},d;for(d in a)if(a.hasOwnProperty(d)){var g=b[d];Array.isArray(g)?g.forEach(function(b){u(c,b,a[d])}):"string"==typeof g?u(c,g,a[d]):u(c,d,a[d])}return c}f=(f=d(55))&&f.__esModule?f:{"default":f};
var C={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},A=(0,f["default"])(C);A.color="color.color";var D={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},y={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},w="",z=0,x="",B="",F=D.NULL,Q=/[a-zA-Z_0-9.:#]/;h.parseDOT=b;h.DOTToGraph=function(c){c=b(c);var d={nodes:[],edges:[],options:{}};
if(c.nodes&&c.nodes.forEach(function(b){var c={id:b.id,label:String(b.label||b.id)};a(c,v(b.attr,C));c.image&&(c.shape="image");d.nodes.push(c)}),c.edges){var g=function(b){var c={from:b.from,to:b.to};return a(c,v(b.attr,A)),c.arrows="->"===b.type?"to":void 0,c};c.edges.forEach(function(a){var b,c;b=a.from instanceof Object?a.from.nodes:{id:a.from};c=a.to instanceof Object?a.to.nodes:{id:a.to};a.from instanceof Object&&a.from.edges&&a.from.edges.forEach(function(a){a=g(a);d.edges.push(a)});t(b,c,
function(b,c){var e=q(d,b.id,c.id,a.type,a.attr),e=g(e);d.edges.push(e)});a.to instanceof Object&&a.to.edges&&a.to.edges.forEach(function(a){a=g(a);d.edges.push(a)})})}return c.attr&&(d.options=c.attr),d}},function(f,h){h.parseGephi=function(d,b){var c=[],f=[],a={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==b&&(void 0!==b.fixed&&(a.nodes.fixed=b.fixed),void 0!==b.parseColor&&(a.nodes.parseColor=b.parseColor),void 0!==b.inheritColor&&(a.edges.inheritColor=b.inheritColor));for(var e=
d.edges,h=d.nodes,g=0;g<e.length;g++){var m={},k=e[g];m.id=k.id;m.from=k.source;m.to=k.target;m.attributes=k.attributes;m.label=k.label;m.title=void 0!==k.attributes?k.attributes.title:void 0;"Directed"===k.type&&(m.arrows="to");k.color&&!1===a.inheritColor&&(m.color=k.color);c.push(m)}for(g=0;g<h.length;g++)e={},m=h[g],e.id=m.id,e.attributes=m.attributes,e.x=m.x,e.y=m.y,e.label=m.label,e.title=void 0!==m.attributes?m.attributes.title:m.title,!0===a.nodes.parseColor?e.color=m.color:e.color=void 0!==
m.color?{background:m.color,border:m.color,highlight:{background:m.color,border:m.color},hover:{background:m.color,border:m.color}}:void 0,e.size=m.size,e.fixed=a.nodes.fixed&&void 0!==m.x&&void 0!==m.y,f.push(e);return{nodes:f,edges:c}}},function(f,h){h.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",
editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."};h.en_EN=h.en;h.en_US=h.en;h.de={edit:"Editieren",del:"L\u00f6sche Auswahl",back:"Zur\u00fcck",addNode:"Knoten hinzuf\u00fcgen",addEdge:"Kante hinzuf\u00fcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",
edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\u00f6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\u00f6nnen nicht gel\u00f6scht werden.",editClusterError:"Cluster k\u00f6nnen nicht editiert werden."};h.de_DE=h.de;h.es={edit:"Editar",del:"Eliminar selecci\u00f3n",back:"\u00c1tras",
addNode:"A\u00f1adir nodo",addEdge:"A\u00f1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\u00edo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."};
h.es_ES=h.es;h.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",
editClusterError:"I clusters non possono essere modificati."};h.it_IT=h.it;h.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",
createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."};h.nl_NL=h.nl;h.nl_BE=h.nl;h["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\u00f3",addEdge:"Adicionar aresta",editNode:"Editar n\u00f3",editEdge:"Editar aresta",addDescription:"Clique em um espa\u00e7o em branco para adicionar um novo n\u00f3",edgeDescription:"Clique em um n\u00f3 e arraste a aresta at\u00e9 outro n\u00f3 para conect\u00e1-los",
editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\u00f3 para conect\u00e1-los",createEdgeError:"N\u00e3o foi poss\u00edvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\u00e3o puderam ser removidos.",editClusterError:"Clusters n\u00e3o puderam ser editados."};h["pt-BR"]=h["pt-br"];h.pt_BR=h["pt-br"];h.pt_br=h["pt-br"];h.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",
back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",
edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",
createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."};
h.ru_RU=h.ru},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(135);var c=b(f);f=d(136);var n=b(f);d=d(166);var a=b(d);d=function(){function b(a){(0,c["default"])(this,b);this.images={};this.imageBroken={};this.callback=a}return(0,n["default"])(b,[{key:"_tryloadBrokenUrl",value:function(a,b,c){if(void 0!==a&&void 0!==c){if(void 0===b)return void console.warn("No broken url image defined");c.onerror=function(){console.error("Could not load brokenImage:",
b)};c.image.src=b}}},{key:"_redrawWithImage",value:function(a){this.callback&&this.callback(a)}},{key:"load",value:function(b,c,d){var e=this;if(d=this.images[b])return d;var f=new a["default"];return this.images[b]=f,f.image.onload=function(){e._fixImageCoordinates(f.image);f.init();e._redrawWithImage(f)},f.image.onerror=function(){console.error("Could not load image:",b);e._tryloadBrokenUrl(b,c,f)},f.image.src=b,f}},{key:"_fixImageCoordinates",value:function(a){0===a.width&&(document.body.appendChild(a),
a.width=a.offsetWidth,a.height=a.offsetHeight,document.body.removeChild(a))}}]),b}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(a){(0,b["default"])(this,d);this.NUM_ITERATIONS=4;this.image=new Image;this.canvas=document.createElement("canvas")}return(0,c["default"])(d,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var a=
this.image.width,b=this.image.height;this.width=a;this.height=b;this.canvas.width=3*a/4;this.canvas.height=b/2;this.coordinates=[[0,0,a/2,b/2],[a/2,0,a/4,b/4],[a/2,b/4,a/8,b/8],[5*a/8,b/4,a/16,b/16]];this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var a=this.canvas.getContext("2d"),b=this.coordinates[0];a.drawImage(this.image,b[0],b[1],b[2],b[3]);for(b=1;b<this.NUM_ITERATIONS;b++){var c=this.coordinates[b-1],d=this.coordinates[b];
a.drawImage(this.canvas,c[0],c[1],c[2],c[3],d[0],d[1],d[2],d[3])}}},{key:"drawImageAtPosition",value:function(a,b,c,d,f,k){if(2<b&&this.initialized()){b*=.5;for(var p=0;2<b&&p<this.NUM_ITERATIONS;)b*=.5,p+=1;p>=this.NUM_ITERATIONS&&(p=this.NUM_ITERATIONS-1);b=this.coordinates[p];a.drawImage(this.canvas,b[0],b[1],b[2],b[3],c,d,f,k)}else this._isImageOk()&&a.drawImage(this.image,c,d,f,k)}},{key:"_isImageOk",value:function(a){a=this.image;return!!a.complete&&(void 0===a.naturalWidth||0!==a.naturalWidth)}}]),
d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},n=d(1);d=function(){function a(){(0,b["default"])(this,a);this.clear();this.defaultIndex=0;this.groupsArray=[];this.groupIndex=0;this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",
background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",
highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},
{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",
background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},
hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}];this.options={};this.defaultOptions={useDefaultGroups:!0};
n.extend(this.options,this.defaultOptions)}return(0,c["default"])(a,[{key:"setOptions",value:function(a){var b=["useDefaultGroups"];if(void 0!==a)for(var c in a)a.hasOwnProperty(c)&&-1===b.indexOf(c)&&this.add(c,a[c])}},{key:"clear",value:function(){this.groups={};this.groupsArray=[]}},{key:"get",value:function(a){var b=this.groups[a];if(void 0===b){if(!1===this.options.useDefaultGroups&&0<this.groupsArray.length){var c=this.groupIndex%this.groupsArray.length;this.groupIndex++;b={};b.color=this.groups[this.groupsArray[c]]}else c=
this.defaultIndex%this.defaultGroups.length,this.defaultIndex++,b={},b.color=this.defaultGroups[c];this.groups[a]=b}return b}},{key:"add",value:function(a,b){return this.groups[a]=b,this.groupsArray.push(a),b}}]),a}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},n=d(1),a=d(89),e=d(93),q=d(169)["default"],g=d(170)["default"];d=function(){function d(a,c,g,e){var f=this;if((0,
b["default"])(this,d),this.body=a,this.images=c,this.groups=g,this.layoutEngine=e,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(a,b){f.add(b.items)},update:function(a,b){f.update(b.items,b.data)},remove:function(a,b){f.remove(b.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},
fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,
min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,b,c,d){return b===a?.5:Math.max(0,1/(b-a)*(d-a))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},0>=this.defaultOptions.mass)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";n.extend(this.options,
this.defaultOptions);this.bindEventListeners()}return(0,c["default"])(d,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){n.forEach(a.nodesListeners,function(b,c){a.body.data.nodes&&a.body.data.nodes.off(c,b)});delete a.body.functions.createNode;delete a.nodesListeners.add;delete a.nodesListeners.update;delete a.nodesListeners.remove;delete a.nodesListeners})}},
{key:"setOptions",value:function(a){if(this.nodeOptions=a,void 0!==a){if(q.parseOptions(this.options,a),void 0!==a.shape)for(var b in this.body.nodes)this.body.nodes.hasOwnProperty(b)&&this.body.nodes[b].updateShape();if(void 0!==a.font){g.parseOptions(this.options.font,a);for(var c in this.body.nodes)this.body.nodes.hasOwnProperty(c)&&(this.body.nodes[c].updateLabelModule(),this.body.nodes[c].needsRefresh())}if(void 0!==a.size)for(var d in this.body.nodes)this.body.nodes.hasOwnProperty(d)&&this.body.nodes[d].needsRefresh();
void 0===a.hidden&&void 0===a.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]&&arguments[1],d=this.body.data.nodes;if(b instanceof a||b instanceof e)this.body.data.nodes=b;else if(Array.isArray(b))this.body.data.nodes=new a,this.body.data.nodes.add(b);else{if(b)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new a}if(d&&n.forEach(this.nodesListeners,function(a,b){d.off(b,a)}),this.body.nodes=
{},this.body.data.nodes){var g=this;n.forEach(this.nodesListeners,function(a,b){g.body.data.nodes.on(b,a)});var f=this.body.data.nodes.getIds();this.add(f,!0)}!1===c&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(a){for(var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c,d=[],g=0;g<a.length;g++){c=a[g];var e=this.body.data.nodes.get(c),e=this.create(e);d.push(e);this.body.nodes[c]=e}this.layoutEngine.positionInitially(d);!1===b&&this.body.emitter.emit("_dataChanged")}},
{key:"update",value:function(a,b){for(var c=this.body.nodes,d=!1,g=0;g<a.length;g++){var e=a[g],f=c[e],m=b[g];void 0!==f?d=f.setOptions(m):(d=!0,f=this.create(m),c[e]=f)}!0===d?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(a){for(var b=this.body.nodes,c=0;c<a.length;c++)delete b[a[c]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(a){return new (1<arguments.length&&void 0!==arguments[1]?arguments[1]:q)(a,this.body,
this.images,this.groups,this.options,this.defaultOptions,this.nodeOptions)}},{key:"refresh",value:function(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],b=this.body.nodes,c;for(c in b){var d=void 0;b.hasOwnProperty(c)&&(d=b[c]);var g=this.body.data.nodes.get(c);void 0!==d&&void 0!==g&&(!0===a&&d.setOptions({x:null,y:null}),d.setOptions({fixed:!1}),d.setOptions(g))}}},{key:"getPositions",value:function(a){var b={};if(void 0!==a)if(!0===Array.isArray(a))for(var c=0;c<a.length;c++){if(void 0!==
this.body.nodes[a[c]]){var d=this.body.nodes[a[c]];b[a[c]]={x:Math.round(d.x),y:Math.round(d.y)}}}else void 0!==this.body.nodes[a]&&(c=this.body.nodes[a],b[a]={x:Math.round(c.x),y:Math.round(c.y)});else for(a=0;a<this.body.nodeIndices.length;a++)c=this.body.nodes[this.body.nodeIndices[a]],b[this.body.nodeIndices[a]]={x:Math.round(c.x),y:Math.round(c.y)};return b}},{key:"storePositions",value:function(){var a=[],b=this.body.data.nodes.getDataSet(),c;for(c in b._data)if(b._data.hasOwnProperty(c)){var d=
this.body.nodes[c];b._data[c].x==Math.round(d.x)&&b._data[c].y==Math.round(d.y)||a.push({id:d.id,x:Math.round(d.x),y:Math.round(d.y)})}b.update(a)}},{key:"getBoundingBox",value:function(a){if(void 0!==this.body.nodes[a])return this.body.nodes[a].shape.boundingBox}},{key:"getConnectedNodes",value:function(a,b){var c=[];if(void 0!==this.body.nodes[a])for(var d=this.body.nodes[a],g={},e=0;e<d.edges.length;e++){var f=d.edges[e];"to"!==b&&f.toId==d.id?void 0===g[f.fromId]&&(c.push(f.fromId),g[f.fromId]=
!0):"from"!==b&&f.fromId==d.id&&void 0===g[f.toId]&&(c.push(f.toId),g[f.toId]=!0)}return c}},{key:"getConnectedEdges",value:function(a){var b=[];if(void 0!==this.body.nodes[a]){a=this.body.nodes[a];for(var c=0;c<a.edges.length;c++)b.push(a.edges[c].id)}else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",a);return b}},{key:"moveNode",value:function(a,b,c){var d=this;void 0!==this.body.nodes[a]?(this.body.nodes[a].x=Number(b),this.body.nodes[a].y=Number(c),setTimeout(function(){d.body.emitter.emit("startSimulation")},
0)):console.log("Node id supplied to moveNode does not exist. Provided: ",a)}}]),d}();h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(62);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f),e=d(1),q=d(170)["default"],g=d(175)["default"],m=d(186)["default"],k=d(188)["default"],p=d(189)["default"],l=d(190)["default"],r=d(192)["default"],t=d(193)["default"],u=d(194)["default"],v=d(195)["default"],C=d(196)["default"],
A=d(197)["default"],D=d(198)["default"],y=d(199)["default"],w=d(200)["default"],z=(d(145)["default"],d(145)).printStyle;d=function(){function b(a,c,d,g,f,k,l){(0,n["default"])(this,b);this.options=e.bridgeObject(f);this.globalOptions=f;this.defaultOptions=k;this.nodeOptions=l;this.body=c;this.edges=[];this.id=void 0;this.imagelist=d;this.grouplist=g;this.y=this.x=void 0;this.baseSize=this.options.size;this.baseFontSize=this.options.font.size;this.hover=this.selected=this.predefinedPosition=!1;this.labelModule=
new q(this.body,this.options,!1);this.setOptions(a)}return(0,a["default"])(b,[{key:"attachEdge",value:function(a){-1===this.edges.indexOf(a)&&this.edges.push(a)}},{key:"detachEdge",value:function(a){a=this.edges.indexOf(a);-1!=a&&this.edges.splice(a,1)}},{key:"setOptions",value:function(a){var c=this.options.shape;if(a){if(void 0!==a.id&&(this.id=a.id),void 0===this.id)throw"Node must have an id";if(b.checkMass(a,this.id),void 0!==a.x&&(null===a.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=
parseInt(a.x),this.predefinedPosition=!0)),void 0!==a.y&&(null===a.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(a.y),this.predefinedPosition=!0)),void 0!==a.size&&(this.baseSize=a.size),void 0!==a.value&&(a.value=parseFloat(a.value)),"number"==typeof a.group||"string"==typeof a.group&&""!=a.group){var d=this.grouplist.get(a.group);e.deepExtend(this.options,d);this.options.color=e.parseColor(this.options.color)}return b.parseOptions(this.options,a,!0,this.globalOptions),this.choosify(a),
this._load_images(),this.updateLabelModule(a),this.updateShape(c),this.labelModule.propagateFonts(this.nodeOptions,a,this.defaultOptions),void 0!==a.hidden||void 0!==a.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw"Option image must be defined for node type '"+this.options.shape+"'";if(void 0===this.imagelist)throw"Internal Error: No images provided";if("string"==typeof this.options.image)this.imageObj=
this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw"No unselected image provided";this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id);void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"choosify",value:function(a){this.chooser=!0;a=[a,this.options,this.defaultOptions];
var b=e.topMost(a,"chosen");"boolean"==typeof b?this.chooser=b:"object"===(void 0===b?"undefined":(0,c["default"])(b))&&(a=e.topMost(a,["chosen","node"]),"boolean"!=typeof a&&"function"!=typeof a||(this.chooser=a))}},{key:"getFormattingValues",value:function(){var a={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,
shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(a.borderWidth*=2,a.color=this.options.color.highlight.background,a.borderColor=this.options.color.highlight.border,a.shadow=this.options.shadow.enabled):this.hover&&(a.color=this.options.color.hover.background,a.borderColor=this.options.color.hover.border,a.shadow=
this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(a,this.options.id,this.selected,this.hover),!1===a.shadow&&(a.shadowColor===this.options.shadow.color&&a.shadowSize===this.options.shadow.size&&a.shadowX===this.options.shadow.x&&a.shadowY===this.options.shadow.y||(a.shadow=!0))):a.shadow=this.options.shadow.enabled,a}},{key:"updateLabelModule",value:function(a){void 0!==this.options.label&&null!==this.options.label||(this.options.label="");this.labelModule.setOptions(this.options,
!0);void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize);this.labelModule.constrain(this.nodeOptions,a,this.defaultOptions);this.labelModule.choosify(this.nodeOptions,a,this.defaultOptions)}},{key:"updateShape",value:function(a){if(a===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case "box":this.shape=new g(this.options,this.body,this.labelModule);break;case "circle":this.shape=new m(this.options,
this.body,this.labelModule);break;case "circularImage":this.shape=new k(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case "database":this.shape=new p(this.options,this.body,this.labelModule);break;case "diamond":this.shape=new l(this.options,this.body,this.labelModule);break;case "dot":this.shape=new r(this.options,this.body,this.labelModule);break;case "ellipse":this.shape=new t(this.options,this.body,this.labelModule);break;case "icon":this.shape=new u(this.options,
this.body,this.labelModule);break;case "image":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case "square":this.shape=new C(this.options,this.body,this.labelModule);break;case "star":this.shape=new A(this.options,this.body,this.labelModule);break;case "text":this.shape=new D(this.options,this.body,this.labelModule);break;case "triangle":this.shape=new y(this.options,this.body,this.labelModule);break;case "triangleDown":this.shape=new w(this.options,
this.body,this.labelModule);break;default:this.shape=new t(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0;this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1;this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(a,b){return this.shape.distanceToBorder(a,b)}},{key:"isFixed",value:function(){return this.options.fixed.x&&
this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(a,b,c){void 0!==this.options.value?(a=this.options.scaling.customScalingFunction(a,b,c,this.options.value),b=this.options.scaling.max-this.options.scaling.min,!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+a*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=
this.options.scaling.min+a*b):(this.options.size=this.baseSize,this.options.font.size=this.baseFontSize);this.updateLabelModule()}},{key:"draw",value:function(a){var b=this.getFormattingValues();this.shape.draw(a,this.x,this.y,this.selected,this.hover,b)}},{key:"updateBoundingBox",value:function(a){this.shape.updateBoundingBox(this.x,this.y,a)}},{key:"resize",value:function(a){var b=this.getFormattingValues();this.shape.resize(a,this.selected,this.hover,b)}},{key:"isOverlappingWith",value:function(a){return this.shape.left<
a.right&&this.shape.left+this.shape.width>a.left&&this.shape.top<a.bottom&&this.shape.top+this.shape.height>a.top}},{key:"isBoundingBoxOverlappingWith",value:function(a){return this.shape.boundingBox.left<a.right&&this.shape.boundingBox.right>a.left&&this.shape.boundingBox.top<a.bottom&&this.shape.boundingBox.bottom>a.top}}],[{key:"parseOptions",value:function(a,c){var d=2<arguments.length&&void 0!==arguments[2]&&arguments[2],g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(e.selectiveNotDeepExtend(["color",
"font","fixed","shadow"],a,c,d),b.checkMass(c),e.mergeOptions(a,c,"shadow",d,g),void 0!==c.color&&null!==c.color){var f=e.parseColor(c.color);e.fillIfDefined(a.color,f)}else!0===d&&null===c.color&&(a.color=e.bridgeObject(g.color));void 0!==c.fixed&&null!==c.fixed&&("boolean"==typeof c.fixed?(a.fixed.x=c.fixed,a.fixed.y=c.fixed):(void 0!==c.fixed.x&&"boolean"==typeof c.fixed.x&&(a.fixed.x=c.fixed.x),void 0!==c.fixed.y&&"boolean"==typeof c.fixed.y&&(a.fixed.y=c.fixed.y)));void 0!==c.font&&null!==c.font?
q.parseOptions(a.font,c):!0===d&&null===c.font&&(a.font=e.bridgeObject(g.font));void 0!==c.scaling&&e.mergeOptions(a.scaling,c.scaling,"label",d,g.scaling)}},{key:"checkMass",value:function(a,b){if(void 0!==a.mass&&0>=a.mass){var c="";void 0!==b&&(c=" in node id: "+b);console.log("%cNegative or zero mass disallowed"+c+", setting mass to 1.",z);a.mass=1}}}]),b}();h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=
d(171);var c=b(f);f=d(2);var n=b(f);f=d(62);var a=b(f);f=d(135);var e=b(f);f=d(136);var q=b(f),g=d(1);d=function(){function b(a,c){var d=2<arguments.length&&void 0!==arguments[2]&&arguments[2];(0,e["default"])(this,b);this.body=a;this.pointToSelf=!1;this.baseSize=void 0;this.fontOptions={};this.setOptions(c);this.size={top:0,left:0,width:0,height:0,yLine:0};this.isEdgeLabel=d}return(0,q["default"])(b,[{key:"setOptions",value:function(c){var d=1<arguments.length&&void 0!==arguments[1]&&arguments[1];
this.elementOptions=c;this.fontOptions=g.deepExtend({},c.font,!0);void 0!==c.label&&(this.labelDirty=!0);void 0!==c.font&&(b.parseOptions(this.fontOptions,c,d),"string"==typeof c.font?this.baseSize=this.fontOptions.size:"object"===(0,a["default"])(c.font)&&void 0!==c.font.size&&(this.baseSize=c.font.size))}},{key:"constrain",value:function(b,c,d){this.fontOptions.constrainWidth=!1;this.fontOptions.maxWdt=-1;this.fontOptions.minWdt=-1;b=[c,b,d];c=g.topMost(b,"widthConstraint");"number"==typeof c?(this.fontOptions.maxWdt=
Number(c),this.fontOptions.minWdt=Number(c)):"object"===(void 0===c?"undefined":(0,a["default"])(c))&&(c=g.topMost(b,["widthConstraint","maximum"]),"number"==typeof c&&(this.fontOptions.maxWdt=Number(c)),c=g.topMost(b,["widthConstraint","minimum"]),"number"==typeof c&&(this.fontOptions.minWdt=Number(c)));this.fontOptions.constrainHeight=!1;this.fontOptions.minHgt=-1;this.fontOptions.valign="middle";c=g.topMost(b,"heightConstraint");"number"==typeof c?this.fontOptions.minHgt=Number(c):"object"===(void 0===
c?"undefined":(0,a["default"])(c))&&(c=g.topMost(b,["heightConstraint","minimum"]),"number"==typeof c&&(this.fontOptions.minHgt=Number(c)),b=g.topMost(b,["heightConstraint","valign"]),"string"==typeof b&&("top"!==b&&"bottom"!==b||(this.fontOptions.valign=b)))}},{key:"choosify",value:function(b,c,d){this.fontOptions.chooser=!0;b=[c,b,d];c=g.topMost(b,"chosen");"boolean"==typeof c?this.fontOptions.chooser=c:"object"===(void 0===c?"undefined":(0,a["default"])(c))&&(b=g.topMost(b,["chosen","label"]),
"boolean"!=typeof b&&"function"!=typeof b||(this.fontOptions.chooser=b))}},{key:"adjustSizes",value:function(a){var b=a?a.right+a.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=b,this.fontOptions.minWdt-=b);a=a?a.top+a.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=a)}},{key:"propagateFonts",value:function(a,c,d){if(this.fontOptions.multi){var g=function(a,b){if(!a||!a.font)return null;var c=a.font;if(b){if(!c[b])return null;c=c[b]}return c},e=function(a,b,
c){return(a=g(a,b))&&a.hasOwnProperty(c)?a[c]:null},f=["bold","ital","boldital","mono"],h=!0,q=!1,A=void 0;try{for(var D,y=(0,n["default"])(f);!(h=(D=y.next()).done);h=!0){var w=D.value,z=this.fontOptions[w],x=d.font[w];b.parseFontString(z,g(a,w))?(z.vadjust=this.fontOptions.vadjust,z.mod=x.mod):(z.face=e(a,w,"face")||e(c,w,"face")||("mono"===w?x.face:null)||e(c,null,"face")||this.fontOptions.face,z.color=e(a,w,"color")||e(c,w,"color")||e(c,null,"color")||this.fontOptions.color,z.mod=e(a,w,"mod")||
e(c,w,"mod")||e(c,null,"mod")||x.mod,f=void 0,z.face===x.face&&this.fontOptions.face===d.font.face&&(f=this.fontOptions.size/Number(d.font.size)),z.size=e(a,w,"size")||e(c,w,"size")||(f?x.size*f:null)||e(c,null,"size")||this.fontOptions.size,z.vadjust=e(a,w,"vadjust")||e(c,w,"vadjust")||(f?x.vadjust*Math.round(f):null)||this.fontOptions.vadjust);z.size=Number(z.size);z.vadjust=Number(z.vadjust)}}catch(B){q=!0,A=B}finally{try{!h&&y["return"]&&y["return"]()}finally{if(q)throw A;}}}}},{key:"draw",value:function(a,
b,c,d,g){var e=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var f=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&f<this.elementOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(a,d,g,b,c,e),this._drawBackground(a),this._drawText(a,d,g,b,c,e))}}},{key:"_drawBackground",value:function(a){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background)if(a.fillStyle=this.fontOptions.background,
this.isEdgeLabel)switch(this.fontOptions.align){case "middle":a.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case "top":a.fillRect(.5*-this.size.width,-(this.size.height+2),this.size.width,this.size.height);break;case "bottom":a.fillRect(.5*-this.size.width,2,this.size.width,this.size.height);break;default:a.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}else a.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}},
{key:"_drawText",value:function(a,b,d,g,e){var f=this.fontOptions.size*this.body.view.scale,m=this.size.yLine,m=this._setAlignment(a,g,m,5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle"),m=(0,c["default"])(m,2);g=m[0];m=m[1];a.textAlign="left";g-=this.size.width/2;this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(m-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(m+=(this.size.height-this.size.labelHeight)/
2));for(var h=0;h<this.lineCount;h++)if(this.lines[h]&&this.lines[h].blocks){var q=0;this.isEdgeLabel||"center"===this.fontOptions.align?q+=(this.size.width-this.lines[h].width)/2:"right"===this.fontOptions.align&&(q+=this.size.width-this.lines[h].width);for(var n=0;n<this.lines[h].blocks.length;n++){var y=this.lines[h].blocks[n];a.font=y.font;var w=this._getColor(y.color,f,y.strokeColor),z=(0,c["default"])(w,2),w=z[0],z=z[1];0<y.strokeWidth&&(a.lineWidth=y.strokeWidth,a.strokeStyle=z,a.lineJoin=
"round");a.fillStyle=w;0<y.strokeWidth&&a.strokeText(y.text,g+q,m+y.vadjust);a.fillText(y.text,g+q,m+y.vadjust);q+=y.width}m+=this.lines[h].height}}},{key:"_setAlignment",value:function(a,b,c,d){this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(c=b=0,"top"===this.fontOptions.align?(a.textBaseline="alphabetic",c-=4):"bottom"===this.fontOptions.align?(a.textBaseline="hanging",c+=4):a.textBaseline="middle"):a.textBaseline=d;return[b,c]}},{key:"_getColor",value:function(a,
b,c){a=a||"#000000";c=c||"#ffffff";b<=this.elementOptions.scaling.label.drawThreshold&&(b=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-b))),a=g.overrideOpacity(a,b),c=g.overrideOpacity(c,b));return[a,c]}},{key:"getTextSize",value:function(a){return this._processLabel(a,1<arguments.length&&void 0!==arguments[1]&&arguments[1],2<arguments.length&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"calculateLabelSize",
value:function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,e=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";!0===this.labelDirty&&this._processLabel(a,b,c);this.size.left=d-.5*this.size.width;this.size.top=g-.5*this.size.height;this.size.yLine=g+.5*(1-this.lineCount)*this.fontOptions.size;"hanging"===e&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4);this.labelDirty=
!1}},{key:"decodeMarkupSystem",value:function(a){var b="none";return"markdown"===a||"md"===a?b="markdown":!0!==a&&"html"!==a||(b="html"),b}},{key:"splitBlocks",value:function(a,b){var c=this.decodeMarkupSystem(b);return"none"===c?[{text:a,mod:"normal"}]:"markdown"===c?this.splitMarkdownBlocks(a):"html"===c?this.splitHtmlBlocks(a):void 0}},{key:"splitMarkdownBlocks",value:function(a){for(var b=[],c={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===
this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":c.bold&&c.ital?"boldital":c.bold?"bold":c.ital?"ital":void 0},emitBlock:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1);0<this.buffer.length&&(b.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(a){" "===a&&(c.spacing=!0);c.spacing&&(this.buffer+=" ",this.spacing=!1);" "!=
a&&(this.buffer+=a)}};c.position<a.length;){var d=a.charAt(c.position);/[ \t]/.test(d)?(c.mono?c.add(d):c.spacing=!0,c.beginable=!0):/\\/.test(d)?c.position<a.length+1&&(c.position++,d=a.charAt(c.position),/ \t/.test(d)?c.spacing=!0:(c.add(d),c.beginable=!1)):c.mono||c.bold||!c.beginable&&!c.spacing||!/\*/.test(d)?c.mono||c.ital||!c.beginable&&!c.spacing||!/\_/.test(d)?!c.mono&&(c.beginable||c.spacing)&&/`/.test(d)?(c.emitBlock(),c.mono=!0,c.modStack.unshift("mono")):!c.mono&&"bold"===c.mod()&&/\*/.test(d)?
c.position===a.length-1||/[.,_` \t\n]/.test(a.charAt(c.position+1))?(c.emitBlock(),c.bold=!1,c.modStack.shift()):c.add(d):!c.mono&&"ital"===c.mod()&&/\_/.test(d)?c.position===a.length-1||/[.,*` \t\n]/.test(a.charAt(c.position+1))?(c.emitBlock(),c.ital=!1,c.modStack.shift()):c.add(d):c.mono&&"mono"===c.mod()&&/`/.test(d)?c.position===a.length-1||/[.,*_ \t\n]/.test(a.charAt(c.position+1))?(c.emitBlock(),c.mono=!1,c.modStack.shift()):c.add(d):(c.add(d),c.beginable=!1):(c.emitBlock(),c.ital=!0,c.modStack.unshift("ital")):
(c.emitBlock(),c.bold=!0,c.modStack.unshift("bold"));c.position++}return c.emitBlock(),b}},{key:"splitHtmlBlocks",value:function(a){for(var b=[],c={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":c.bold&&c.ital?"boldital":c.bold?"bold":c.ital?"ital":void 0},emitBlock:function(){0<arguments.length&&void 0!==arguments[0]&&
arguments[0];this.spacing&&(this.add(" "),this.spacing=!1);0<this.buffer.length&&(b.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(a){" "===a&&(c.spacing=!0);c.spacing&&(this.buffer+=" ",this.spacing=!1);" "!=a&&(this.buffer+=a)}};c.position<a.length;){var d=a.charAt(c.position);/[ \t]/.test(d)?c.mono?c.add(d):c.spacing=!0:/</.test(d)?c.mono||c.bold||!/<b>/.test(a.substr(c.position,3))?c.mono||c.ital||!/<i>/.test(a.substr(c.position,3))?!c.mono&&/<code>/.test(a.substr(c.position,
6))?(c.emitBlock(),c.mono=!0,c.modStack.unshift("mono"),c.position+=5):!c.mono&&"bold"===c.mod()&&/<\/b>/.test(a.substr(c.position,4))?(c.emitBlock(),c.bold=!1,c.modStack.shift(),c.position+=3):!c.mono&&"ital"===c.mod()&&/<\/i>/.test(a.substr(c.position,4))?(c.emitBlock(),c.ital=!1,c.modStack.shift(),c.position+=3):"mono"===c.mod()&&/<\/code>/.test(a.substr(c.position,7))?(c.emitBlock(),c.mono=!1,c.modStack.shift(),c.position+=6):c.add(d):(c.emitBlock(),c.ital=!0,c.modStack.unshift("ital"),c.position+=
2):(c.emitBlock(),c.bold=!0,c.modStack.unshift("bold"),c.position+=2):/&/.test(d)?/&lt;/.test(a.substr(c.position,4))?(c.add("<"),c.position+=3):/&amp;/.test(a.substr(c.position,5))?(c.add("&"),c.position+=4):c.add("&"):c.add(d);c.position++}return c.emitBlock(),b}},{key:"getFormattingValues",value:function(a,b,c,d){var g=function(a,b,c){return"normal"===b?"mod"===c?"":a[c]:a[b][c]?a[b][c]:a[c]},g={color:g(this.fontOptions,d,"color"),size:g(this.fontOptions,d,"size"),face:g(this.fontOptions,d,"face"),
mod:g(this.fontOptions,d,"mod"),vadjust:g(this.fontOptions,d,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};return(b||c)&&("normal"===d&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?g.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(g,this.elementOptions.id,b,c)),a.font=(g.mod+" "+g.size+"px "+g.face).replace(/"/g,""),g.font=a.font,g.height=g.size,g}},{key:"differentState",value:function(a,b){return a!==
this.fontOptions.selectedState&&b!==this.fontOptions.hoverState}},{key:"_processLabel",value:function(a,b,c){var d=0,g=0,e=[],f=0;if(e.add=function(a,b,c,d,g,e,f,k,l,p){this.length==a&&(this[a]={width:0,height:0,blocks:[]});this[a].blocks.push({text:b,font:c,color:d,width:g,height:e,vadjust:f,mod:k,strokeWidth:l,strokeColor:p})},e.accumulate=function(a,b,c){this[a].width+=b;this[a].height=c>this[a].height?c:this[a].height},e.addAndAccumulate=function(a,b,c,d,g,e,f,k,l,p){this.add(a,b,c,d,g,e,f,k,
l,p);this.accumulate(a,g,e)},void 0!==this.elementOptions.label){var m=String(this.elementOptions.label).split("\n"),h=m.length;if(this.elementOptions.font.multi)for(var q=0;q<h;q++){var n=this.splitBlocks(m[q],this.elementOptions.font.multi),w=0,z=0;if(n)if(0==n.length)n=this.getFormattingValues(a,b,c,"normal"),e.addAndAccumulate(f,"",n.font,n.color,0,n.size,n.vadjust,"normal",n.strokeWidth,n.strokeColor),g+=e[f].height,f++;else for(var x=0;x<n.length;x++)if(0<this.fontOptions.maxWdt)for(var B=this.getFormattingValues(a,
b,c,n[x].mod),F=n[x].text.split(" "),Q=!0,P="",I={width:0},O=void 0,K=0;K<F.length;){var J=Q?"":" ",O=I,I=a.measureText(P+J+F[K]);w+I.width>this.fontOptions.maxWdt&&0!=O.width?(z=B.height>z?B.height:z,e.add(f,P,B.font,B.color,O.width,B.height,B.vadjust,n[x].mod,B.strokeWidth,B.strokeColor),e.accumulate(f,O.width,z),P="",Q=!0,w=0,d=e[f].width>d?e[f].width:d,g+=e[f].height,f++):(P=P+J+F[K],K===F.length-1&&(z=B.height>z?B.height:z,w+=I.width,e.add(f,P,B.font,B.color,I.width,B.height,B.vadjust,n[x].mod,
B.strokeWidth,B.strokeColor),e.accumulate(f,I.width,z),x===n.length-1&&(d=e[f].width>d?e[f].width:d,g+=e[f].height,f++)),K++,Q=!1)}else B=this.getFormattingValues(a,b,c,n[x].mod),F=a.measureText(n[x].text),e.addAndAccumulate(f,n[x].text,B.font,B.color,F.width,B.height,B.vadjust,n[x].mod,B.strokeWidth,B.strokeColor),d=e[f].width>d?e[f].width:d,n.length-1===x&&(g+=e[f].height,f++)}else for(q=0;q<h;q++)if(n=this.getFormattingValues(a,b,c,"normal"),0<this.fontOptions.maxWdt)for(w=m[q].split(" "),z="",
x={width:0},B=void 0,F=0;F<w.length;)Q=""===z?"":" ",B=x,x=a.measureText(z+Q+w[F]),x.width>this.fontOptions.maxWdt&&0!=B.width?(e.addAndAccumulate(f,z,n.font,n.color,B.width,n.size,n.vadjust,"normal",n.strokeWidth,n.strokeColor),d=e[f].width>d?e[f].width:d,g+=e[f].height,z="",f++):(z=z+Q+w[F],F===w.length-1&&(e.addAndAccumulate(f,z,n.font,n.color,x.width,n.size,n.vadjust,"normal",n.strokeWidth,n.strokeColor),d=e[f].width>d?e[f].width:d,g+=e[f].height,f++),F++);else w=m[q],z=a.measureText(w),e.addAndAccumulate(f,
w,n.font,n.color,z.width,n.size,n.vadjust,"normal",n.strokeWidth,n.strokeColor),d=e[f].width>d?e[f].width:d,g+=e[f].height,f++}0<this.fontOptions.minWdt&&d<this.fontOptions.minWdt&&(d=this.fontOptions.minWdt);this.size.labelHeight=g;0<this.fontOptions.minHgt&&g<this.fontOptions.minHgt&&(g=this.fontOptions.minHgt);this.lines=e;this.lineCount=e.length;this.size.width=d;this.size.height=g;this.selectedState=b;this.hoverState=c}}],[{key:"parseOptions",value:function(c,d){var e=2<arguments.length&&void 0!==
arguments[2]&&arguments[2];b.parseFontString(c,d.font)?c.vadjust=0:"object"===(0,a["default"])(d.font)&&g.fillIfDefined(c,d.font,e);c.size=Number(c.size);c.vadjust=Number(c.vadjust)}},{key:"parseFontString",value:function(a,b){if(!b||"string"!=typeof b)return!1;var c=b.split(" ");return a.size=c[0].replace("px",""),a.face=c[1],a.color=c[2],!0}}]),b}();h["default"]=d},function(f,h,d){h.__esModule=!0;var b=(f=d(172))&&f.__esModule?f:{"default":f},c=(d=d(2))&&d.__esModule?d:{"default":d};h["default"]=
function(){return function(d,a){if(Array.isArray(d))return d;if((0,b["default"])(Object(d))){var e=[],f=!0,g=!1,m=void 0;try{for(var k,p=(0,c["default"])(d);!(f=(k=p.next()).done)&&(e.push(k.value),!a||e.length!==a);f=!0);}catch(l){g=!0,m=l}finally{try{!f&&p["return"]&&p["return"]()}finally{if(g)throw m;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}()},function(f,h,d){f.exports={"default":d(173),__esModule:!0}},function(f,h,d){d(4);d(50);f.exports=d(174)},
function(f,h,d){var b=d(54),c=d(47)("iterator"),n=d(8);f.exports=d(17).isIterable=function(a){a=Object(a);return void 0!==a[c]||"@@iterator"in a||n.hasOwnProperty(b(a))}},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(185);d=function(b){function d(a,b,g){(0,n["default"])(this,d);a=(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,
a,b,g));return a._setMargins(g),a}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;this.needsRefresh(b,c)&&(this.textSize=this.labelModule.getTextSize(a,b,c),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=this.width/2)}},{key:"draw",
value:function(a,b,c,d,g,e){this.resize(a,d,g);this.left=b-this.width/2;this.top=c-this.height/2;this.initContextForDraw(a,e);a.roundRect(this.left,this.top,this.width,this.height,e.borderRadius);this.performFill(a,e);this.updateBoundingBox(b,c,a,d,g);this.labelModule.draw(a,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,d,g)}},{key:"updateBoundingBox",value:function(a,b,c,d,g){this._updateBoundingBox(a,b,c,d,g);this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},
{key:"distanceToBorder",value:function(a,b){this.resize(a);return Math.min(Math.abs(this.width/2/Math.cos(b)),Math.abs(this.height/2/Math.sin(b)))+this.options.borderWidth}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){f.exports={"default":d(177),__esModule:!0}},function(f,h,d){d(178);f.exports=d(17).Object.getPrototypeOf},function(f,h,d){var b=d(49),c=d(48);d(61)("getPrototypeOf",function(){return function(d){return c(b(d))}})},function(f,h,d){h.__esModule=!0;var b=(f=d(62))&&f.__esModule?
f:{"default":f};h["default"]=function(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==(void 0===d?"undefined":(0,b["default"])(d))&&"function"!=typeof d?c:d}},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}h.__esModule=!0;f=d(181);var c=b(f);f=d(55);var n=b(f);d=d(62);var a=b(d);h["default"]=function(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
(void 0===d?"undefined":(0,a["default"])(d)));b.prototype=(0,n["default"])(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(c["default"]?(0,c["default"])(b,d):b.__proto__=d)}},function(f,h,d){f.exports={"default":d(182),__esModule:!0}},function(f,h,d){d(183);f.exports=d(17).Object.setPrototypeOf},function(f,h,d){f=d(15);f(f.S,"Object",{setPrototypeOf:d(184).set})},function(f,h,d){var b=d(23),c=d(22),n=function(a,d){if(c(a),!b(d)&&null!==d)throw TypeError(d+": can't set as prototype!");
};f.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,c){try{c=d(18)(Function.call,d(78).f(Object.prototype,"__proto__").set,2),c(a,[]),b=!(a instanceof Array)}catch(g){b=!0}return function(a,d){return n(a,d),b?a.__proto__=d:c(a,d),a}}({},!1):void 0),check:n}},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(62);var c=b(f);f=d(135);var n=b(f);d=d(136);var a=b(d);d=function(){function b(a,c,d){(0,n["default"])(this,
b);this.body=c;this.labelModule=d;this.setOptions(a);this.margin=this.radius=this.width=this.height=this.left=this.top=void 0;this.refreshNeeded=!0;this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,a["default"])(b,[{key:"setOptions",value:function(a){this.options=a}},{key:"_setMargins",value:function(a){this.margin={};this.options.margin&&("object"==(0,c["default"])(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=
this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin));a.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(a,b){var c=this.options.borderWidth;return this.resize(a),Math.min(Math.abs(this.width/2/Math.cos(b)),Math.abs(this.height/2/Math.sin(b)))+c}},{key:"enableShadow",value:function(a,b){b.shadow&&(a.shadowColor=b.shadowColor,
a.shadowBlur=b.shadowSize,a.shadowOffsetX=b.shadowX,a.shadowOffsetY=b.shadowY)}},{key:"disableShadow",value:function(a,b){b.shadow&&(a.shadowColor="rgba(0,0,0,0)",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(a,b){if(!1!==b.borderDashes)if(void 0!==a.setLineDash){var c=b.borderDashes;!0===c&&(c=[5,15]);a.setLineDash(c)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=
!1,b.borderDashes=!1}},{key:"disableBorderDashes",value:function(a,b){!1!==b.borderDashes&&(void 0!==a.setLineDash?a.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,b.borderDashes=!1))}},{key:"needsRefresh",value:function(a,b){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(a,b)}},{key:"initContextForDraw",value:function(a,b){a.lineWidth=
Math.min(this.width,b.borderWidth/this.body.view.scale);a.strokeStyle=b.borderColor;a.fillStyle=b.color}},{key:"performStroke",value:function(a,b){var c=b.borderWidth/this.body.view.scale;a.save();0<c&&(this.enableBorderDashes(a,b),a.stroke(),this.disableBorderDashes(a,b));a.restore()}},{key:"performFill",value:function(a,b){this.enableShadow(a,b);a.fill();this.disableShadow(a,b);this.performStroke(a,b)}},{key:"_addBoundingBoxMargin",value:function(a){this.boundingBox.left-=a;this.boundingBox.top-=
a;this.boundingBox.bottom+=a;this.boundingBox.right+=a}},{key:"_updateBoundingBox",value:function(a,b,c,d,e){void 0!==c&&this.resize(c,d,e);this.left=a-this.width/2;this.top=b-this.height/2;this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(a,b,c,d,e){this._updateBoundingBox(a,b,c,d,e)}}]),b}();h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?
a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(187);d=function(b){function d(a,b,g){(0,n["default"])(this,d);a=(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g));return a._setMargins(g),a}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,c=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:this.hover;this.needsRefresh(b,c)&&(this.textSize=this.labelModule.getTextSize(a,b,c),b=Math.max(this.textSize.width+this.margin.right+this.margin.left,this.textSize.height+this.margin.top+this.margin.bottom),this.options.size=b/2,this.height=this.width=b,this.radius=this.width/2)}},{key:"draw",value:function(a,b,c,d,g,e){this.resize(a,d,g);this.left=b-this.width/2;this.top=c-this.height/2;this._drawRawCircle(a,b,c,e);this.updateBoundingBox(b,c);this.labelModule.draw(a,
this.left+this.textSize.width/2+this.margin.left,c,d,g)}},{key:"updateBoundingBox",value:function(a,b){this.boundingBox.top=b-this.options.size;this.boundingBox.left=a-this.options.size;this.boundingBox.right=a+this.options.size;this.boundingBox.bottom=b+this.options.size}},{key:"distanceToBorder",value:function(a,b){return this.resize(a),.5*this.width}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",
{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);f=d(185);f=b(f);d=d(166);d=(b(d),function(b){function d(a,b,g){(0,n["default"])(this,d);a=(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g));return a.labelOffset=0,a.selected=!1,a}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"setOptions",value:function(a,b,c){this.options=a;void 0===b&&void 0===c||this.setImages(b,c)}},{key:"setImages",value:function(a,b){b&&
this.selected?(this.imageObj=b,this.imageObjAlt=a):(this.imageObj=a,this.imageObjAlt=b)}},{key:"switchImages",value:function(a){var b=a&&!this.selected||!a&&this.selected;if(this.selected=a,void 0!==this.imageObjAlt&&b)a=this.imageObj,this.imageObj=this.imageObjAlt,this.imageObjAlt=a}},{key:"_resizeImage",value:function(){var a,b;!1===this.options.shapeProperties.useImageSize?(b=a=1,this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?a=this.imageObj.width/this.imageObj.height:
b=this.imageObj.height/this.imageObj.width),a*=2*this.options.size,b*=2*this.options.size):(a=this.imageObj.width,b=this.imageObj.height);this.width=a;this.height=b;this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(a,b,c,d){this.initContextForDraw(a,d);a.circle(b,c,d.size);this.performFill(a,d)}},{key:"_drawImageAtPosition",value:function(a,b){if(0!=this.imageObj.width){a.globalAlpha=1;this.enableShadow(a,b);var c=1;!0===this.options.shapeProperties.interpolation&&(c=this.imageObj.width/
this.width/this.body.view.scale);this.imageObj.drawImageAtPosition(a,c,this.left,this.top,this.width,this.height);this.disableShadow(a,b)}}},{key:"_drawImageLabel",value:function(a,b,c,d,g){var e=0;if(void 0!==this.height){var e=.5*this.height,f=this.labelModule.getTextSize(a,d,g);1<=f.lineCount&&(e+=f.height/2)}this.options.label&&(this.labelOffset=e);this.labelModule.draw(a,b,c+e,d,g,"hanging")}}]),d}(f["default"]));h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}
Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(187);d=function(b){function d(a,b,g,f,h){(0,n["default"])(this,d);a=(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g));return a.setImages(f,h),a}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,c=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height)return b=2*this.options.size,this.width=b,this.height=b,void(this.radius=.5*this.width);this.needsRefresh(b,c)&&this._resizeImage()}},{key:"draw",value:function(a,b,c,d,g,e){this.switchImages(d);this.resize();this.left=b-this.width/2;this.top=c-this.height/2;this._drawRawCircle(a,b,c,e);a.save();a.clip();this._drawImageAtPosition(a,e);a.restore();this._drawImageLabel(a,b,
c,d,g);this.updateBoundingBox(b,c)}},{key:"updateBoundingBox",value:function(a,b){this.boundingBox.top=b-this.options.size;this.boundingBox.left=a-this.options.size;this.boundingBox.right=a+this.options.size;this.boundingBox.bottom=b+this.options.size;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,
this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(a,b){return this.resize(a),.5*this.width}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(185);d=function(b){function d(a,b,g){(0,n["default"])(this,d);a=(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,
a,b,g));return a._setMargins(g),a}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a,b,c){this.needsRefresh(b,c)&&(this.textSize=this.labelModule.getTextSize(a,b,c),this.height=this.width=a=this.textSize.width+this.margin.right+this.margin.left,this.radius=this.width/2)}},{key:"draw",value:function(a,b,c,d,g,e){this.resize(a,d,g);this.left=b-this.width/2;this.top=c-this.height/2;this.initContextForDraw(a,e);a.database(b-this.width/2,c-this.height/2,this.width,this.height);
this.performFill(a,e);this.updateBoundingBox(b,c,a,d,g);this.labelModule.draw(a,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,d,g)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);
f=d(180);var q=b(f);d=d(191);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"draw",value:function(a,b,c,d,g,e){this._drawShape(a,"diamond",4,b,c,d,g,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,
"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(185);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,d=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{size:this.options.size};this.needsRefresh(b,c)&&(this.labelModule.getTextSize(a,b,c),this.height=this.width=b=2*d.size,this.radius=.5*this.width)}},{key:"_drawShape",value:function(a,b,c,d,g,e,f,m){if(this.resize(a,e,f,m),this.left=d-this.width/2,this.top=g-this.height/2,this.initContextForDraw(a,m),a[b](d,g,m.size),this.performFill(a,m),void 0!==this.options.label)this.labelModule.calculateLabelSize(a,e,f,d,g,"hanging"),this.labelModule.draw(a,d,g+.5*this.height+
.5*this.labelModule.size.height,e,f,"hanging");this.updateBoundingBox(d,g)}},{key:"updateBoundingBox",value:function(a,b){this.boundingBox.top=b-this.options.size;this.boundingBox.left=a-this.options.size;this.boundingBox.right=a+this.options.size;this.boundingBox.bottom=b+this.options.size;void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+
this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(191);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||
(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"draw",value:function(a,b,c,d,g,e){this._drawShape(a,"circle",2,b,c,d,g,e)}},{key:"distanceToBorder",value:function(a,b){return this.resize(a),this.options.size}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=
b(f);d=d(185);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;this.needsRefresh(b,c)&&(b=this.labelModule.getTextSize(a,b,c),this.height=2*b.height,this.width=b.width+this.height,this.radius=
.5*this.width)}},{key:"draw",value:function(a,b,c,d,g,e){this.resize(a,d,g);this.left=b-.5*this.width;this.top=c-.5*this.height;this.initContextForDraw(a,e);a.ellipse_vis(this.left,this.top,this.width,this.height);this.performFill(a,e);this.updateBoundingBox(b,c,a,d,g);this.labelModule.draw(a,b,c,d,g)}},{key:"distanceToBorder",value:function(a,b){this.resize(a);var c=.5*this.width,d=.5*this.height,g=Math.sin(b)*c,e=Math.cos(b)*d;return c*d/Math.sqrt(g*g+e*e)}}]),d}(b(d)["default"]);h["default"]=d},
function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(185);d=function(b){function d(a,b,g){(0,n["default"])(this,d);a=(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g));return a._setMargins(g),a}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a,b,c){this.needsRefresh(b,c)&&(this.iconSize=
{width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(a,b,c,d,g,e){(this.resize(a,d,g),this.options.icon.size=this.options.icon.size||50,this.left=b-this.width/2,this.top=c-this.height/2,this._icon(a,b,c,d,g,e),void 0!==this.options.label)&&this.labelModule.draw(a,this.left+this.iconSize.width/
2+this.margin.left,c+this.height/2+5,d);this.updateBoundingBox(b,c)}},{key:"updateBoundingBox",value:function(a,b){if(this.boundingBox.top=b-.5*this.options.icon.size,this.boundingBox.left=a-.5*this.options.icon.size,this.boundingBox.right=a+.5*this.options.icon.size,this.boundingBox.bottom=b+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width)this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,
this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}},{key:"_icon",value:function(a,b,c,d,g,e){g=Number(this.options.icon.size);void 0!==this.options.icon.code?(a.font=(d?"bold ":"")+g+"px "+this.options.icon.face,a.fillStyle=this.options.icon.color||"black",a.textAlign="center",a.textBaseline="middle",this.enableShadow(a,e),a.fillText(this.options.icon.code,b,c),this.disableShadow(a,
e)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(187);d=function(b){function d(a,
b,g,f,h){(0,n["default"])(this,d);a=(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g));return a.setImages(f,h),a}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height)return b=2*this.options.size,this.width=b,void(this.height=
b);this.needsRefresh(b,c)&&this._resizeImage()}},{key:"draw",value:function(a,b,c,d,g,e){if(this.switchImages(d),this.resize(),this.left=b-this.width/2,this.top=c-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var f=this.options.borderWidth,m=this.options.borderWidthSelected||2*this.options.borderWidth;a.lineWidth=Math.min(this.width,(d?m:f)/this.body.view.scale);a.beginPath();a.strokeStyle=d?this.options.color.highlight.border:g?this.options.color.hover.border:this.options.color.border;
a.fillStyle=d?this.options.color.highlight.background:g?this.options.color.hover.background:this.options.color.background;a.rect(this.left-.5*a.lineWidth,this.top-.5*a.lineWidth,this.width+a.lineWidth,this.height+a.lineWidth);a.fill();this.performStroke(a,e);a.closePath()}this._drawImageAtPosition(a,e);this._drawImageLabel(a,b,c,d,g);this.updateBoundingBox(b,c)}},{key:"updateBoundingBox",value:function(a,b){this.resize();this._updateBoundingBox(a,b);void 0!==this.options.label&&0<this.labelModule.size.width&&
(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,
"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(191);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"draw",value:function(a,b,c,d,g,e){this._drawShape(a,"square",2,b,c,d,g,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);
h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(191);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"draw",value:function(a,b,c,d,g,e){this._drawShape(a,"star",4,b,c,d,
g,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(185);d=function(b){function d(a,b,g){(0,n["default"])(this,d);a=(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g));return a._setMargins(g),
a}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"resize",value:function(a,b,c){this.needsRefresh(b,c)&&(this.textSize=this.labelModule.getTextSize(a,b,c),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(a,b,c,d,g,e){this.resize(a,d,g);this.left=b-this.width/2;this.top=c-this.height/2;this.enableShadow(a,e);this.labelModule.draw(a,this.left+this.textSize.width/
2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,d,g);this.disableShadow(a,e);this.updateBoundingBox(b,c,a,d,g)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(191);d=function(b){function d(a,
b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"draw",value:function(a,b,c,d,g,e){this._drawShape(a,"triangle",3,b,c,d,g,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=
d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(191);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"draw",value:function(a,b,c,d,g,e){this._drawShape(a,"triangleDown",3,b,c,d,g,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){Object.defineProperty(h,
"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},n=d(1),a=d(89),e=d(93),q=d(202)["default"],g=d(170)["default"];d=(d(210)["default"],function(){function d(a,c,g){var e=this;(0,b["default"])(this,d);this.body=a;this.images=c;this.groups=g;this.body.functions.createEdge=this.create.bind(this);this.edgesListeners={add:function(a,b){e.add(b.items)},update:function(a,b){e.update(b.items)},remove:function(a,b){e.remove(b.items)}};this.options=
{};this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,
face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,b,c,d){return b===a?.5:Math.max(0,1/(b-a)*(d-a))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0};n.extend(this.options,
this.defaultOptions);this.bindEventListeners()}return(0,c["default"])(d,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("_forceDisableDynamicCurves",function(b){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];"dynamic"===b&&(b="continuous");var d=!1,g;for(g in a.body.edges)if(a.body.edges.hasOwnProperty(g)){var e=a.body.edges[g],f=a.body.data.edges._data[g];void 0!==f&&(f=f.smooth,void 0!==f&&!0===f.enabled&&"dynamic"===f.type&&(void 0===b?e.setOptions({smooth:!1}):
e.setOptions({smooth:{type:b}}),d=!0))}!0===c&&!0===d&&a.body.emitter.emit("_dataChanged")});this.body.emitter.on("_dataUpdated",function(){a.reconnectEdges()});this.body.emitter.on("refreshEdges",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){n.forEach(a.edgesListeners,function(b,c){a.body.data.edges&&a.body.data.edges.off(c,b)});delete a.body.functions.createEdge;delete a.edgesListeners.add;delete a.edgesListeners.update;
delete a.edgesListeners.remove;delete a.edgesListeners})}},{key:"setOptions",value:function(a){if(this.edgeOptions=a,void 0!==a){q.parseOptions(this.options,a);var b=!1;if(void 0!==a.smooth)for(var c in this.body.edges)this.body.edges.hasOwnProperty(c)&&(b=this.body.edges[c].updateEdgeType()||b);if(void 0!==a.font){g.parseOptions(this.options.font,a);for(var d in this.body.edges)this.body.edges.hasOwnProperty(d)&&this.body.edges[d].updateLabelModule()}void 0===a.hidden&&void 0===a.physics&&!0!==b||
this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(b){var c=this,d=1<arguments.length&&void 0!==arguments[1]&&arguments[1],g=this.body.data.edges;if(b instanceof a||b instanceof e)this.body.data.edges=b;else if(Array.isArray(b))this.body.data.edges=new a,this.body.data.edges.add(b);else{if(b)throw new TypeError("Array or DataSet expected");this.body.data.edges=new a}if(g&&n.forEach(this.edgesListeners,function(a,b){g.off(b,a)}),this.body.edges={},this.body.data.edges){n.forEach(this.edgesListeners,
function(a,b){c.body.data.edges.on(b,a)});var f=this.body.data.edges.getIds();this.add(f,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");!1===d&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(a){for(var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=this.body.edges,d=this.body.data.edges,g=0;g<a.length;g++){var e=a[g],f=c[e];f&&f.disconnect();f=d.get(e,{showInternalIds:!0});c[e]=this.create(f)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");
!1===b&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(a){for(var b=this.body.edges,c=this.body.data.edges,d=!1,g=0;g<a.length;g++){var e=a[g],f=c.get(e),m=b[e];void 0!==m?(m.disconnect(),d=m.setOptions(f)||d,m.connect()):(this.body.edges[e]=this.create(f),d=!0)}!0===d?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(a){for(var b=this.body.edges,c=0;c<a.length;c++){var d=
a[c],g=b[d];void 0!==g&&(g.cleanup(),g.disconnect(),delete b[d])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var a=this.body.edges,b;for(b in a){var c=void 0;a.hasOwnProperty(b)&&(c=a[b]);var d=this.body.data.edges._data[b];void 0!==c&&void 0!==d&&c.setOptions(d)}}},{key:"create",value:function(a){return new q(a,this.body,this.options,this.defaultOptions,this.edgeOptions)}},{key:"reconnectEdges",value:function(){var a,b=this.body.nodes,c=this.body.edges;for(a in b)b.hasOwnProperty(a)&&
(b[a].edges=[]);for(a in c)c.hasOwnProperty(a)&&(b=c[a],b.from=null,b.to=null,b.connect())}},{key:"getConnectedNodes",value:function(a){var b=[];void 0!==this.body.edges[a]&&(a=this.body.edges[a],void 0!==a.fromId&&b.push(a.fromId),void 0!==a.toId&&b.push(a.toId));return b}}]),d}());h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(90);var c=b(f);f=d(55);var n=b(f);f=d(62);var a=b(f);f=d(135);var e=b(f);f=d(136);
var q=b(f),g=d(1),m=d(170)["default"],k=d(203)["default"],p=d(207)["default"],l=d(208)["default"],r=d(209)["default"];d=function(){function b(a,c,d,f,l){if((0,e["default"])(this,b),void 0===c)throw"No body provided";this.options=g.bridgeObject(d);this.globalOptions=d;this.defaultOptions=f;this.edgeOptions=l;this.body=c;this.toId=this.fromId=this.id=void 0;this.hover=this.selected=!1;this.labelDirty=!0;this.baseWidth=this.options.width;this.baseFontSize=this.options.font.size;this.edgeType=this.to=
this.from=void 0;this.connected=!1;this.labelModule=new m(this.body,this.options,!0);this.setOptions(a)}return(0,q["default"])(b,[{key:"setOptions",value:function(a){if(a){b.parseOptions(this.options,a,!0,this.globalOptions);void 0!==a.id&&(this.id=a.id);void 0!==a.from&&(this.fromId=a.from);void 0!==a.to&&(this.toId=a.to);void 0!==a.title&&(this.title=a.title);void 0!==a.value&&(a.value=parseFloat(a.value));this.choosify(a);this.updateLabelModule(a);this.labelModule.propagateFonts(this.edgeOptions,
a,this.defaultOptions);var c=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===a.hidden&&void 0===a.physics||(c=!0),c}}},{key:"choosify",value:function(b){this.chooser=!0;b=[b,this.options,this.edgeOptions,this.defaultOptions];var c=g.topMost(b,"chosen");"boolean"==typeof c?this.chooser=c:"object"===(void 0===c?"undefined":(0,a["default"])(c))&&(b=g.topMost(b,["chosen","edge"]),"boolean"!=typeof b&&"function"!=typeof b||(this.chooser=b))}},{key:"getFormattingValues",
value:function(){var a=this.options.color.inherit,a={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,
fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:a?void 0:this.options.color.color,inheritsColor:a,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser)if(this.selected){var b=
this.options.selectionWidth;"function"==typeof b?a.width=b(a.width):"number"==typeof b&&(a.width+=b);a.width=Math.max(a.width,.3/this.body.view.scale);a.color=this.options.color.highlight;a.shadow=this.options.shadow.enabled}else this.hover&&(b=this.options.hoverWidth,"function"==typeof b?a.width=b(a.width):"number"==typeof b&&(a.width+=b),a.width=Math.max(a.width,.3/this.body.view.scale),a.color=this.options.color.hover,a.shadow=this.options.shadow.enabled);else"function"==typeof this.chooser&&(this.chooser(a,
this.options.id,this.selected,this.hover),void 0!==a.color&&(a.inheritsColor=!1),!1===a.shadow&&(a.shadowColor===this.options.shadow.color&&a.shadowSize===this.options.shadow.size&&a.shadowX===this.options.shadow.x&&a.shadowY===this.options.shadow.y||(a.shadow=!0)));else a.shadow=this.options.shadow.enabled,a.width=Math.max(a.width,.3/this.body.view.scale);return a}},{key:"updateLabelModule",value:function(a){this.labelModule.setOptions(this.options,!0);void 0!==this.labelModule.baseSize&&(this.baseFontSize=
this.labelModule.baseSize);this.labelModule.constrain(this.edgeOptions,a,this.defaultOptions);this.labelModule.choosify(this.edgeOptions,a,this.defaultOptions)}},{key:"updateEdgeType",value:function(){var a=this.options.smooth,b=!1,c=!0;return void 0!==this.edgeType&&((this.edgeType instanceof p&&!0===a.enabled&&"dynamic"===a.type||this.edgeType instanceof k&&!0===a.enabled&&"cubicBezier"===a.type||this.edgeType instanceof l&&!0===a.enabled&&"dynamic"!==a.type&&"cubicBezier"!==a.type||this.edgeType instanceof
r&&!1===a.type.enabled)&&(c=!1),!0===c&&(b=this.cleanup())),!0===c?!0===a.enabled?"dynamic"===a.type?(b=!0,this.edgeType=new p(this.options,this.body,this.labelModule)):"cubicBezier"===a.type?this.edgeType=new k(this.options,this.body,this.labelModule):this.edgeType=new l(this.options,this.body,this.labelModule):this.edgeType=new r(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),b}},{key:"connect",value:function(){this.disconnect();this.from=this.body.nodes[this.fromId]||
void 0;this.to=this.body.nodes[this.toId]||void 0;this.connected=void 0!==this.from&&void 0!==this.to;!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this));this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0);this.to&&(this.to.detachEdge(this),this.to=void 0);this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",
value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(a,b,c){void 0!==this.options.value?(a=this.options.scaling.customScalingFunction(a,b,c,this.options.value),b=this.options.scaling.max-this.options.scaling.min,!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+a*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+
a*b):(this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize);this._setInteractionWidths();this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width;"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=
this.options.selectionWidth+this.options.width}},{key:"draw",value:function(a){var b=this.getFormattingValues();if(!b.hidden){var c=this.edgeType.getViaNode(),d={};this.edgeType.fromPoint=this.edgeType.from;this.edgeType.toPoint=this.edgeType.to;b.fromArrow&&(d.from=this.edgeType.getArrowData(a,"from",c,this.selected,this.hover,b),!1===b.arrowStrikethrough&&(this.edgeType.fromPoint=d.from.core));b.toArrow&&(d.to=this.edgeType.getArrowData(a,"to",c,this.selected,this.hover,b),!1===b.arrowStrikethrough&&
(this.edgeType.toPoint=d.to.core));b.middleArrow&&(d.middle=this.edgeType.getArrowData(a,"middle",c,this.selected,this.hover,b));this.edgeType.drawLine(a,b,this.selected,this.hover,c);this.drawArrows(a,d,b);this.drawLabel(a,c)}}},{key:"drawArrows",value:function(a,b,c){c.fromArrow&&this.edgeType.drawArrowHead(a,c,this.selected,this.hover,b.from);c.middleArrow&&this.edgeType.drawArrowHead(a,c,this.selected,this.hover,b.middle);c.toArrow&&this.edgeType.drawArrowHead(a,c,this.selected,this.hover,b.to)}},
{key:"drawLabel",value:function(a,b){if(void 0!==this.options.label){var c=this.from,d=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(a,this.selected,this.hover),c.id!=d.id)this.labelModule.pointToSelf=!1,c=this.edgeType.getPoint(.5,b),a.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(a,this.selected,this.hover,c.x,c.y),a.translate(c.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(a)),this.labelModule.draw(a,
c.x,c.y,this.selected,this.hover),a.restore();else{this.labelModule.pointToSelf=!0;var g,e,d=this.options.selfReferenceSize;c.shape.width>c.shape.height?(g=c.x+.5*c.shape.width,e=c.y-d):(g=c.x+d,e=c.y-.5*c.shape.height);c=this._pointOnCircle(g,e,d,.125);this.labelModule.draw(a,c.x,c.y,this.selected,this.hover)}}}},{key:"isOverlappingWith",value:function(a){return this.connected?10>this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,a.left,a.top):!1}},{key:"_rotateForLabelAlignment",
value:function(a){var b=this.from.x-this.to.x,c=Math.atan2(this.from.y-this.to.y,b);(-1>c&&0>b||0<c&&0>b)&&(c+=Math.PI);a.rotate(c)}},{key:"_pointOnCircle",value:function(a,b,c,d){d=2*d*Math.PI;return{x:a+c*Math.cos(d),y:b-c*Math.sin(d)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(b,d){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],
f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(g.selectiveDeepExtend("arrowStrikethrough id from hidden hoverWidth label labelHighlightBold length line opacity physics scaling selectionWidth selfReferenceSize to title value width".split(" "),b,d,e),g.mergeOptions(b,d,"smooth",e,f),g.mergeOptions(b,d,"shadow",e,f),void 0!==d.dashes&&null!==d.dashes?b.dashes=d.dashes:!0===e&&null===d.dashes&&(b.dashes=(0,n["default"])(f.dashes)),void 0!==d.scaling&&null!==d.scaling?(void 0!==d.scaling.min&&
(b.scaling.min=d.scaling.min),void 0!==d.scaling.max&&(b.scaling.max=d.scaling.max),g.mergeOptions(b.scaling,d.scaling,"label",e,f.scaling)):!0===e&&null===d.scaling&&(b.scaling=(0,n["default"])(f.scaling)),void 0!==d.arrows&&null!==d.arrows)if("string"==typeof d.arrows){var l=d.arrows.toLowerCase();b.arrows.to.enabled=-1!=l.indexOf("to");b.arrows.middle.enabled=-1!=l.indexOf("middle");b.arrows.from.enabled=-1!=l.indexOf("from")}else{if("object"!==(0,a["default"])(d.arrows))throw Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+
(0,c["default"])(d.arrows));g.mergeOptions(b.arrows,d.arrows,"to",e,f.arrows);g.mergeOptions(b.arrows,d.arrows,"middle",e,f.arrows);g.mergeOptions(b.arrows,d.arrows,"from",e,f.arrows)}else!0===e&&null===d.arrows&&(b.arrows=(0,n["default"])(f.arrows));void 0!==d.color&&null!==d.color?(b.color=g.deepExtend({},b.color,!0),g.isString(d.color))?(b.color.color=d.color,b.color.highlight=d.color,b.color.hover=d.color,b.color.inherit=!1):(l=!1,void 0!==d.color.color&&(b.color.color=d.color.color,l=!0),void 0!==
d.color.highlight&&(b.color.highlight=d.color.highlight,l=!0),void 0!==d.color.hover&&(b.color.hover=d.color.hover,l=!0),void 0!==d.color.inherit&&(b.color.inherit=d.color.inherit),void 0!==d.color.opacity&&(b.color.opacity=Math.min(1,Math.max(0,d.color.opacity))),void 0===d.color.inherit&&!0===l&&(b.color.inherit=!1)):!0===e&&null===d.color&&(b.color=g.bridgeObject(f.color));void 0!==d.font&&null!==d.font?m.parseOptions(b.font,d):!0===e&&null===d.font&&(b.font=g.bridgeObject(f.font))}}]),b}();h["default"]=
d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(171);var c=b(f);f=d(176);var n=b(f);f=d(135);var a=b(f);f=d(136);var e=b(f);f=d(179);var q=b(f);f=d(180);var g=b(f);d=d(204);d=function(b){function d(b,c,g){return(0,a["default"])(this,d),(0,q["default"])(this,(d.__proto__||(0,n["default"])(d)).call(this,b,c,g))}return(0,g["default"])(d,b),(0,e["default"])(d,[{key:"_line",value:function(a,b,c){this._bezierCurve(a,b,c[0],c[1])}},
{key:"_getViaCoordinates",value:function(){var a=this.from.x-this.to.x,b=this.from.y-this.to.y,c=void 0,d=void 0,g=void 0,e=void 0,f=this.options.smooth.roundness;return(Math.abs(a)>Math.abs(b)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(d=this.from.y,e=this.to.y,c=this.from.x-f*a,g=this.to.x+f*a):(d=this.from.y-f*b,e=this.to.y+f*b,c=this.from.x,g=this.to.x),[{x:c,y:d},{x:g,y:e}]}},{key:"getViaNode",
value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(a,b){return this._findBorderPositionBezier(a,b)}},{key:"_getDistanceToEdge",value:function(a,b,d,g,e,f){var k=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),k=(0,c["default"])(k,2);return this._getDistanceToBezierEdge(a,b,d,g,e,f,k[0],k[1])}},{key:"getPoint",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),d=(0,c["default"])(b,
2),b=d[0],d=d[1],g=[];return g[0]=Math.pow(1-a,3),g[1]=3*a*Math.pow(1-a,2),g[2]=3*Math.pow(a,2)*(1-a),g[3]=Math.pow(a,3),{x:g[0]*this.fromPoint.x+g[1]*b.x+g[2]*d.x+g[3]*this.toPoint.x,y:g[0]*this.fromPoint.y+g[1]*b.y+g[2]*d.y+g[3]*this.toPoint.y}}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);
d=d(205);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"_getDistanceToBezierEdge",value:function(a,b,c,d,g,e,f,m){var h=1E9,q=void 0,n,w,z,x=a,B=b,F=[0,0,0,0];for(n=1;10>n;n++)w=.1*n,F[0]=Math.pow(1-w,3),F[1]=3*w*Math.pow(1-w,2),F[2]=3*Math.pow(w,2)*(1-w),F[3]=Math.pow(w,3),w=F[0]*a+F[1]*f.x+F[2]*m.x+F[3]*c,z=F[0]*b+F[1]*f.y+F[2]*m.y+F[3]*d,0<n&&(q=this._getDistanceToLine(x,
B,w,z,g,e),h=q<h?q:h),x=w,B=z;return h}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(206);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"_findBorderPositionBezier",
value:function(a,b){var c,d,g,e,f,m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),h=0,q=0,n=1,w=this.to,z=!1;for(a.id===this.from.id&&(w=this.from,z=!0);q<=n&&10>h;){var x=.5*(q+n);if(c=this.getPoint(x,m),d=Math.atan2(w.y-c.y,w.x-c.x),g=w.distanceToBorder(b,d),e=Math.sqrt(Math.pow(c.x-w.x,2)+Math.pow(c.y-w.y,2)),f=g-e,.2>Math.abs(f))break;0>f?!1===z?q=x:n=x:!1===z?n=x:q=x;h++}return c.t=x,c}},{key:"_getDistanceToBezierEdge",value:function(a,b,c,d,g,e,f){var m=1E9,
h=void 0,q,n,w,z=a,x=b;for(q=1;10>q;q++)n=.1*q,w=Math.pow(1-n,2)*a+2*n*(1-n)*f.x+Math.pow(n,2)*c,n=Math.pow(1-n,2)*b+2*n*(1-n)*f.y+Math.pow(n,2)*d,0<q&&(h=this._getDistanceToLine(z,x,w,n,g,e),m=h<m?h:m),z=w,x=n;return m}},{key:"_bezierCurve",value:function(a,b,c,d){var g=void 0!==c&&void 0!==c.x,e=void 0!==d&&void 0!==d.x;a.beginPath();a.moveTo(this.fromPoint.x,this.fromPoint.y);g&&e?a.bezierCurveTo(c.x,c.y,d.x,d.y,this.toPoint.x,this.toPoint.y):g?a.quadraticCurveTo(c.x,c.y,this.toPoint.x,this.toPoint.y):
a.lineTo(this.toPoint.x,this.toPoint.y);this.enableShadow(a,b);a.stroke();this.disableShadow(a,b)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(171);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f),e=d(1);d=function(){function b(a,c,d){(0,n["default"])(this,b);this.body=c;this.labelModule=d;this.options={};this.setOptions(a);
this.colorDirty=!0;this.color={};this.selectionWidth=2;this.hoverWidth=1.5;this.fromPoint=this.from;this.toPoint=this.to}return(0,a["default"])(b,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(a){this.options=a;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.id=this.options.id}},{key:"drawLine",value:function(a,
b,c,d,e){a.strokeStyle=this.getColor(a,b,c,d);a.lineWidth=b.width;!1!==b.dashes?this._drawDashedLine(a,b,e):this._drawLine(a,b,e)}},{key:"_drawLine",value:function(a,b,d,e,f){this.from!=this.to?this._line(a,b,d,e,f):(d=this._getCircleData(a),d=(0,c["default"])(d,3),this._circle(a,b,d[0],d[1],d[2]))}},{key:"_drawDashedLine",value:function(a,b,d,e,f){a.lineCap="round";e=[5,5];(!0===Array.isArray(b.dashes)&&(e=b.dashes),void 0!==a.setLineDash)?((a.save(),a.setLineDash(e),a.lineDashOffset=0,this.from!=
this.to)?this._line(a,b,d):(d=this._getCircleData(a),d=(0,c["default"])(d,3),this._circle(a,b,d[0],d[1],d[2])),a.setLineDash([0]),a.lineDashOffset=0,a.restore()):(this.from!=this.to?a.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,e):(d=this._getCircleData(a),d=(0,c["default"])(d,3),this._circle(a,b,d[0],d[1],d[2])),this.enableShadow(a,b),a.stroke(),this.disableShadow(a,b))}},{key:"findBorderPosition",value:function(a,b,c){return this.from!=this.to?this._findBorderPosition(a,b,c):this._findBorderPositionCircle(a,
b,c)}},{key:"findBorderPositions",value:function(a){var b;if(this.from!=this.to)b=this._findBorderPosition(this.from,a),a=this._findBorderPosition(this.to,a);else{b=this._getCircleData(a);b=(0,c["default"])(b,3);var d=b[0],e=b[1];b[2];b=this._findBorderPositionCircle(this.from,a,{x:d,y:e,low:.25,high:.6,direction:-1});a=this._findBorderPositionCircle(this.from,a,{x:d,y:e,low:.6,high:.8,direction:1})}return{from:b,to:a}}},{key:"_getCircleData",value:function(a){var b=void 0,c=void 0,d=this.from,e=
this.options.selfReferenceSize;return void 0!==a&&void 0===d.shape.width&&d.shape.resize(a),d.shape.width>d.shape.height?(b=d.x+.5*d.shape.width,c=d.y-e):(b=d.x+e,c=d.y-.5*d.shape.height),[b,c,e]}},{key:"_pointOnCircle",value:function(a,b,c,d){d=2*d*Math.PI;return{x:a+c*Math.cos(d),y:b-c*Math.sin(d)}}},{key:"_findBorderPositionCircle",value:function(a,b,c){var d=c.x,e=c.y,f=c.low,h=c.high;c=c.direction;for(var q=0,n=this.options.selfReferenceSize,C=void 0,A=void 0,D=void 0,y=void 0,w=void 0,z=.5*
(f+h);f<=h&&10>q&&(z=.5*(f+h),C=this._pointOnCircle(d,e,n,z),A=Math.atan2(a.y-C.y,a.x-C.x),D=a.distanceToBorder(b,A),y=Math.sqrt(Math.pow(C.x-a.x,2)+Math.pow(C.y-a.y,2)),w=D-y,!(.05>Math.abs(w)));)0<w?0<c?f=z:h=z:0<c?h=z:f=z,q++;return C.t=z,C}},{key:"getLineWidth",value:function(a,b){return!0===a?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===b?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(a,b,c,
d){return!1!==b.inheritsColor?"both"===b.inheritsColor&&this.from.id!==this.to.id?(a=a.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),d=c=void 0,c=this.from.options.color.highlight.border,d=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(c=e.overrideOpacity(this.from.options.color.border,b.opacity),d=e.overrideOpacity(this.to.options.color.border,b.opacity)):!0===this.from.selected&&!1===this.to.selected?d=this.to.options.color.border:!1===
this.from.selected&&!0===this.to.selected&&(c=this.from.options.color.border),a.addColorStop(0,c),a.addColorStop(1,d),a):"to"===b.inheritsColor?e.overrideOpacity(this.to.options.color.border,b.opacity):e.overrideOpacity(this.from.options.color.border,b.opacity):e.overrideOpacity(b.color,b.opacity)}},{key:"_circle",value:function(a,b,c,d,e){this.enableShadow(a,b);a.beginPath();a.arc(c,d,e,0,2*Math.PI,!1);a.stroke();this.disableShadow(a,b)}},{key:"getDistanceToEdge",value:function(a,b,d,e,f,h,q,n){this.from!=
this.to?a=this._getDistanceToEdge(a,b,d,e,f,h,q):(a=this._getCircleData(void 0),a=(0,c["default"])(a,3),b=a[0]-f,d=a[1]-h,a=Math.abs(Math.sqrt(b*b+d*d)-a[2]));return this.labelModule.size.left<f&&this.labelModule.size.left+this.labelModule.size.width>f&&this.labelModule.size.top<h&&this.labelModule.size.top+this.labelModule.size.height>h?0:a}},{key:"_getDistanceToLine",value:function(a,b,c,d,e,f){c-=a;d-=b;var h=((e-a)*c+(f-b)*d)/(c*c+d*d);1<h?h=1:0>h&&(h=0);a=a+h*c-e;b=b+h*d-f;return Math.sqrt(a*
a+b*b)}},{key:"getArrowData",value:function(a,b,d,e,f,h){var q=void 0,n=e=void 0,v=void 0,C=void 0,A=void 0;f=void 0;var D=h.width;("from"===b?(n=this.from,v=this.to,C=.1,A=h.fromArrowScale,f=h.fromArrowType):"to"===b?(n=this.to,v=this.from,C=-.1,A=h.toArrowScale,f=h.toArrowType):(n=this.to,v=this.from,A=h.middleArrowScale,f=h.middleArrowType),n!=v)?"middle"!==b?!0===this.options.smooth.enabled?(e=this.findBorderPosition(n,a,{via:d}),a=this.getPoint(Math.max(0,Math.min(1,e.t+C)),d),q=Math.atan2(e.y-
a.y,e.x-a.x)):(q=Math.atan2(n.y-v.y,n.x-v.x),e=this.findBorderPosition(n,a)):(q=Math.atan2(n.y-v.y,n.x-v.x),e=this.getPoint(.5,d)):(d=this._getCircleData(a),n=(0,c["default"])(d,3),d=n[0],h=n[1],n=n[2],"from"===b?(e=this.findBorderPosition(this.from,a,{x:d,y:h,low:.25,high:.6,direction:-1}),q=-2*e.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===b?(e=this.findBorderPosition(this.from,a,{x:d,y:h,low:.6,high:1,direction:1}),q=-2*e.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(e=this._pointOnCircle(d,h,n,.175),q=3.9269908169872414));
a=15*A+3*D;return{point:e,core:{x:e.x-.9*a*Math.cos(q),y:e.y-.9*a*Math.sin(q)},angle:q,length:a,type:f}}},{key:"drawArrowHead",value:function(a,b,c,d,e){a.strokeStyle=this.getColor(a,b,c,d);a.fillStyle=a.strokeStyle;a.lineWidth=b.width;e.type&&"circle"===e.type.toLowerCase()?a.circleEndpoint(e.point.x,e.point.y,e.angle,e.length):a.arrowEndpoint(e.point.x,e.point.y,e.angle,e.length);this.enableShadow(a,b);a.fill();this.disableShadow(a,b)}},{key:"enableShadow",value:function(a,b){!0===b.shadow&&(a.shadowColor=
b.shadowColor,a.shadowBlur=b.shadowSize,a.shadowOffsetX=b.shadowX,a.shadowOffsetY=b.shadowY)}},{key:"disableShadow",value:function(a,b){!0===b.shadow&&(a.shadowColor="rgba(0,0,0,0)",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0)}}]),b}();h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(171);var c=b(f);f=d(176);var n=b(f);f=d(135);var a=b(f);f=d(136);var e=b(f);f=d(179);var q=b(f);f=d(180);var g=b(f);d=d(205);
d=function(b){function d(b,c,e){(0,a["default"])(this,d);var g=(0,q["default"])(this,(d.__proto__||(0,n["default"])(d)).call(this,b,c,e));return g._boundFunction=function(){g.positionBezierNode()},g.body.emitter.on("_repositionBezierNodes",g._boundFunction),g}return(0,g["default"])(d,b),(0,e["default"])(d,[{key:"setOptions",value:function(a){var b=!1;this.options.physics!==a.physics&&(b=!0);this.options=a;this.id=this.options.id;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];
this.setupSupportNode();this.connect();!0===b&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",
this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var a="edgeId:"+this.id,b=this.body.functions.createNode({id:a,shape:"circle",physics:!0,hidden:!0});this.via=this.body.nodes[a]=b;this.via.parentEdgeId=this.id;this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=
.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(a,b,c){this._bezierCurve(a,b,c)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.via,d;if(this.from===this.to){d=this._getCircleData(this.from);d=(0,c["default"])(d,3);var b=d[1],e=d[2],g=2*Math.PI*(1-a);d=d[0]+e*Math.sin(g);b=b+e-e*(1-Math.cos(g))}else d=Math.pow(1-a,2)*this.fromPoint.x+2*
a*(1-a)*b.x+Math.pow(a,2)*this.toPoint.x,b=Math.pow(1-a,2)*this.fromPoint.y+2*a*(1-a)*b.y+Math.pow(a,2)*this.toPoint.y;return{x:d,y:b}}},{key:"_findBorderPosition",value:function(a,b){return this._findBorderPositionBezier(a,b,this.via)}},{key:"_getDistanceToEdge",value:function(a,b,c,d,e,g){return this._getDistanceToBezierEdge(a,b,c,d,e,g,this.via)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});
f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(205);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"_line",value:function(a,b,c){this._bezierCurve(a,b,c)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var a,b,c=this.options.smooth.roundness,
d=this.options.smooth.type,e=Math.abs(this.from.x-this.to.x),g=Math.abs(this.from.y-this.to.y);"discrete"===d||"diagonalCross"===d?(a=b=e<=g?c*g:c*e,this.from.x>this.to.x&&(a=-a),this.from.y>=this.to.y&&(b=-b),a=this.from.x+a,b=this.from.y+b,"discrete"===d&&(e<=g?a=e<c*g?this.from.x:a:b=g<c*e?this.from.y:b)):"straightCross"===d?(a=(1-c)*e,c=(1-c)*g,e<=g?(a=0,this.from.y<this.to.y&&(c=-c)):(this.from.x<this.to.x&&(a=-a),c=0),a=this.to.x+a,b=this.to.y+c):"horizontal"===d?(e*=1-c,this.from.x<this.to.x&&
(e=-e),a=this.to.x+e,b=this.from.y):"vertical"===d?(e=(1-c)*g,this.from.y<this.to.y&&(e=-e),a=this.from.x,b=this.to.y+e):"curvedCW"===d?(e=this.to.x-this.from.x,g=this.from.y-this.to.y,d=Math.sqrt(e*e+g*g),a=Math.PI,e=(Math.atan2(g,e)+(.5*c+.5)*a)%(2*a),a=this.from.x+(.5*c+.5)*d*Math.sin(e),b=this.from.y+(.5*c+.5)*d*Math.cos(e)):"curvedCCW"===d?(e=this.to.x-this.from.x,g=this.from.y-this.to.y,d=Math.sqrt(e*e+g*g),a=Math.PI,e=(Math.atan2(g,e)+(.5*-c+.5)*a)%(2*a),a=this.from.x+(.5*c+.5)*d*Math.sin(e),
b=this.from.y+(.5*c+.5)*d*Math.cos(e)):(a=c=e<=g?c*g:c*e,this.from.x>this.to.x&&(a=-a),this.from.y>=this.to.y&&(c=-c),a=this.from.x+a,b=this.from.y+c,e<=g?a=this.from.x<=this.to.x?this.to.x<a?this.to.x:a:this.to.x>a?this.to.x:a:b=this.from.y>=this.to.y?this.to.y>b?this.to.y:b:this.to.y<b?this.to.y:b);return{x:a,y:b}}},{key:"_findBorderPosition",value:function(a,b){return this._findBorderPositionBezier(a,b,(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",
value:function(a,b,c,d,e,g){var f=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(a,b,c,d,e,g,f)}},{key:"getPoint",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();return{x:Math.pow(1-a,2)*this.fromPoint.x+2*a*(1-a)*b.x+Math.pow(a,2)*this.toPoint.x,y:Math.pow(1-a,2)*this.fromPoint.y+2*a*(1-a)*b.y+Math.pow(a,2)*this.toPoint.y}}}]),d}(b(d)["default"]);h["default"]=d},function(f,
h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(206);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"_line",value:function(a,b){a.beginPath();a.moveTo(this.fromPoint.x,this.fromPoint.y);a.lineTo(this.toPoint.x,
this.toPoint.y);this.enableShadow(a,b);a.stroke();this.disableShadow(a,b)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(a){return{x:(1-a)*this.fromPoint.x+a*this.toPoint.x,y:(1-a)*this.fromPoint.y+a*this.toPoint.y}}},{key:"_findBorderPosition",value:function(a,b){var c=this.to,d=this.from;a.id===this.from.id&&(c=this.from,d=this.to);var e=c.x-d.x,g=c.y-d.y,e=Math.sqrt(e*e+g*g),g=a.distanceToBorder(b,Math.atan2(c.y-d.y,c.x-d.x)),e=(e-g)/e,g={};return g.x=(1-e)*d.x+e*c.x,g.y=
(1-e)*d.y+e*c.y,g}},{key:"_getDistanceToEdge",value:function(a,b,c,d,e,g){return this._getDistanceToLine(a,b,c,d,e,g)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(58);var c=b(f);f=d(171);var n=b(f);f=d(62);var a=b(f);f=d(135);var e=b(f);f=d(136);var q=b(f),g=d(1),m=d(211)["default"],k=function(){function a(){(0,e["default"])(this,a);this.childrenReference={};this.parentReference={};
this.levels={};this.trees={};this.isTree=!1}return(0,q["default"])(a,[{key:"addRelation",value:function(a,b){void 0===this.childrenReference[a]&&(this.childrenReference[a]=[]);this.childrenReference[a].push(b);void 0===this.parentReference[b]&&(this.parentReference[b]=[]);this.parentReference[b].push(a)}},{key:"checkIfTree",value:function(){for(var a in this.parentReference)if(1<this.parentReference[a].length)return void(this.isTree=!1);this.isTree=!0}},{key:"ensureLevel",value:function(a){void 0===
this.levels[a]&&(this.levels[a]=0)}},{key:"getMaxLevel",value:function(a){var b=this,c={};return function v(a){if(void 0!==c[a])return c[a];var d=b.levels[a];if(b.childrenReference[a]){var e=b.childrenReference[a];if(0<e.length)for(var g=0;g<e.length;g++)d=Math.max(d,v(e[g]))}return c[a]=d,d}(a)}},{key:"levelDownstream",value:function(a,b){void 0===this.levels[b.id]&&(void 0===this.levels[a.id]&&(this.levels[a.id]=0),this.levels[b.id]=this.levels[a.id]+1)}},{key:"setMinLevelToZero",value:function(a){var b=
1E9,c;for(c in a)a.hasOwnProperty(c)&&void 0!==this.levels[c]&&(b=Math.min(this.levels[c],b));for(var d in a)a.hasOwnProperty(d)&&void 0!==this.levels[d]&&(this.levels[d]-=b)}},{key:"getTreeSize",value:function(a,b){var c=1E9,d=-1E9,e=1E9,g=-1E9,f;for(f in this.trees)if(this.trees.hasOwnProperty(f)&&this.trees[f]===b)var k=a[f],c=Math.min(k.x,c),d=Math.max(k.x,d),e=Math.min(k.y,e),g=Math.max(k.y,g);return{min_x:c,max_x:d,min_y:e,max_y:g}}}]),a}();d=function(){function b(a){(0,e["default"])(this,b);
this.body=a;this.randomSeed=this.initialRandomSeed=Math.round(1E6*Math.random());this.setPhysics=!1;this.options={};this.optionsBackup={physics:{}};this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}};g.extend(this.options,this.defaultOptions);this.bindEventListeners()}return(0,q["default"])(b,[{key:"bindEventListeners",
value:function(){var a=this;this.body.emitter.on("_dataChanged",function(){a.setupHierarchicalLayout()});this.body.emitter.on("_dataLoaded",function(){a.layoutNetwork()});this.body.emitter.on("_resetHierarchicalLayout",function(){a.setupHierarchicalLayout()});this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===a.options.hierarchical.enabled){var b=a.getStaticType();a.body.emitter.emit("_forceDisableDynamicCurves",b,!1)}})}},{key:"setOptions",value:function(a,b){if(void 0!==
a){var c=this.options.hierarchical,d=c.enabled;if(g.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,a),g.mergeOptions(this.options,a,"hierarchical"),void 0!==a.randomSeed&&(this.initialRandomSeed=a.randomSeed),!0===c.enabled)return!0===d&&this.body.emitter.emit("refresh",!0),"RL"===c.direction||"DU"===c.direction?0<c.levelSeparation&&(c.levelSeparation*=-1):0>c.levelSeparation&&(c.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(b);
if(!0===d)return this.body.emitter.emit("refresh"),g.deepExtend(b,this.optionsBackup)}return b}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(b){if(!0===this.options.hierarchical.enabled){var c=this.optionsBackup.physics;void 0===b.physics||!0===b.physics?(b.physics={enabled:void 0===c.enabled||c.enabled,solver:"hierarchicalRepulsion"},c.enabled=void 0===c.enabled||c.enabled,c.solver=c.solver||"barnesHut"):"object"===(0,a["default"])(b.physics)?(c.enabled=void 0===b.physics.enabled||
b.physics.enabled,c.solver=b.physics.solver||"barnesHut",b.physics.solver="hierarchicalRepulsion"):!1!==b.physics&&(c.solver="barnesHut",b.physics={solver:"hierarchicalRepulsion"});c=this.getStaticType();if(void 0===b.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},b.edges={smooth:!1};else if(void 0===b.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},b.edges.smooth=!1;else if("boolean"==typeof b.edges.smooth)this.optionsBackup.edges={smooth:b.edges.smooth},
b.edges.smooth={enabled:b.edges.smooth,type:c};else{var d=b.edges.smooth;void 0!==d.type&&"dynamic"!==d.type&&(c=d.type);this.optionsBackup.edges={smooth:void 0===d.enabled||d.enabled,type:void 0===d.type?"dynamic":d.type,roundness:void 0===d.roundness?.5:d.roundness,forceDirection:void 0!==d.forceDirection&&d.forceDirection};b.edges.smooth={enabled:void 0===d.enabled||d.enabled,type:c,roundness:void 0===d.roundness?.5:d.roundness,forceDirection:void 0!==d.forceDirection&&d.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",
c)}return b}},{key:"seededRandom",value:function(){var a=1E4*Math.sin(this.randomSeed++);return a-Math.floor(a)}},{key:"positionInitially",value:function(a){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var b=a.length+50,c=0;c<a.length;c++){var d=a[c],e=2*Math.PI*this.seededRandom();void 0===d.x&&(d.x=b*Math.cos(e));void 0===d.y&&(d.y=b*Math.sin(e))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var a=
this.body.nodeIndices,b=0,c=0;c<a.length;c++)!0===this.body.nodes[a[c]].predefinedPosition&&(b+=1);if(b<.5*a.length){b=0;c={clusterEdgeProperties:{smooth:{enabled:!1}}};if(150<a.length){for(var d=a.length;150<a.length&&10>=b;){var b=b+1,e=a.length;0==b%3?this.body.modules.clustering.clusterBridges(c):this.body.modules.clustering.clusterOutliers(c);if(e==a.length&&0!=b%3)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,
2*d)})}10<b&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result.");this.body.modules.kamadaKawai.solve(a,this.body.edgeIndices,!0);this._shiftToCenter();for(b=0;b<a.length;b++)c=this.body.nodes[a[b]],!1===c.predefinedPosition&&(c.x+=70*(.5-this.seededRandom()),c.y+=70*(.5-this.seededRandom()));this._declusterAll();this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var a=m.getRangeCore(this.body.nodes,
this.body.nodeIndices),a=m.findCenter(a),b=0;b<this.body.nodeIndices.length;b++){var c=this.body.nodes[this.body.nodeIndices[b]];c.x-=a.x;c.y-=a.y}}},{key:"_declusterAll",value:function(){for(var a=!0;!0===a;){for(var a=!1,b=0;b<this.body.nodeIndices.length;b++)!0===this.body.nodes[this.body.nodeIndices[b]].isCluster&&(a=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[b],{},!1));!0===a&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},
{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var a=void 0,b=void 0,c=!1,d=!1;this.lastNodeOnLevel={};this.hierarchical=new k;this.treeIndex=-1;this.distributionOrdering={};this.distributionIndex={};this.distributionOrderingPresence={};for(b in this.body.nodes)this.body.nodes.hasOwnProperty(b)&&(a=this.body.nodes[b],void 0===a.options.x&&void 0===a.options.y&&!1,void 0!==a.options.level?(c=!0,this.hierarchical.levels[b]=
a.options.level):d=!0);if(!0===d&&!0===c)throw Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");!0===d&&(a=this.options.hierarchical.sortMethod,"hubsize"===a?this._determineLevelsByHubsize():"directed"===a?this._determineLevelsDirected():"custom"===a&&this._determineLevelsCustomCallback());for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.hierarchical.ensureLevel(e);e=this._getDistribution();this._generateMap();
this._placeNodesByHierarchy(e);this._condenseHierarchy();this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var a=this,b=!1,d={},e=function(b){b=a.hierarchical.getTreeSize(a.body.nodes,b);return a._isVertical()?{min:b.min_x,max:b.max_x}:{min:b.min_y,max:b.max_y}},g=function z(b,c){if(!c[b.id]&&(c[b.id]=!0,a.hierarchical.childrenReference[b.id])){var d=a.hierarchical.childrenReference[b.id];if(0<d.length)for(var e=0;e<d.length;e++)z(a.body.nodes[d[e]],c)}},f=function(b){var c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:1E9,d=1E9,e=1E9,g=1E9,f=-1E9,k;for(k in b)if(b.hasOwnProperty(k)){var h=a.body.nodes[k],m=a.hierarchical.levels[h.id],p=a._getPositionForHierarchy(h),h=a._getSpaceAroundNode(h,b),h=(0,n["default"])(h,2),q=h[1],d=Math.min(h[0],d),e=Math.min(q,e);m<=c&&(g=Math.min(p,g),f=Math.max(p,f))}return[g,f,d,e]},k=function(b,c,d){for(var e=0;e<c.length;e++){var g=a.distributionOrdering[c[e]];if(1<g.length)for(var f=0;f<g.length-1;f++){var k;a:{k=a.hierarchical.parentReference[g[f].id];
var h=a.hierarchical.parentReference[g[f+1].id];if(void 0!==k&&void 0!==h)for(var m=0;m<k.length;m++)for(var p=0;p<h.length;p++)if(k[m]==h[p]){k=!0;break a}k=!1}!0===k&&a.hierarchical.trees[g[f].id]===a.hierarchical.trees[g[f+1].id]&&b(g[f],g[f+1],d)}}},h=function(c,d){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],k=a._getPositionForHierarchy(c),h=a._getPositionForHierarchy(d),m=a.options.hierarchical.nodeSpacing;if(Math.abs(h-k)>m){h={};k={};g(c,h);g(d,k);var p;p=a.hierarchical.getMaxLevel(c.id);
var q=a.hierarchical.getMaxLevel(d.id);p=Math.min(p,q);h=f(h,p);q=(0,n["default"])(h,4);h=(q[0],q[1]);k=(q[2],q[3],f(k,p));p=(0,n["default"])(k,4);q=p[0];k=(p[1],p[2]);p[3];Math.abs(h-q)>m&&(h=h-q+m,h<-k+m&&(h=-k+m),0>h&&(a._shiftBlock(d.id,h),b=!0,!0===e&&a._centerParent(d)))}},m=function(c,e){for(var k=e.id,h=e.edges,m=a.hierarchical.levels[e.id],p=a.options.hierarchical.levelSeparation*a.options.hierarchical.levelSeparation,q={},u=[],A=0;A<h.length;A++){var y=h[A];if(y.toId!=y.fromId){var D=y.toId==
k?y.from:y.to;q[h[A].id]=D;a.hierarchical.levels[D.id]<m&&u.push(y)}}k=function(b,c){for(var d=a._getPositionForHierarchy(e),g={},f=0;f<b;f++){var k;k=d;for(var h=c,m=0,r=0;r<h.length;r++)if(void 0!==q[h[r].id])var n=a._getPositionForHierarchy(q[h[r].id])-k,m=m+n/Math.sqrt(n*n+p);k=m;h=d;m=c;for(n=r=0;n<m.length;n++)if(void 0!==q[m[n].id])var t=a._getPositionForHierarchy(q[m[n].id])-h,r=r-p*Math.pow(t*t+p,-1.5);if(d-=Math.max(-40,Math.min(40,Math.round(k/r))),void 0!==g[d])break;g[d]=f}return d};
u=k(c,u);!function(c){var k=a._getPositionForHierarchy(e);if(void 0===d[e.id]){var h={};g(e,h);d[e.id]=h}var h=f(d[e.id]),m=(0,n["default"])(h,4),h=(m[0],m[1],m[2]),m=m[3];c-=k;k=0;0<c?k=Math.min(c,m-a.options.hierarchical.nodeSpacing):0>c&&(k=-Math.min(-c,h-a.options.hierarchical.nodeSpacing));0!=k&&(a._shiftBlock(e.id,k),b=!0)}(u);u=k(c,h);(function(c){var d=a._getPositionForHierarchy(e),g=a._getSpaceAroundNode(e),f=(0,n["default"])(g,2),g=f[0],f=f[1],k=c-d,h=d;0<k?h=Math.min(d+(f-a.options.hierarchical.nodeSpacing),
c):0>k&&(h=Math.max(d-(g-a.options.hierarchical.nodeSpacing),c));h!==d&&(a._setPositionForHierarchy(e,h,void 0,!0),b=!0)})(u)};!0===this.options.hierarchical.blockShifting&&(function(d){for(var e=(0,c["default"])(a.distributionOrdering),e=e.reverse(),g=0;g<d&&(b=!1,k(h,e,!0),!0===b);g++);}(5),function(){for(var b in a.body.nodes)a.body.nodes.hasOwnProperty(b)&&a._centerParent(a.body.nodes[b])}());!0===this.options.hierarchical.edgeMinimization&&function(d){for(var e=(0,c["default"])(a.distributionOrdering),
e=e.reverse(),g=0;g<d;g++){b=!1;for(var f=0;f<e.length;f++)for(var k=a.distributionOrdering[e[f]],h=0;h<k.length;h++)m(1E3,k[h]);if(!0!==b)break}}(20);!0===this.options.hierarchical.parentCentralization&&function(){for(var b=(0,c["default"])(a.distributionOrdering),b=b.reverse(),d=0;d<b.length;d++)for(var e=a.distributionOrdering[b[d]],g=0;g<e.length;g++)a._centerParent(e[g])}();(function(){for(var b=[],c=0;c<=a.treeIndex;c++)b.push(e(c));for(var d=c=0;d<b.length-1;d++){var c=c+(b[d].max-b[d+1].min+
a.options.hierarchical.treeSpacing),g=d+1,f=c,k=void 0;for(k in a.hierarchical.trees)if(a.hierarchical.trees.hasOwnProperty(k)&&a.hierarchical.trees[k]===g){var h=a.body.nodes[k],m=a._getPositionForHierarchy(h);a._setPositionForHierarchy(h,m+f,void 0,!0)}}})()}},{key:"_getSpaceAroundNode",value:function(a,b){var c=!0;void 0===b&&(c=!1);var d=this.hierarchical.levels[a.id];if(void 0!==d){var e=this.distributionIndex[a.id],g=this._getPositionForHierarchy(a),f=this.distributionOrdering[d],k=d=1E9;if(0!==
e){var h=f[e-1];if(!0===c&&void 0===b[h.id]||!1===c)d=g-this._getPositionForHierarchy(h)}e!=f.length-1&&(e=f[e+1],!0===c&&void 0===b[e.id]||!1===c)&&(c=this._getPositionForHierarchy(e),k=Math.min(k,c-g));return[d,k]}return[0,0]}},{key:"_centerParent",value:function(a){if(this.hierarchical.parentReference[a.id]){a=this.hierarchical.parentReference[a.id];for(var b=0;b<a.length;b++){var c=a[b],d=this.body.nodes[c],c=this.hierarchical.childrenReference[c];if(void 0!==c){var c=this._getCenterPosition(c),
e=this._getPositionForHierarchy(d),g=this._getSpaceAroundNode(d),f=(0,n["default"])(g,2),g=f[0],f=f[1],e=e-c;(0>e&&Math.abs(e)<f-this.options.hierarchical.nodeSpacing||0<e&&Math.abs(e)<g-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(d,c,void 0,!0)}}}}},{key:"_placeNodesByHierarchy",value:function(a){this.positionedNodes={};for(var b in a)if(a.hasOwnProperty(b)){var d=(0,c["default"])(a[b]),d=this._indexArrayToNodes(d);this._sortNodeArray(d);for(var e=0,g=0;g<d.length;g++){var f=
d[g];if(void 0===this.positionedNodes[f.id]){var k=this.options.hierarchical.nodeSpacing,h=k*e;0<e&&(h=this._getPositionForHierarchy(d[g-1])+k);this._setPositionForHierarchy(f,h,b);this._validatePositionAndContinue(f,b,h);e++}}}}},{key:"_placeBranchNodes",value:function(a,b){var c=this.hierarchical.childrenReference[a];if(void 0!==c){for(var d=[],e=0;e<c.length;e++)d.push(this.body.nodes[c[e]]);this._sortNodeArray(d);for(c=0;c<d.length;c++){var e=d[c],g=this.hierarchical.levels[e.id];if(!(g>b&&void 0===
this.positionedNodes[e.id]))return;var f=this.options.hierarchical.nodeSpacing,f=0===c?this._getPositionForHierarchy(this.body.nodes[a]):this._getPositionForHierarchy(d[c-1])+f;this._setPositionForHierarchy(e,f,g);this._validatePositionAndContinue(e,g,f)}d=this._getCenterPosition(d);this._setPositionForHierarchy(this.body.nodes[a],d,b)}}},{key:"_validatePositionAndContinue",value:function(a,b,c){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[b]){var d=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[b]]);
c-d<this.options.hierarchical.nodeSpacing&&(c=d+this.options.hierarchical.nodeSpacing-c,d=this._findCommonParent(this.lastNodeOnLevel[b],a.id),this._shiftBlock(d.withChild,c))}this.lastNodeOnLevel[b]=a.id;this.positionedNodes[a.id]=!0;this._placeBranchNodes(a.id,b)}}},{key:"_indexArrayToNodes",value:function(a){for(var b=[],c=0;c<a.length;c++)b.push(this.body.nodes[a[c]]);return b}},{key:"_getDistribution",value:function(){var a={},b=void 0,c;for(b in this.body.nodes)if(this.body.nodes.hasOwnProperty(b)){c=
this.body.nodes[b];var d=void 0===this.hierarchical.levels[b]?0:this.hierarchical.levels[b];this._isVertical()?(c.y=this.options.hierarchical.levelSeparation*d,c.options.fixed.y=!0):(c.x=this.options.hierarchical.levelSeparation*d,c.options.fixed.x=!0);void 0===a[d]&&(a[d]={});a[d][b]=c}return a}},{key:"_getActiveEdges",value:function(a){var b=[],c;for(c in a.edges){var d=a.edges[c];-1!==this.body.edgeIndices.indexOf(d.id)&&b.push(d)}return b}},{key:"_getHubSizes",value:function(){var a={},b=this.body.nodeIndices,
c;for(c in b)a[this._getActiveEdges(this.body.nodes[b[c]]).length]=!0;var b=[],d;for(d in a)b.push(Number(d));return b.sort(function(a,b){return b-a}),b}},{key:"_determineLevelsByHubsize",value:function(){for(var a=this,b=function(b,c){a.hierarchical.levelDownstream(b,c)},c=this._getHubSizes(),d=0;d<c.length;++d){var e=c[d];if(0===e)break;var g=this.body.nodeIndices,f;for(f in g){var k=g[f];e===this._getActiveEdges(this.body.nodes[k]).length&&this._crawlNetwork(b,k)}}}},{key:"_determineLevelsCustomCallback",
value:function(){var a=this;this._crawlNetwork(function(b,c,d){var e=a.hierarchical.levels[b.id];void 0===e&&(e=a.hierarchical.levels[b.id]=1E5);b=(m.cloneOptions(b,"node"),m.cloneOptions(c,"node"),void m.cloneOptions(d,"edge"));a.hierarchical.levels[c.id]=e+b});this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var a=this;this._crawlNetwork(function(b,c,d){var e=a.hierarchical.levels[b.id];void 0===e&&(e=a.hierarchical.levels[b.id]=1E4);d.toId==
c.id?a.hierarchical.levels[c.id]=e+1:a.hierarchical.levels[c.id]=e-1});this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var a=this;this._crawlNetwork(function(b,c){a.hierarchical.levels[c.id]>a.hierarchical.levels[b.id]&&a.hierarchical.addRelation(b.id,c.id)});this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},c=arguments[1],d={},e=0,g=function y(c,e){if(void 0===
d[c.id]){void 0===a.hierarchical.trees[c.id]&&(a.hierarchical.trees[c.id]=e,a.treeIndex=Math.max(e,a.treeIndex));d[c.id]=!0;for(var g=void 0,f=a._getActiveEdges(c),k=0;k<f.length;k++){var h=f[k];!0===h.connected&&(g=h.toId==c.id?h.from:h.to,c.id!=g.id&&(b(c,g,h),y(g,e)))}}};if(void 0===c)for(c=0;c<this.body.nodeIndices.length;c++){var f=this.body.nodes[this.body.nodeIndices[c]];void 0===d[f.id]&&(g(f,e),e+=1)}else{e=this.body.nodes[c];if(void 0===e)return void console.error("Node not found:",c);g(e)}}},
{key:"_shiftBlock",value:function(a,b){var c=this,d={};!function C(a){if(!d[a]&&(d[a]=!0,c._isVertical()?c.body.nodes[a].x+=b:c.body.nodes[a].y+=b,a=c.hierarchical.childrenReference[a],void 0!==a))for(var e=0;e<a.length;e++)C(a[e])}(a)}},{key:"_findCommonParent",value:function(a,b){var c=this,d={};return function C(a,b){var d=c.hierarchical.parentReference[b];if(void 0!==d)for(var e=0;e<d.length;e++){var g=d[e];a[g]=!0;C(a,g)}}(d,a),function A(a,b){var d=c.hierarchical.parentReference[b];if(void 0!==
d)for(var e=0;e<d.length;e++){var g=d[e];if(void 0!==a[g])return{foundParent:g,withChild:b};g=A(a,g);if(null!==g.foundParent)return g}return{foundParent:null,withChild:b}}(d,b)}},{key:"_setPositionForHierarchy",value:function(a,b,c){!0!==(3<arguments.length&&void 0!==arguments[3]&&arguments[3])&&(void 0===this.distributionOrdering[c]&&(this.distributionOrdering[c]=[],this.distributionOrderingPresence[c]={}),void 0===this.distributionOrderingPresence[c][a.id]&&(this.distributionOrdering[c].push(a),
this.distributionIndex[a.id]=this.distributionOrdering[c].length-1),this.distributionOrderingPresence[c][a.id]=!0);this._isVertical()?a.x=b:a.y=b}},{key:"_isVertical",value:function(){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction}},{key:"_getPositionForHierarchy",value:function(a){return this._isVertical()?a.x:a.y}},{key:"_sortNodeArray",value:function(a){1<a.length&&(this._isVertical()?a.sort(function(a,b){return a.x-b.x}):a.sort(function(a,b){return a.y-
b.y}))}},{key:"getStaticType",value:function(){var a="horizontal";return this._isVertical()||(a="vertical"),a}},{key:"_getCenterPosition",value:function(a){for(var b=1E9,c=-1E9,d=0;d<a.length;d++)var e=this._getPositionForHierarchy(void 0!==a[d].id?a[d]:this.body.nodes[a[d]]),b=Math.min(b,e),c=Math.max(c,e);return.5*(b+c)}}]),b}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},
n=d(1);d=function(){function a(){(0,b["default"])(this,a)}return(0,c["default"])(a,null,[{key:"getRange",value:function(a){var b,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=1E9,f=-1E9,h=1E9,l=-1E9;if(0<c.length)for(var r=0;r<c.length;r++)b=a[c[r]],h>b.shape.boundingBox.left&&(h=b.shape.boundingBox.left),l<b.shape.boundingBox.right&&(l=b.shape.boundingBox.right),d>b.shape.boundingBox.top&&(d=b.shape.boundingBox.top),f<b.shape.boundingBox.bottom&&(f=b.shape.boundingBox.bottom);return 1E9===
h&&-1E9===l&&1E9===d&&-1E9===f&&(d=0,f=0,h=0,l=0),{minX:h,maxX:l,minY:d,maxY:f}}},{key:"getRangeCore",value:function(a){var b,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=1E9,f=-1E9,h=1E9,l=-1E9;if(0<c.length)for(var r=0;r<c.length;r++)b=a[c[r]],h>b.x&&(h=b.x),l<b.x&&(l=b.x),d>b.y&&(d=b.y),f<b.y&&(f=b.y);return 1E9===h&&-1E9===l&&1E9===d&&-1E9===f&&(d=0,f=0,h=0,l=0),{minX:h,maxX:l,minY:d,maxY:f}}},{key:"findCenter",value:function(a){return{x:.5*(a.maxX+a.minX),y:.5*(a.maxY+a.minY)}}},
{key:"cloneOptions",value:function(a,b){var c={};return void 0===b||"node"===b?(n.deepExtend(c,a.options,!0),c.x=a.x,c.y=a.y,c.amountOfConnections=a.edges.length):n.deepExtend(c,a.options,!0),c}}]),a}();h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(58);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f),e=d(213)["default"],q=d(214)["default"],g=d(215)["default"],m=d(216)["default"],k=d(217)["default"],p=d(218)["default"],
l=d(219)["default"],r=d(220)["default"],t=d(1);d=function(){function b(a){(0,n["default"])(this,b);this.body=a;this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}};this.physicsEnabled=!0;this.simulationInterval=1E3/60;this.requiresTimeout=!0;this.previousStates={};this.referenceState={};this.freezeCache={};this.renderTimer=void 0;this.adaptiveTimestepEnabled=this.adaptiveTimestep=!1;this.adaptiveCounter=0;this.adaptiveInterval=3;this.startedStabilization=this.stabilized=
!1;this.stabilizationIterations=0;this.ready=!1;this.options={};this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2E3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,
springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1E3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0};t.extend(this.options,this.defaultOptions);this.timestep=.5;this.layoutFailed=!1;this.bindEventListeners()}return(0,a["default"])(b,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("initPhysics",function(){a.initPhysics()});this.body.emitter.on("_layoutFailed",
function(){a.layoutFailed=!0});this.body.emitter.on("resetPhysics",function(){a.stopSimulation();a.ready=!1});this.body.emitter.on("disablePhysics",function(){a.physicsEnabled=!1;a.stopSimulation()});this.body.emitter.on("restorePhysics",function(){a.setOptions(a.options);!0===a.ready&&a.startSimulation()});this.body.emitter.on("startSimulation",function(){!0===a.ready&&a.startSimulation()});this.body.emitter.on("stopSimulation",function(){a.stopSimulation()});this.body.emitter.on("destroy",function(){a.stopSimulation(!1);
a.body.emitter.off()});this.body.emitter.on("_dataChanged",function(){a.updatePhysicsData()})}},{key:"setOptions",value:function(a){void 0!==a&&(!1===a?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,t.selectiveNotDeepExtend(["stabilization"],this.options,a),t.mergeOptions(this.options,a,"stabilization"),void 0===a.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep));
this.init()}},{key:"init",value:function(){var a;"forceAtlas2Based"===this.options.solver?(a=this.options.forceAtlas2Based,this.nodesSolver=new l(this.body,this.physicsBody,a),this.edgesSolver=new m(this.body,this.physicsBody,a),this.gravitySolver=new r(this.body,this.physicsBody,a)):"repulsion"===this.options.solver?(a=this.options.repulsion,this.nodesSolver=new q(this.body,this.physicsBody,a),this.edgesSolver=new m(this.body,this.physicsBody,a),this.gravitySolver=new p(this.body,this.physicsBody,
a)):"hierarchicalRepulsion"===this.options.solver?(a=this.options.hierarchicalRepulsion,this.nodesSolver=new g(this.body,this.physicsBody,a),this.edgesSolver=new k(this.body,this.physicsBody,a),this.gravitySolver=new p(this.body,this.physicsBody,a)):(a=this.options.barnesHut,this.nodesSolver=new e(this.body,this.physicsBody,a),this.edgesSolver=new m(this.body,this.physicsBody,a),this.gravitySolver=new p(this.body,this.physicsBody,a));this.modelOptions=a}},{key:"initPhysics",value:function(){!0===
this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),
this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var a=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.stabilized=!0;!0===a&&this._emitStabilized();void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===a&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var a=Date.now();
this.physicsTick();(Date.now()-a<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0);!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout(function(){a.body.emitter.emit("stabilized",{iterations:b});a.startedStabilization=!1;a.stabilizationIterations=
0},0)}},{key:"physicsTick",value:function(){if(!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),!1===this.stabilized)!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(0==this.adaptiveCounter%this.adaptiveInterval?(this.timestep*=2,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep*=.5,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),!0===this._evaluateStepQuality()?this.timestep*=
1.2:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={};this.physicsBody.physicsNodeIndices=[];this.physicsBody.physicsEdgeIndices=
[];var a=this.body.nodes,b=this.body.edges,c;for(c in a)a.hasOwnProperty(c)&&!0===a[c].options.physics&&this.physicsBody.physicsNodeIndices.push(a[c].id);for(var d in b)b.hasOwnProperty(d)&&!0===b[d].options.physics&&this.physicsBody.physicsEdgeIndices.push(b[d].id);for(b=0;b<this.physicsBody.physicsNodeIndices.length;b++)c=this.physicsBody.physicsNodeIndices[b],this.physicsBody.forces[c]={x:0,y:0},void 0===this.physicsBody.velocities[c]&&(this.physicsBody.velocities[c]={x:0,y:0});for(var e in this.physicsBody.velocities)void 0===
a[e]&&delete this.physicsBody.velocities[e]}},{key:"revert",value:function(){var a=(0,c["default"])(this.previousStates),b=this.body.nodes,d=this.physicsBody.velocities;this.referenceState={};for(var e=0;e<a.length;e++){var g=a[e];void 0!==b[g]?!0===b[g].options.physics&&(this.referenceState[g]={positions:{x:b[g].x,y:b[g].y}},d[g].x=this.previousStates[g].vx,d[g].y=this.previousStates[g].vy,b[g].x=this.previousStates[g].x,b[g].y=this.previousStates[g].y):delete this.previousStates[g]}}},{key:"_evaluateStepQuality",
value:function(){var a=void 0,b=void 0,c=this.body.nodes,d=this.referenceState,e;for(e in this.referenceState)if(this.referenceState.hasOwnProperty(e)&&void 0!==c[e]&&(a=c[e].x-d[e].positions.x,b=c[e].y-d[e].positions.y,.3<Math.sqrt(Math.pow(a,2)+Math.pow(b,2))))return!1;return!0}},{key:"moveNodes",value:function(){for(var a=this.physicsBody.physicsNodeIndices,b=this.options.maxVelocity?this.options.maxVelocity:1E9,c=0,d=0,e=0;e<a.length;e++)var g=this._performStep(a[e],b),c=Math.max(c,g),d=d+g;this.adaptiveTimestepEnabled=
5>d/a.length;this.stabilized=c<this.options.minVelocity}},{key:"_performStep",value:function(a,b){var c=this.body.nodes[a],d=this.timestep,e=this.physicsBody.forces,g=this.physicsBody.velocities;(this.previousStates[a]={x:c.x,y:c.y,vx:g[a].x,vy:g[a].y},!1===c.options.fixed.x)?(g[a].x+=(e[a].x-this.modelOptions.damping*g[a].x)/c.options.mass*d,g[a].x=Math.abs(g[a].x)>b?0<g[a].x?b:-b:g[a].x,c.x+=g[a].x*d):(e[a].x=0,g[a].x=0);!1===c.options.fixed.y?(g[a].y+=(e[a].y-this.modelOptions.damping*g[a].y)/
c.options.mass*d,g[a].y=Math.abs(g[a].y)>b?0<g[a].y?b:-b:g[a].y,c.y+=g[a].y*d):(e[a].y=0,g[a].y=0);return Math.sqrt(Math.pow(g[a].x,2)+Math.pow(g[a].y,2))}},{key:"calculateForces",value:function(){this.gravitySolver.solve();this.nodesSolver.solve();this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var a=this.body.nodes,b;for(b in a)a.hasOwnProperty(b)&&a[b].x&&a[b].y&&(this.freezeCache[b]={x:a[b].options.fixed.x,y:a[b].options.fixed.y},a[b].options.fixed.x=!0,a[b].options.fixed.y=!0)}},
{key:"_restoreFrozenNodes",value:function(){var a=this.body.nodes,b;for(b in a)a.hasOwnProperty(b)&&void 0!==this.freezeCache[b]&&(a[b].options.fixed.x=this.freezeCache[b].x,a[b].options.fixed.y=this.freezeCache[b].y);this.freezeCache={}}},{key:"stabilize",value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;if("number"!=typeof b&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),
b=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length)return void(this.ready=!0);this.adaptiveTimestep=this.options.adaptiveTimestep;this.body.emitter.emit("_resizeNodes");this.stopSimulation();this.stabilized=!1;this.body.emitter.emit("_blockRedraw");this.targetIterations=b;!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes();this.stabilizationIterations=0;setTimeout(function(){return a._stabilizationBatch()},0)}},{key:"_stabilizationBatch",value:function(){var a=
this,b=function(){a.body.emitter.emit("stabilizationProgress",{iterations:a.stabilizationIterations,total:a.targetIterations})};!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,b());for(var c=0;!1===a.stabilized&&a.stabilizationIterations<a.targetIterations&&c<this.options.stabilization.updateInterval;)this.physicsTick(),c++;b();!1===a.stabilized&&a.stabilizationIterations<a.targetIterations?setTimeout(this._stabilizationBatch.bind(this),0):
this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw");!0===this.options.stabilization.fit&&this.body.emitter.emit("fit");!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes();this.body.emitter.emit("stabilizationIterationsDone");this.body.emitter.emit("_requestRedraw");!0===this.stabilized?this._emitStabilized():this.startSimulation();this.ready=!0}},{key:"_drawForces",value:function(a){for(var b=0;b<this.physicsBody.physicsNodeIndices.length;b++){var c=
this.body.nodes[this.physicsBody.physicsNodeIndices[b]],d=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[b]],e=Math.sqrt(Math.pow(d.x,2)+Math.pow(d.x,2)),g=Math.min(Math.max(5,e),15),f=3*g,e=t.HSVToHex((180-180*Math.min(1,Math.max(0,.03*e)))/360,1,1);a.lineWidth=g;a.strokeStyle=e;a.beginPath();a.moveTo(c.x,c.y);a.lineTo(c.x+20*d.x,c.y+20*d.y);a.stroke();g=Math.atan2(d.y,d.x);a.fillStyle=e;a.arrowEndpoint(c.x+20*d.x+Math.cos(g)*f,c.y+20*d.y+Math.sin(g)*f,g,f);a.fill()}}}]),b}();h["default"]=
d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(a,c,f){(0,b["default"])(this,d);this.body=a;this.physicsBody=c;this.barnesHutTree;this.setOptions(f);this.randomSeed=5}return(0,c["default"])(d,[{key:"setOptions",value:function(a){this.options=a;this.thetaInversed=1/this.options.theta;this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",
value:function(){var a=1E4*Math.sin(this.randomSeed++);return a-Math.floor(a)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var a,b=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=c.length,f=this._formBarnesHutTree(b,c);this.barnesHutTree=f;for(var k=0;k<d;k++)a=b[c[k]],0<a.options.mass&&(this._getForceContribution(f.root.children.NW,a),this._getForceContribution(f.root.children.NE,a),this._getForceContribution(f.root.children.SW,
a),this._getForceContribution(f.root.children.SE,a))}}},{key:"_getForceContribution",value:function(a,b){if(0<a.childrenCount){var c,d,f;c=a.centerOfMass.x-b.x;d=a.centerOfMass.y-b.y;f=Math.sqrt(c*c+d*d);f*a.calcSize>this.thetaInversed?this._calculateForces(f,c,d,b,a):4===a.childrenCount?(this._getForceContribution(a.children.NW,b),this._getForceContribution(a.children.NE,b),this._getForceContribution(a.children.SW,b),this._getForceContribution(a.children.SE,b)):a.children.data.id!=b.id&&this._calculateForces(f,
c,d,b,a)}}},{key:"_calculateForces",value:function(a,b,c,d,f){0===a&&(a=.1,b=a);1>this.overlapAvoidanceFactor&&d.shape.radius&&(a=Math.max(.1+this.overlapAvoidanceFactor*d.shape.radius,a-d.shape.radius));a=this.options.gravitationalConstant*f.mass*d.options.mass/Math.pow(a,3);this.physicsBody.forces[d.id].x+=b*a;this.physicsBody.forces[d.id].y+=c*a}},{key:"_formBarnesHutTree",value:function(a,b){var c,d=b.length,f=a[b[0]].x;c=a[b[0]].y;for(var k=a[b[0]].x,h=a[b[0]].y,l=1;l<d;l++){var r=a[b[l]].x,
n=a[b[l]].y;0<a[b[l]].options.mass&&(r<f&&(f=r),r>k&&(k=r),n<c&&(c=n),n>h&&(h=n))}l=Math.abs(k-f)-Math.abs(h-c);0<l?(c-=.5*l,h+=.5*l):(f+=.5*l,k-=.5*l);l=Math.max(1E-5,Math.abs(k-f));r=.5*l;f=.5*(f+k);c=.5*(c+h);h={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-r,maxX:f+r,minY:c-r,maxY:c+r},size:l,calcSize:1/l,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(h.root);for(f=0;f<d;f++)c=a[b[f]],0<c.options.mass&&this._placeInTree(h.root,c);return h}},{key:"_updateBranchMass",
value:function(a,b){var c=a.mass+b.options.mass,d=1/c;a.centerOfMass.x=a.centerOfMass.x*a.mass+b.x*b.options.mass;a.centerOfMass.x*=d;a.centerOfMass.y=a.centerOfMass.y*a.mass+b.y*b.options.mass;a.centerOfMass.y*=d;a.mass=c;c=Math.max(Math.max(b.height,b.radius),b.width);a.maxWidth=a.maxWidth<c?c:a.maxWidth}},{key:"_placeInTree",value:function(a,b,c){1==c&&void 0!==c||this._updateBranchMass(a,b);a.children.NW.range.maxX>b.x?a.children.NW.range.maxY>b.y?this._placeInRegion(a,b,"NW"):this._placeInRegion(a,
b,"SW"):a.children.NW.range.maxY>b.y?this._placeInRegion(a,b,"NE"):this._placeInRegion(a,b,"SE")}},{key:"_placeInRegion",value:function(a,b,c){switch(a.children[c].childrenCount){case 0:a.children[c].children.data=b;a.children[c].childrenCount=1;this._updateBranchMass(a.children[c],b);break;case 1:a.children[c].children.data.x===b.x&&a.children[c].children.data.y===b.y?(b.x+=this.seededRandom(),b.y+=this.seededRandom()):(this._splitBranch(a.children[c]),this._placeInTree(a.children[c],b));break;case 4:this._placeInTree(a.children[c],
b)}}},{key:"_splitBranch",value:function(a){var b=null;1===a.childrenCount&&(b=a.children.data,a.mass=0,a.centerOfMass.x=0,a.centerOfMass.y=0);a.childrenCount=4;a.children.data=null;this._insertRegion(a,"NW");this._insertRegion(a,"NE");this._insertRegion(a,"SW");this._insertRegion(a,"SE");null!=b&&this._placeInTree(a,b)}},{key:"_insertRegion",value:function(a,b){var c=void 0,d=void 0,f=void 0,k=void 0,h=.5*a.size;switch(b){case "NW":c=a.range.minX;d=a.range.minX+h;f=a.range.minY;k=a.range.minY+h;
break;case "NE":c=a.range.minX+h;d=a.range.maxX;f=a.range.minY;k=a.range.minY+h;break;case "SW":c=a.range.minX;d=a.range.minX+h;f=a.range.minY+h;k=a.range.maxY;break;case "SE":c=a.range.minX+h,d=a.range.maxX,f=a.range.minY+h,k=a.range.maxY}a.children[b]={centerOfMass:{x:0,y:0},mass:0,range:{minX:c,maxX:d,minY:f,maxY:k},size:.5*a.size,calcSize:2*a.calcSize,children:{data:null},maxWidth:0,level:a.level+1,childrenCount:0}}},{key:"_debug",value:function(a,b){void 0!==this.barnesHutTree&&(a.lineWidth=
1,this._drawBranch(this.barnesHutTree.root,a,b))}},{key:"_drawBranch",value:function(a,b,c){void 0===c&&(c="#FF0000");4===a.childrenCount&&(this._drawBranch(a.children.NW,b),this._drawBranch(a.children.NE,b),this._drawBranch(a.children.SE,b),this._drawBranch(a.children.SW,b));b.strokeStyle=c;b.beginPath();b.moveTo(a.range.minX,a.range.minY);b.lineTo(a.range.maxX,a.range.minY);b.stroke();b.beginPath();b.moveTo(a.range.maxX,a.range.minY);b.lineTo(a.range.maxX,a.range.maxY);b.stroke();b.beginPath();
b.moveTo(a.range.maxX,a.range.maxY);b.lineTo(a.range.minX,a.range.maxY);b.stroke();b.beginPath();b.moveTo(a.range.minX,a.range.maxY);b.lineTo(a.range.minX,a.range.minY);b.stroke()}}]),d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(a,c,f){(0,b["default"])(this,d);this.body=a;this.physicsBody=c;this.setOptions(f)}return(0,c["default"])(d,[{key:"setOptions",
value:function(a){this.options=a}},{key:"solve",value:function(){for(var a,b,c,d,f,k,h,l,r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,v=this.options.nodeDistance,C=-2/3/v,A=0;A<n.length-1;A++){h=r[n[A]];for(var D=A+1;D<n.length;D++)l=r[n[D]],a=l.x-h.x,b=l.y-h.y,c=Math.sqrt(a*a+b*b),0===c&&(c=.1*Math.random(),a=c),c<2*v&&(k=c<.5*v?1:C*c+4/3,k/=c,d=a*k,f=b*k,u[h.id].x-=d,u[h.id].y-=f,u[l.id].x+=d,u[l.id].y+=f)}}}]),d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,
"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(a,c,f){(0,b["default"])(this,d);this.body=a;this.physicsBody=c;this.setOptions(f)}return(0,c["default"])(d,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){var a,b,c,d,f,k,h,l,r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,v=this.options.nodeDistance;for(h=0;h<n.length-1;h++)for(f=r[n[h]],l=
h+1;l<n.length;l++)if(k=r[n[l]],f.level===k.level)a=k.x-f.x,b=k.y-f.y,c=Math.sqrt(a*a+b*b),d=c<v?-Math.pow(.05*c,2)+Math.pow(.05*v,2):0,0===c||(d/=c),a*=d,b*=d,u[f.id].x-=a,u[f.id].y-=b,u[k.id].x+=a,u[k.id].y+=b}}]),d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(a,c,f){(0,b["default"])(this,d);this.body=a;this.physicsBody=c;this.setOptions(f)}return(0,
c["default"])(d,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){for(var a=void 0,b,c=this.physicsBody.physicsEdgeIndices,d=this.body.edges,f=void 0,k=void 0,h=void 0,l=0;l<c.length;l++)b=d[c[l]],!0===b.connected&&b.toId!==b.fromId&&void 0!==this.body.nodes[b.toId]&&void 0!==this.body.nodes[b.fromId]&&(void 0!==b.edgeType.via?(a=void 0===b.options.length?this.options.springLength:b.options.length,f=b.to,k=b.edgeType.via,h=b.from,this._calculateSpringForce(f,k,.5*
a),this._calculateSpringForce(k,h,.5*a)):(a=void 0===b.options.length?1.5*this.options.springLength:b.options.length,this._calculateSpringForce(b.from,b.to,a)))}},{key:"_calculateSpringForce",value:function(a,b,c){var d=a.x-b.x,f=a.y-b.y,k=Math.max(Math.sqrt(d*d+f*f),.01);c=this.options.springConstant*(c-k)/k;d*=c;f*=c;void 0!==this.physicsBody.forces[a.id]&&(this.physicsBody.forces[a.id].x+=d,this.physicsBody.forces[a.id].y+=f);void 0!==this.physicsBody.forces[b.id]&&(this.physicsBody.forces[b.id].x-=
d,this.physicsBody.forces[b.id].y-=f)}}]),d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(a,c,f){(0,b["default"])(this,d);this.body=a;this.physicsBody=c;this.setOptions(f)}return(0,c["default"])(d,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){var a,b,c,d,f,k,h,l,r=this.body.edges,n=this.physicsBody.physicsEdgeIndices,
u=this.physicsBody.physicsNodeIndices,v=this.physicsBody.forces;for(b=0;b<u.length;b++){var C=u[b];v[C].springFx=0;v[C].springFy=0}for(C=0;C<n.length;C++)b=r[n[C]],!0===b.connected&&(a=void 0===b.options.length?this.options.springLength:b.options.length,c=b.from.x-b.to.x,d=b.from.y-b.to.y,l=Math.sqrt(c*c+d*d),l=0===l?.01:l,h=this.options.springConstant*(a-l)/l,f=c*h,k=d*h,b.to.level!=b.from.level?(void 0!==v[b.toId]&&(v[b.toId].springFx-=f,v[b.toId].springFy-=k),void 0!==v[b.fromId]&&(v[b.fromId].springFx+=
f,v[b.fromId].springFy+=k)):(void 0!==v[b.toId]&&(v[b.toId].x-=.5*f,v[b.toId].y-=.5*k),void 0!==v[b.fromId]&&(v[b.fromId].x+=.5*f,v[b.fromId].y+=.5*k)));h=1;for(d=0;d<u.length;d++)f=u[d],a=Math.min(h,Math.max(-h,v[f].springFx)),c=Math.min(h,Math.max(-h,v[f].springFy)),v[f].x+=a,v[f].y+=c;for(c=h=a=0;c<u.length;c++)d=u[c],a+=v[d].x,h+=v[d].y;a/=u.length;h/=u.length;for(c=0;c<u.length;c++)d=u[c],v[d].x-=a,v[d].y-=h}}]),d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});
var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(a,c,f){(0,b["default"])(this,d);this.body=a;this.physicsBody=c;this.setOptions(f)}return(0,c["default"])(d,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){for(var a,b,c,d,f=this.body.nodes,k=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,l=0;l<k.length;l++)d=f[k[l]],a=-d.x,b=-d.y,c=Math.sqrt(a*a+b*b),this._calculateForces(c,a,b,h,d)}},
{key:"_calculateForces",value:function(a,b,c,d,f){a=0===a?0:this.options.centralGravity/a;d[f.id].x=b*a;d[f.id].y=c*a}}]),d}();h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(213);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,
b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"_calculateForces",value:function(a,b,c,d,g){0===a&&(a=.1*Math.random(),b=a);1>this.overlapAvoidanceFactor&&d.shape.radius&&(a=Math.max(.1+this.overlapAvoidanceFactor*d.shape.radius,a-d.shape.radius));a=this.options.gravitationalConstant*g.mass*d.options.mass*(d.edges.length+1)/Math.pow(a,2);this.physicsBody.forces[d.id].x+=b*a;this.physicsBody.forces[d.id].y+=c*a}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&
a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);f=d(179);var e=b(f);f=d(180);var q=b(f);d=d(218);d=function(b){function d(a,b,g){return(0,n["default"])(this,d),(0,e["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,a,b,g))}return(0,q["default"])(d,b),(0,a["default"])(d,[{key:"_calculateForces",value:function(a,b,c,d,e){0<a&&(a=this.options.centralGravity*(e.edges.length+1)*e.options.mass,d[e.id].x=
b*a,d[e.id].y=c*a)}}]),d}(b(d)["default"]);h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(58);var c=b(f);f=d(62);var n=b(f);f=d(135);var a=b(f);f=d(136);var e=b(f),q=d(1),g=d(211)["default"],m=d(222)["default"];d=function(){function b(c){var d=this;(0,a["default"])(this,b);this.body=c;this.clusteredNodes={};this.clusteredEdges={};this.options={};this.defaultOptions={};q.extend(this.options,this.defaultOptions);
this.body.emitter.on("_resetData",function(){d.clusteredNodes={};d.clusteredEdges={}})}return(0,e["default"])(b,[{key:"clusterByHubsize",value:function(a,b){void 0===a?a=this._getHubSize():"object"===(void 0===a?"undefined":(0,n["default"])(a))&&(b=this._checkOptions(a),a=this._getHubSize());for(var c=[],d=0;d<this.body.nodeIndices.length;d++){var e=this.body.nodes[this.body.nodeIndices[d]];e.edges.length>=a&&c.push(e.id)}for(d=0;d<c.length;d++)this.clusterByConnection(c[d],b,!0);this.body.emitter.emit("_dataChanged")}},
{key:"cluster",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0===a.joinCondition)throw Error("Cannot call clusterByNodeData without a joinCondition function in the options.");for(var a=this._checkOptions(a),c={},d={},e=0;e<this.body.nodeIndices.length;e++){var f=this.body.nodeIndices[e],h=this.body.nodes[f],k=g.cloneOptions(h);if(!0===a.joinCondition(k))for(c[f]=this.body.nodes[f],f=0;f<h.edges.length;f++)k=
h.edges[f],void 0===this.clusteredEdges[k.id]&&(d[k.id]=k)}this._cluster(c,d,a,b)}},{key:"clusterByEdgeCount",value:function(a,b){var d=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];b=this._checkOptions(b);for(var e=[],f={},h,k,m,q=void 0,n,w=0;w<this.body.nodeIndices.length;w++){var z={},x={};if(q=this.body.nodeIndices[w],void 0===f[q]){n=0;m=this.body.nodes[q];k=[];for(var B=0;B<m.edges.length;B++)h=m.edges[B],void 0===this.clusteredEdges[h.id]&&(h.toId!==h.fromId&&n++,k.push(h));if(n===
a){m=!0;for(n=0;n<k.length;n++){h=k[n];B=this._getConnectedId(h,q);if(void 0===b.joinCondition)x[h.id]=h,z[q]=this.body.nodes[q],z[B]=this.body.nodes[B];else{B=g.cloneOptions(this.body.nodes[q]);if(!0!==b.joinCondition(B)){m=!1;break}x[h.id]=h;z[q]=this.body.nodes[q]}f[q]=!0}0<(0,c["default"])(z).length&&0<(0,c["default"])(x).length&&!0===m&&e.push({nodes:z,edges:x})}}}for(f=0;f<e.length;f++)this._cluster(e[f].nodes,e[f].edges,b,!1);!0===d&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",
value:function(a){this.clusterByEdgeCount(1,a,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(a){this.clusterByEdgeCount(2,a,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(a,b){var d=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===a)throw Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[a])throw Error("The nodeId given to clusterByConnection does not exist!");
var e=this.body.nodes[a];b=this._checkOptions(b,e);void 0===b.clusterNodeProperties.x&&(b.clusterNodeProperties.x=e.x);void 0===b.clusterNodeProperties.y&&(b.clusterNodeProperties.y=e.y);void 0===b.clusterNodeProperties.fixed&&(b.clusterNodeProperties.fixed={},b.clusterNodeProperties.fixed.x=e.options.fixed.x,b.clusterNodeProperties.fixed.y=e.options.fixed.y);var f={},h={},k=e.id,m=g.cloneOptions(e);f[k]=e;for(var q=0;q<e.edges.length;q++){var n=e.edges[q];if(void 0===this.clusteredEdges[n.id]){var w=
this._getConnectedId(n,k);if(void 0===this.clusteredNodes[w])if(w!==k)if(void 0===b.joinCondition)h[n.id]=n,f[w]=this.body.nodes[w];else{var z=g.cloneOptions(this.body.nodes[w]);!0===b.joinCondition(m,z)&&(h[n.id]=n,f[w]=this.body.nodes[w])}else h[n.id]=n}}e=(0,c["default"])(f).map(function(a){return f[a].id});for(x in f)for(var x=f[x],k=0;k<x.edges.length;k++)m=x.edges[k],-1<e.indexOf(this._getConnectedId(m,x.id))&&(h[m.id]=m);this._cluster(f,h,b,d)}},{key:"_createClusterEdges",value:function(a,
b,d,e){for(var f,h,k,m=void 0,n=void 0,y=void 0,w=(0,c["default"])(a),z=[],x=0;x<w.length;x++){h=w[x];k=a[h];for(var B=0;B<k.edges.length;B++)f=k.edges[B],void 0===this.clusteredEdges[f.id]&&(f.toId==f.fromId?b[f.id]=f:f.toId==h?(m=d.id,n=f.fromId,y=n):(m=f.toId,n=d.id,y=m),void 0===a[y]&&z.push({edge:f,fromId:n,toId:m}))}for(a=0;a<z.length;a++)b=z[a].edge,d=g.cloneOptions(b,"edge"),q.deepExtend(d,e),d.from=z[a].fromId,d.to=z[a].toId,d.id="clusterEdge:"+q.randomUUID(),d=this.body.functions.createEdge(d),
d.clusteringEdgeReplacingId=b.id,this.body.edges[b.id].edgeReplacedById=d.id,this.body.edges[d.id]=d,d.connect(),this._backupEdgeOptions(b),b.setOptions({physics:!1,hidden:!0})}},{key:"_checkOptions",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0===a.clusterEdgeProperties&&(a.clusterEdgeProperties={}),void 0===a.clusterNodeProperties&&(a.clusterNodeProperties={}),a}},{key:"_cluster",value:function(a,b,d){var e=!(3<arguments.length&&void 0!==arguments[3])||
arguments[3];if(0!=(0,c["default"])(a).length&&(1!=(0,c["default"])(a).length||1==d.clusterNodeProperties.allowSingleNodeCluster)){for(var f in a)if(a.hasOwnProperty(f)&&void 0!==this.clusteredNodes[f])return;f=q.deepExtend({},d.clusterNodeProperties);if(void 0!==d.processProperties){var h=[],k;for(k in a)if(a.hasOwnProperty(k)){var n=g.cloneOptions(a[k]);h.push(n)}k=[];for(var D in b)b.hasOwnProperty(D)&&"clusterEdge:"!==D.substr(0,12)&&(n=g.cloneOptions(b[D],"edge"),k.push(n));if(!(f=d.processProperties(f,
h,k)))throw Error("The processProperties function does not return properties!");}void 0===f.id&&(f.id="cluster:"+q.randomUUID());D=f.id;void 0===f.label&&(f.label="cluster");h=void 0;void 0===f.x&&(h=this._getClusterPosition(a),f.x=h.x);void 0===f.y&&(void 0===h&&(h=this._getClusterPosition(a)),f.y=h.y);f.id=D;D=this.body.functions.createNode(f,m);D.isCluster=!0;D.containedNodes=a;D.containedEdges=b;D.clusterEdgeProperties=d.clusterEdgeProperties;this.body.nodes[f.id]=D;this._createClusterEdges(a,
b,f,d.clusterEdgeProperties);for(var y in b)b.hasOwnProperty(y)&&void 0!==this.body.edges[y]&&(D=this.body.edges[y],this._backupEdgeOptions(D),D.setOptions({physics:!1,hidden:!0}));for(var w in a)a.hasOwnProperty(w)&&(this.clusteredNodes[w]={clusterId:f.id,node:this.body.nodes[w]},this.body.nodes[w].setOptions({hidden:!0,physics:!1}));f.id=void 0;!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(a){void 0===this.clusteredEdges[a.id]&&(this.clusteredEdges[a.id]=
{physics:a.options.physics,hidden:a.options.hidden})}},{key:"_restoreEdge",value:function(a){var b=this.clusteredEdges[a.id];void 0!==b&&(a.setOptions({physics:b.physics,hidden:b.hidden}),delete this.clusteredEdges[a.id])}},{key:"isCluster",value:function(a){return void 0!==this.body.nodes[a]?!0===this.body.nodes[a].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(a){for(var b=(0,c["default"])(a),d=a[b[0]].x,e=a[b[0]].x,g=a[b[0]].y,f=a[b[0]].y,h,k=1;k<
b.length;k++)h=a[b[k]],d=h.x<d?h.x:d,e=h.x>e?h.x:e,g=h.y<g?h.y:g,f=h.y>f?h.y:f;return{x:.5*(d+e),y:.5*(g+f)}}},{key:"openCluster",value:function(a,b){var c=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===a)throw Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[a])throw Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[a].containedNodes)return void console.log("The node:"+a+" is not a cluster.");var d=
this.body.nodes[a],e=d.containedNodes,f=d.containedEdges;if(void 0!==b&&void 0!==b.releaseFunction&&"function"==typeof b.releaseFunction){var h={},k={x:d.x,y:d.y},m;for(m in e)if(e.hasOwnProperty(m)){var n=this.body.nodes[m];h[m]={x:n.x,y:n.y}}m=b.releaseFunction(k,h);for(var w in e)e.hasOwnProperty(w)&&(h=this.body.nodes[w],void 0!==m[w]&&(h.x=void 0===m[w].x?d.x:m[w].x,h.y=void 0===m[w].y?d.y:m[w].y))}else for(h in e)e.hasOwnProperty(h)&&(w=e[h],!1===w.options.fixed.x&&(w.x=d.x),!1===w.options.fixed.y&&
(w.y=d.y));for(var z in e)e.hasOwnProperty(z)&&(w=this.body.nodes[z],w.vx=d.vx,w.vy=d.vy,w.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[z]);e=[];for(z=0;z<d.edges.length;z++)e.push(d.edges[z]);for(d=0;d<e.length;d++)z=e[d],n=this._getConnectedId(z,a),void 0!==this.clusteredNodes[n]?(k=this.body.nodes[this.clusteredNodes[n].clusterId],w=this.body.edges[z.clusteringEdgeReplacingId],void 0!==w&&(k.containedEdges[w.id]=w,delete f[w.id],m=w.fromId,h=w.toId,w.toId==n?h=this.clusteredNodes[n].clusterId:
m=this.clusteredNodes[n].clusterId,n=g.cloneOptions(w,"edge"),q.deepExtend(n,k.clusterEdgeProperties),k="clusterEdge:"+q.randomUUID(),q.deepExtend(n,{from:m,to:h,hidden:!1,physics:!0,id:k}),m=this.body.functions.createEdge(n),m.clusteringEdgeReplacingId=w.id,this.body.edges[k]=m,this.body.edges[k].connect())):(w=this.body.edges[z.clusteringEdgeReplacingId],void 0!==w&&this._restoreEdge(w)),z.cleanup(),z.disconnect(),delete this.body.edges[z.id];for(var x in f)f.hasOwnProperty(x)&&this._restoreEdge(f[x]);
delete this.body.nodes[a];!0===c&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(a){var b=[];if(!0===this.isCluster(a)){a=this.body.nodes[a].containedNodes;for(var c in a)a.hasOwnProperty(c)&&b.push(this.body.nodes[c].id)}return b}},{key:"findNode",value:function(a){for(var b=[],c=0,d=void 0;void 0!==this.clusteredNodes[a]&&100>c;){if(void 0===(d=this.body.nodes[a]))return[];b.push(d.id);a=this.clusteredNodes[a].clusterId;c++}return void 0===(d=this.body.nodes[a])?
[]:(b.push(d.id),b.reverse(),b)}},{key:"updateClusteredNode",value:function(a,b){if(void 0===a)throw Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===b)throw Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[a])throw Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[a].setOptions(b);this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(a,b){if(void 0===a)throw Error("No startEdgeId supplied to updateEdge.");
if(void 0===b)throw Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[a])throw Error("The startEdgeId supplied to updateEdge does not exist.");for(var c=this.getClusteredEdges(a),d=0;d<c.length;d++)this.body.edges[c[d]].setOptions(b);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(a){for(var b=[],c=0;void 0!==a&&void 0!==this.body.edges[a]&&100>c;)b.push(this.body.edges[a].id),a=this.body.edges[a].edgeReplacedById,c++;return b.reverse(),b}},
{key:"getBaseEdge",value:function(a){for(var b=a,c=0;void 0!==a&&void 0!==this.body.edges[a]&&100>c;)a=this.body.edges[a].clusteringEdgeReplacingId,c++,void 0!==a&&(b=a);return b}},{key:"_getConnectedId",value:function(a,b){return a.toId!=b?a.toId:(a.fromId,a.fromId)}},{key:"_getHubSize",value:function(){for(var a=0,b=0,c=0,d=0,e=0;e<this.body.nodeIndices.length;e++){var g=this.body.nodes[this.body.nodeIndices[e]];g.edges.length>d&&(d=g.edges.length);a+=g.edges.length;b+=Math.pow(g.edges.length,2);
c+=1}a/=c;a=Math.floor(a+2*Math.sqrt(b/c-Math.pow(a,2)));return a>d&&(a=d),a}}]),b}();h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(176);var c=b(f);f=d(135);var n=b(f);f=d(179);var a=b(f);f=d(180);var e=b(f);d=d(169);d=function(b){function d(b,e,f,h,q){(0,n["default"])(this,d);b=(0,a["default"])(this,(d.__proto__||(0,c["default"])(d)).call(this,b,e,f,h,q));return b.isCluster=!0,b.containedNodes={},b.containedEdges=
{},b}return(0,e["default"])(d,b),d}(b(d)["default"]);h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f};"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var n=d(1);d=function(){function a(c,d){(0,b["default"])(this,a);this.body=c;this.canvas=
d;this.redrawRequested=!1;this.renderTimer=void 0;this.requiresTimeout=!0;this.renderingActive=!1;this.renderRequests=0;this.allowRedraw=!0;this.dragging=!1;this.options={};this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1};n.extend(this.options,this.defaultOptions);this._determineBrowserMethod();this.bindEventListeners()}return(0,c["default"])(a,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("dragStart",function(){a.dragging=!0});this.body.emitter.on("dragEnd",
function(){a.dragging=!1});this.body.emitter.on("_resizeNodes",function(){a._resizeNodes()});this.body.emitter.on("_redraw",function(){!1===a.renderingActive&&a._redraw()});this.body.emitter.on("_blockRedraw",function(){a.allowRedraw=!1});this.body.emitter.on("_allowRedraw",function(){a.allowRedraw=!0;a.redrawRequested=!1});this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this));this.body.emitter.on("_startRendering",function(){a.renderRequests+=1;a.renderingActive=!0;a._startRendering()});
this.body.emitter.on("_stopRendering",function(){--a.renderRequests;a.renderingActive=0<a.renderRequests;a.renderTimer=void 0});this.body.emitter.on("destroy",function(){a.renderRequests=0;a.allowRedraw=!1;a.renderingActive=!1;!0===a.requiresTimeout?clearTimeout(a.renderTimer):window.cancelAnimationFrame(a.renderTimer);a.body.emitter.off()})}},{key:"setOptions",value:function(a){void 0!==a&&n.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,a)}},{key:"_startRendering",value:function(){!0===
this.renderingActive&&void 0===this.renderTimer&&(!0===this.requiresTimeout?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize");
this._redraw()}},{key:"_requestRedraw",value:function(){var a=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,!0===this.requiresTimeout?window.setTimeout(function(){a._redraw(!1)},0):window.requestAnimationFrame(function(){a._redraw(!1)}))}},{key:"_redraw",value:function(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw");this.redrawRequested=!1;0!==this.canvas.frame.canvas.width&&
0!==this.canvas.frame.canvas.height||this.canvas.setSize();this.canvas.setTransform();var b=this.canvas.getContext(),c=this.canvas.frame.canvas.clientWidth,d=this.canvas.frame.canvas.clientHeight;if(b.clearRect(0,0,c,d),0!==this.canvas.frame.clientWidth)b.save(),b.translate(this.body.view.translation.x,this.body.view.translation.y),b.scale(this.body.view.scale,this.body.view.scale),b.beginPath(),this.body.emitter.emit("beforeDrawing",b),b.closePath(),!1===a&&(!1===this.dragging||!0===this.dragging&&
!1===this.options.hideEdgesOnDrag)&&this._drawEdges(b),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(b,a),b.beginPath(),this.body.emitter.emit("afterDrawing",b),b.closePath(),b.restore(),!0===a&&b.clearRect(0,0,c,d)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var a=this.canvas.getContext();a.save();a.translate(this.body.view.translation.x,this.body.view.translation.y);a.scale(this.body.view.scale,this.body.view.scale);var b=this.body.nodes,
c=void 0,d;for(d in b)b.hasOwnProperty(d)&&(c=b[d],c.resize(a),c.updateBoundingBox(a,c.selected));a.restore()}},{key:"_drawNodes",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=this.body.nodes,d=this.body.nodeIndices,f,h=[];f=this.canvas.DOMtoCanvas({x:-20,y:-20});for(var l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),l={top:f.y,left:f.x,bottom:l.y,right:l.x},n=0;n<d.length;n++)f=c[d[n]],f.isSelected()?
h.push(d[n]):!0===b?f.draw(a):!0===f.isBoundingBoxOverlappingWith(l)?f.draw(a):f.updateBoundingBox(a,f.selected);for(b=0;b<h.length;b++)f=c[h[b]],f.draw(a)}},{key:"_drawEdges",value:function(a){for(var b=this.body.edges,c=this.body.edgeIndices,d,f=0;f<c.length;f++)d=b[c[f]],!0===d.connected&&d.draw(a)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var a=navigator.userAgent.toLowerCase();this.requiresTimeout=!1;-1!=a.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=
a.indexOf("safari")&&-1>=a.indexOf("chrome")&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),a}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},n=d(113),a=d(120),e=d(1);d=function(){function d(a){(0,b["default"])(this,d);this.body=a;this.pixelRatio=1;this.resizeTimer=void 0;this.resizeFunction=this._onResize.bind(this);this.cameraState={};this.initialized=!1;this.canvasViewCenter=
{};this.options={};this.defaultOptions={autoResize:!0,height:"100%",width:"100%"};e.extend(this.options,this.defaultOptions);this.bindEventListeners()}return(0,c["default"])(d,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.once("resize",function(b){0!==b.width&&(a.body.view.translation.x=.5*b.width);0!==b.height&&(a.body.view.translation.y=.5*b.height)});this.body.emitter.on("setSize",this.setSize.bind(this));this.body.emitter.on("destroy",function(){a.hammerFrame.destroy();
a.hammer.destroy();a._cleanUp()})}},{key:"setOptions",value:function(a){var b=this;void 0!==a&&e.selectiveDeepExtend(["width","height","autoResize"],this.options,a);!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===b.setSize()&&b.body.emitter.emit("_requestRedraw")},1E3),this.resizeFunction=this._onResize.bind(this),e.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer);
e.removeEventListener(window,"resize",this.resizeFunction);this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize();this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/a,this.cameraState.previousHeight=this.frame.canvas.height/a,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*
this.frame.canvas.width/a,y:.5*this.frame.canvas.height/a}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth){var a=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,b=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,c=this.cameraState.scale;1!=a&&1!=b?c=.5*this.cameraState.scale*(a+b):1!=a?c=this.cameraState.scale*
a:1!=b&&(c=this.cameraState.scale*b);this.body.view.scale=c;a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight});b=a.y-this.cameraState.position.y;this.body.view.translation.x+=(a.x-this.cameraState.position.x)*this.body.view.scale;this.body.view.translation.y+=b*this.body.view.scale}}},{key:"_prepareValue",value:function(a){if("number"==typeof a)return a+"px";if("string"==typeof a){if(-1!==a.indexOf("%")||-1!==a.indexOf("px"))return a;if(-1===a.indexOf("%"))return a+
"px"}throw Error("Could not use the value supplied for width or height:"+a);}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),
this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var a=document.createElement("DIV");a.style.color="red";a.style.fontWeight="bold";a.style.padding="10px";a.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(a)}this.body.container.appendChild(this.frame);this.body.view.scale=1;this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight};this._bindHammer()}},{key:"_bindHammer",value:function(){var b=
this;void 0!==this.hammer&&this.hammer.destroy();this.drag={};this.pinch={};this.hammer=new n(this.frame.canvas);this.hammer.get("pinch").set({enable:!0});this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_ALL});a.onTouch(this.hammer,function(a){b.body.eventListeners.onTouch(a)});this.hammer.on("tap",function(a){b.body.eventListeners.onTap(a)});this.hammer.on("doubletap",function(a){b.body.eventListeners.onDoubleTap(a)});this.hammer.on("press",function(a){b.body.eventListeners.onHold(a)});
this.hammer.on("panstart",function(a){b.body.eventListeners.onDragStart(a)});this.hammer.on("panmove",function(a){b.body.eventListeners.onDrag(a)});this.hammer.on("panend",function(a){b.body.eventListeners.onDragEnd(a)});this.hammer.on("pinch",function(a){b.body.eventListeners.onPinch(a)});this.frame.canvas.addEventListener("mousewheel",function(a){b.body.eventListeners.onMouseWheel(a)});this.frame.canvas.addEventListener("DOMMouseScroll",function(a){b.body.eventListeners.onMouseWheel(a)});this.frame.canvas.addEventListener("mousemove",
function(a){b.body.eventListeners.onMouseMove(a)});this.frame.canvas.addEventListener("contextmenu",function(a){b.body.eventListeners.onContext(a)});this.hammerFrame=new n(this.frame);a.onRelease(this.hammerFrame,function(a){b.body.eventListeners.onRelease(a)})}},{key:"setSize",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.width,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.height,a=this._prepareValue(a),b=this._prepareValue(b),
c=!1,d=this.frame.canvas.width,e=this.frame.canvas.height,f=this.pixelRatio;(this._setPixelRatio(),a!=this.options.width||b!=this.options.height||this.frame.style.width!=a||this.frame.style.height!=b)?(this._getCameraState(f),this.frame.style.width=a,this.frame.style.height=b,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*
this.pixelRatio),this.options.width=a,this.options.height=b,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},c=!0):(a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),b=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.frame.canvas.width===a&&this.frame.canvas.height===b||this._getCameraState(f),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,c=!0),this.frame.canvas.height!==b&&(this.frame.canvas.height=b,c=!0));return!0===c&&(this.body.emitter.emit("resize",
{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(d/this.pixelRatio),oldHeight:Math.round(e/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,c}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var a=this.getContext();if(void 0===a)throw"Could not get canvax context";return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||
a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var a=this.getContext();if(void 0===a)throw"Could not get canvax context";a.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(a){return(a-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",
value:function(a){return a*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(a){return(a-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(a){return a*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(a){return{x:this._XconvertCanvasToDOM(a.x),y:this._YconvertCanvasToDOM(a.y)}}},{key:"DOMtoCanvas",value:function(a){return{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}}}]),
d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},n=d(1),a=d(211)["default"];d=function(){function d(a,c){var f=this;(0,b["default"])(this,d);this.body=a;this.canvas=c;this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.targetTranslation=this.sourceTranslation=this.targetScale=this.sourceScale=this.easingTime=0;this.lockedOnNodeOffset=
this.lockedOnNodeId=void 0;this.touchTime=0;this.viewFunction=void 0;this.body.emitter.on("fit",this.fit.bind(this));this.body.emitter.on("animationFinished",function(){f.body.emitter.emit("_stopRendering")});this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,c["default"])(d,[{key:"setOptions",value:function(){this.options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{nodes:[]},
c=1<arguments.length&&void 0!==arguments[1]&&arguments[1],d;if(void 0!==b.nodes&&0!==b.nodes.length||(b.nodes=this.body.nodeIndices),!0===c){c=0;for(d in this.body.nodes)this.body.nodes.hasOwnProperty(d)&&!0===this.body.nodes[d].predefinedPosition&&(c+=1);if(c>.5*this.body.nodeIndices.length)return void this.fit(b,!1);d=a.getRange(this.body.nodes,b.nodes);c=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;c*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/
600)}else{this.body.emitter.emit("_resizeNodes");d=a.getRange(this.body.nodes,b.nodes);var c=this.canvas.frame.canvas.clientWidth/(1.1*Math.abs(d.maxX-d.minX)),e=this.canvas.frame.canvas.clientHeight/(1.1*Math.abs(d.maxY-d.minY)),c=c<=e?c:e}1<c?c=1:0===c&&(c=1);b={position:a.findCenter(d),scale:c,animation:b.animation};this.moveTo(b)}},{key:"focus",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[a]?(b.position={x:this.body.nodes[a].x,y:this.body.nodes[a].y},
b.lockedOnNode=a,this.moveTo(b)):console.log("Node: "+a+" cannot be found.")}},{key:"moveTo",value:function(a){void 0!==a&&(void 0===a.offset&&(a.offset={x:0,y:0}),void 0===a.offset.x&&(a.offset.x=0),void 0===a.offset.y&&(a.offset.y=0),void 0===a.scale&&(a.scale=this.body.view.scale),void 0===a.position&&(a.position=this.getViewPosition()),void 0===a.animation&&(a.animation={duration:0}),!1===a.animation&&(a.animation={duration:0}),!0===a.animation&&(a.animation={}),void 0===a.animation.duration&&
(a.animation.duration=1E3),void 0===a.animation.easingFunction&&(a.animation.easingFunction="easeInOutQuad"),this.animateView(a))}},{key:"animateView",value:function(a){if(void 0!==a){this.animationEasingFunction=a.animation.easingFunction;this.releaseNode();!0===a.locked&&(this.lockedOnNodeId=a.lockedOnNode,this.lockedOnNodeOffset=a.offset);0!=this.easingTime&&this._transitionRedraw(!0);this.sourceScale=this.body.view.scale;this.sourceTranslation=this.body.view.translation;this.targetScale=a.scale;
this.body.view.scale=this.targetScale;var b=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(b.x-a.position.x)*this.targetScale+a.offset.x,y:this.sourceTranslation.y+(b.y-a.position.y)*this.targetScale+a.offset.y};0===a.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=
this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(.06*a.animation.duration)||1/60,this.animationEasingFunction=a.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var a=this.body.nodes[this.lockedOnNodeId].x,b=this.body.nodes[this.lockedOnNodeId].y,c=this.canvas.DOMtoCanvas({x:.5*
this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),d=this.body.view.translation;this.body.view.translation={x:d.x+(c.x-a)*this.body.view.scale+this.lockedOnNodeOffset.x,y:d.y+(c.y-b)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var a=
0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed;this.easingTime=!0===a?1:this.easingTime;a=n.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*a;this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*a,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*a};1<=this.easingTime&&(this.body.emitter.off("initRedraw",
this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,
"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},n=d(1),a=d(227)["default"],e=d(134)["default"];d=function(){function d(c,e,f){(0,b["default"])(this,d);this.body=c;this.canvas=e;this.selectionHandler=f;this.navigationHandler=new a(c,e);this.body.eventListeners.onTap=this.onTap.bind(this);this.body.eventListeners.onTouch=this.onTouch.bind(this);this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this);this.body.eventListeners.onHold=
this.onHold.bind(this);this.body.eventListeners.onDragStart=this.onDragStart.bind(this);this.body.eventListeners.onDrag=this.onDrag.bind(this);this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this);this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this);this.body.eventListeners.onPinch=this.onPinch.bind(this);this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this);this.body.eventListeners.onRelease=this.onRelease.bind(this);this.body.eventListeners.onContext=this.onContext.bind(this);
this.touchTime=0;this.drag={};this.pinch={};this.popupTimer=this.popupObj=this.popup=void 0;this.body.functions.getPointer=this.getPointer.bind(this);this.options={};this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0};n.extend(this.options,this.defaultOptions);this.bindEventListeners()}return(0,c["default"])(d,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("destroy",
function(){clearTimeout(a.popupTimer);delete a.body.functions.getPointer})}},{key:"setOptions",value:function(a){void 0!==a&&(n.selectiveNotDeepExtend("hideEdgesOnDrag hideNodesOnDrag keyboard multiselect selectable selectConnectedEdges".split(" "),this.options,a),n.mergeOptions(this.options,a,"keyboard"),a.tooltip&&(n.extend(this.options.tooltip,a.tooltip),a.tooltip.color&&(this.options.tooltip.color=n.parseColor(a.tooltip.color))));this.navigationHandler.setOptions(this.options)}},{key:"getPointer",
value:function(a){return{x:a.x-n.getAbsoluteLeft(this.canvas.frame.canvas),y:a.y-n.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(a){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(a.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(a){var b=this.getPointer(a.center);this.checkSelectionChanges(b,a,this.selectionHandler.options.multiselect&&(a.changedPointers[0].ctrlKey||
a.changedPointers[0].metaKey));this.selectionHandler._generateClickEvent("click",a,b)}},{key:"onDoubleTap",value:function(a){var b=this.getPointer(a.center);this.selectionHandler._generateClickEvent("doubleClick",a,b)}},{key:"onHold",value:function(a){var b=this.getPointer(a.center);this.checkSelectionChanges(b,a,this.selectionHandler.options.multiselect);this.selectionHandler._generateClickEvent("click",a,b);this.selectionHandler._generateClickEvent("hold",a,b)}},{key:"onRelease",value:function(a){if(10<
(new Date).valueOf()-this.touchTime){var b=this.getPointer(a.center);this.selectionHandler._generateClickEvent("release",a,b);this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(a){var b=this.getPointer({x:a.clientX,y:a.clientY});this.selectionHandler._generateClickEvent("oncontext",a,b)}},{key:"checkSelectionChanges",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=this.selectionHandler.getSelection(),c=!0===c?this.selectionHandler.selectAdditionalOnPoint(a):
this.selectionHandler.selectOnPoint(a),e=this.selectionHandler.getSelection(),f=this._determineDifference(d,e),e=this._determineDifference(e,d);0<f.edges.length&&(this.selectionHandler._generateClickEvent("deselectEdge",b,a,d),c=!0);0<f.nodes.length&&(this.selectionHandler._generateClickEvent("deselectNode",b,a,d),c=!0);0<e.nodes.length&&(this.selectionHandler._generateClickEvent("selectNode",b,a),c=!0);0<e.edges.length&&(this.selectionHandler._generateClickEvent("selectEdge",b,a),c=!0);!0===c&&this.selectionHandler._generateClickEvent("select",
b,a)}},{key:"_determineDifference",value:function(a,b){var c=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];-1===b.indexOf(e)&&c.push(e)}return c};return{nodes:c(a.nodes,b.nodes),edges:c(a.edges,b.edges)}}},{key:"onDragStart",value:function(a){void 0===this.drag.pointer&&this.onTouch(a);var b=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=n.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==b&&
!0===this.options.dragNodes){this.drag.nodeId=b.id;!1===b.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(b));this.selectionHandler._generateClickEvent("dragStart",a,this.drag.pointer);a=this.selectionHandler.selectionObj.nodes;for(var c in a)if(a.hasOwnProperty(c)){var b=a[c],d={id:b.id,node:b,x:b.x,y:b.y,xFixed:b.options.fixed.x,yFixed:b.options.fixed.y};b.options.fixed.x=!0;b.options.fixed.y=!0;this.drag.selection.push(d)}}else this.selectionHandler._generateClickEvent("dragStart",
a,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(a){var b=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var c=this.getPointer(a.center),d=this.drag.selection;if(d&&d.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",a,c);var e=c.x-this.drag.pointer.x,f=c.y-this.drag.pointer.y;d.forEach(function(a){var c=a.node;!1===a.xFixed&&(c.x=b.canvas._XconvertDOMtoCanvas(b.canvas._XconvertCanvasToDOM(a.x)+e));!1===a.yFixed&&(c.y=b.canvas._YconvertDOMtoCanvas(b.canvas._YconvertCanvasToDOM(a.y)+
f))});this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",a,c,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(a);this.body.view.translation={x:this.drag.translation.x+(c.x-this.drag.pointer.x),y:this.drag.translation.y+(c.y-this.drag.pointer.y)};this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(a){this.drag.dragging=!1;var b=this.drag.selection;b&&b.length?(b.forEach(function(a){a.node.options.fixed.x=
a.xFixed;a.node.options.fixed.y=a.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",a,this.getPointer(a.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",a,this.getPointer(a.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(a){var b=this.getPointer(a.center);this.drag.pinched=!0;void 0===this.pinch.scale&&(this.pinch.scale=1);this.zoom(this.pinch.scale*a.scale,b)}},{key:"zoom",value:function(a,
b){if(!0===this.options.zoomView){var c=this.body.view.scale;1E-5>a&&(a=1E-5);10<a&&(a=10);var d=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(d=this.canvas.DOMtoCanvas(this.drag.pointer));var e=this.body.view.translation,f=a/c,h=(1-f)*b.x+e.x*f,e=(1-f)*b.y+e.y*f;if(this.body.view.scale=a,this.body.view.translation={x:h,y:e},void 0!=d)d=this.canvas.canvasToDOM(d),this.drag.pointer.x=d.x,this.drag.pointer.y=d.y;this.body.emitter.emit("_requestRedraw");c<a?this.body.emitter.emit("zoom",{direction:"+",
scale:this.body.view.scale,pointer:b}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:b})}}},{key:"onMouseWheel",value:function(a){if(!0===this.options.zoomView){var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),0!==b){var c=this.body.view.scale,d=b/10;0>b&&(d/=1-d);c*=1+d;b=this.getPointer({x:a.clientX,y:a.clientY});this.zoom(c,b)}a.preventDefault()}}},{key:"onMouseMove",value:function(a){var b=this,c=this.getPointer({x:a.clientX,y:a.clientY});
a=!1;if(void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(c),!1===this.popup.hidden&&(a=!0,this.popup.setPosition(c.x+3,c.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===a&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return b._checkShowPopup(c)},this.options.tooltipDelay))),!0===this.options.hover)a=
this.selectionHandler.getNodeAt(c),void 0===a&&(a=this.selectionHandler.getEdgeAt(c)),this.selectionHandler.hoverObject(a)}},{key:"_checkShowPopup",value:function(a){var b=this.canvas._XconvertDOMtoCanvas(a.x),c=this.canvas._YconvertDOMtoCanvas(a.y),b={left:b,top:c,right:b,bottom:c},c=void 0===this.popupObj?void 0:this.popupObj.id,d=!1,f="node";if(void 0===this.popupObj){for(var h=this.body.nodeIndices,q=this.body.nodes,n,v=[],C=0;C<h.length;C++)n=q[h[C]],!0===n.isOverlappingWith(b)&&void 0!==n.getTitle()&&
v.push(h[C]);0<v.length&&(this.popupObj=q[v[v.length-1]],d=!0)}if(void 0===this.popupObj&&!1===d){d=this.body.edgeIndices;h=this.body.edges;n=[];for(v=0;v<d.length;v++)q=h[d[v]],!0===q.isOverlappingWith(b)&&!0===q.connected&&void 0!==q.getTitle()&&n.push(d[v]);0<n.length&&(this.popupObj=h[n[n.length-1]],f="edge")}void 0!==this.popupObj?this.popupObj.id!==c&&(void 0===this.popup&&(this.popup=new e(this.canvas.frame)),this.popup.popupTargetType=f,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(a.x+
3,a.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(a){var b=this.selectionHandler._pointerToPositionObject(a),c=!1;"node"===this.popup.popupTargetType?void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(c=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(b))&&(a=this.selectionHandler.getNodeAt(a),
c=void 0!==a&&a.id===this.popup.popupTargetId):void 0===this.selectionHandler.getNodeAt(a)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(c=this.body.edges[this.popup.popupTargetId].isOverlappingWith(b));!1===c&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},n=(d(1),d(113)),a=d(120),
e=d(116);d=function(){function d(a,c){var e=this;(0,b["default"])(this,d);this.body=a;this.canvas=c;this.iconsCreated=!1;this.navigationHammers=[];this.boundFunctions={};this.touchTime=0;this.activated=!1;this.body.emitter.on("activate",function(){e.activated=!0;e.configureKeyboardBindings()});this.body.emitter.on("deactivate",function(){e.activated=!1;e.configureKeyboardBindings()});this.body.emitter.on("destroy",function(){void 0!==e.keycharm&&e.keycharm.destroy()});this.options={}}return(0,c["default"])(d,
[{key:"setOptions",value:function(a){void 0!==a&&(this.options=a,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation();this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var a=0;a<this.navigationHammers.length;a++)this.navigationHammers[a].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&
this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper);this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var b=this;this.cleanNavigation();this.navigationDOM={};var c="up down left right zoomIn zoomOut zoomExtends".split(" "),d="_moveUp _moveDown _moveLeft _moveRight _zoomIn _zoomOut _fit".split(" ");this.navigationDOM.wrapper=document.createElement("div");this.navigationDOM.wrapper.className="vis-navigation";this.canvas.frame.appendChild(this.navigationDOM.wrapper);
for(var e=0;e<c.length;e++){this.navigationDOM[c[e]]=document.createElement("div");this.navigationDOM[c[e]].className="vis-button vis-"+c[e];this.navigationDOM.wrapper.appendChild(this.navigationDOM[c[e]]);var f=new n(this.navigationDOM[c[e]]);"_fit"===d[e]?a.onTouch(f,this._fit.bind(this)):a.onTouch(f,this.bindToRedraw.bind(this,d[e]));this.navigationHammers.push(f)}c=new n(this.canvas.frame);a.onRelease(c,function(){b._stopMovement()});this.navigationHammers.push(c);this.iconsCreated=!0}},{key:"bindToRedraw",
value:function(a){void 0===this.boundFunctions[a]&&(this.boundFunctions[a]=this[a].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[a]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(a){void 0!==this.boundFunctions[a]&&(this.body.emitter.off("initRedraw",this.boundFunctions[a]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[a])}},{key:"_fit",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit("fit",
{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var a in this.boundFunctions)this.boundFunctions.hasOwnProperty(a)&&(this.body.emitter.off("initRedraw",this.boundFunctions[a]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=
this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var a=this.body.view.scale*(1+this.options.keyboard.speed.zoom),b=this.body.view.translation,c=a/this.body.view.scale,d=(1-c)*this.canvas.canvasViewCenter.x+b.x*c,b=(1-c)*this.canvas.canvasViewCenter.y+b.y*c;this.body.view.scale=a;this.body.view.translation={x:d,y:b};this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,
pointer:null})}},{key:"_zoomOut",value:function(){var a=this.body.view.scale/(1+this.options.keyboard.speed.zoom),b=this.body.view.translation,c=a/this.body.view.scale,d=(1-c)*this.canvas.canvasViewCenter.x+b.x*c,b=(1-c)*this.canvas.canvasViewCenter.y+b.y*c;this.body.view.scale=a;this.body.view.translation={x:d,y:b};this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var a=this;void 0!==this.keycharm&&this.keycharm.destroy();
!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=e({container:window,preventDefault:!0}):this.keycharm=e({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){a.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){a.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){a.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){a.bindToRedraw("_moveRight")},
"keydown"),this.keycharm.bind("=",function(){a.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){a.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){a.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){a.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){a.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){a.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){a.bindToRedraw("_zoomIn")},
"keydown"),this.keycharm.bind("pagedown",function(){a.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){a.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){a.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){a.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){a.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){a.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",
function(){a.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){a.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){a.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){a.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){a.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){a.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){a.unbindFromRedraw("_zoomOut")},
"keyup")))}}]),d}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?f:{"default":f},c=(f=d(136))&&f.__esModule?f:{"default":f},n=d(169)["default"],a=d(202)["default"],e=d(1);d=function(){function d(a,c){var f=this;(0,b["default"])(this,d);this.body=a;this.canvas=c;this.selectionObj={nodes:[],edges:[]};this.hoverObj={nodes:{},edges:{}};this.options={};this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0};
e.extend(this.options,this.defaultOptions);this.body.emitter.on("_dataChanged",function(){f.updateSelection()})}return(0,c["default"])(d,[{key:"setOptions",value:function(a){void 0!==a&&e.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,a)}},{key:"selectOnPoint",value:function(a){var b=!1;!0===this.options.selectable&&(a=this.getNodeAt(a)||this.getEdgeAt(a),this.unselectAll(),void 0!==a&&(b=this.selectObject(a)),this.body.emitter.emit("_requestRedraw"));
return b}},{key:"selectAdditionalOnPoint",value:function(a){var b=!1;!0===this.options.selectable&&(a=this.getNodeAt(a)||this.getEdgeAt(a),void 0!==a&&(b=!0,!0===a.isSelected()?this.deselectObject(a):this.selectObject(a),this.body.emitter.emit("_requestRedraw")));return b}},{key:"_generateClickEvent",value:function(a,b,c,d){var e;e=!0===(4<arguments.length&&void 0!==arguments[4]&&arguments[4])?{nodes:[],edges:[]}:this.getSelection();e.pointer={DOM:{x:c.x,y:c.y},canvas:this.canvas.DOMtoCanvas(c)};
e.event=b;void 0!==d&&(e.previousSelection=d);this.body.emitter.emit(a,e)}},{key:"selectObject",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==a&&(a instanceof n&&!0===b&&this._selectConnectedEdges(a),a.select(),this._addToSelection(a),!0)}},{key:"deselectObject",value:function(a){!0===a.isSelected()&&(a.selected=!1,this._removeFromSelection(a))}},{key:"_getAllNodesOverlappingWith",value:function(a){for(var b=[],c=this.body.nodes,
d=0;d<this.body.nodeIndices.length;d++){var e=this.body.nodeIndices[d];c[e].isOverlappingWith(a)&&b.push(e)}return b}},{key:"_pointerToPositionObject",value:function(a){a=this.canvas.DOMtoCanvas(a);return{left:a.x-1,top:a.y+1,right:a.x+1,bottom:a.y-1}}},{key:"getNodeAt",value:function(a){var b=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],c=this._pointerToPositionObject(a),c=this._getAllNodesOverlappingWith(c);return 0<c.length?!0===b?this.body.nodes[c[c.length-1]]:c[c.length-1]:void 0}},
{key:"_getEdgesOverlappingWith",value:function(a,b){for(var c=this.body.edges,d=0;d<this.body.edgeIndices.length;d++){var e=this.body.edgeIndices[d];c[e].isOverlappingWith(a)&&b.push(e)}}},{key:"_getAllEdgesOverlappingWith",value:function(a){var b=[];return this._getEdgesOverlappingWith(a,b),b}},{key:"getEdgeAt",value:function(a){for(var b=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],c=this.canvas.DOMtoCanvas(a),d=10,e=null,f=this.body.edges,h=0;h<this.body.edgeIndices.length;h++){var q=
this.body.edgeIndices[h],n=f[q];n.connected&&(n=n.edgeType.getDistanceToEdge(n.from.x,n.from.y,n.to.x,n.to.y,c.x,c.y),n<d&&(e=q,d=n))}return null!==e?!0===b?this.body.edges[e]:e:void 0}},{key:"_addToSelection",value:function(a){a instanceof n?this.selectionObj.nodes[a.id]=a:this.selectionObj.edges[a.id]=a}},{key:"_addToHover",value:function(a){a instanceof n?this.hoverObj.nodes[a.id]=a:this.hoverObj.edges[a.id]=a}},{key:"_removeFromSelection",value:function(a){a instanceof n?(delete this.selectionObj.nodes[a.id],
this._unselectConnectedEdges(a)):delete this.selectionObj.edges[a.id]}},{key:"unselectAll",value:function(){for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&this.selectionObj.nodes[a].unselect();for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&this.selectionObj.edges[b].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var a=0,b;for(b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&
(a+=1);return a}},{key:"_getSelectedNode",value:function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a))return this.selectionObj.nodes[a]}},{key:"_getSelectedEdge",value:function(){for(var a in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(a))return this.selectionObj.edges[a]}},{key:"_getSelectedEdgeCount",value:function(){var a=0,b;for(b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&(a+=1);return a}},{key:"_getSelectedObjectCount",
value:function(){var a=0,b;for(b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&(a+=1);for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(a+=1);return a}},{key:"_selectionIsEmpty",value:function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a))return!1;for(var b in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(b))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a)&&
1<this.selectionObj.nodes[a].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(a){for(var b=0;b<a.edges.length;b++){var c=a.edges[b];c.select();this._addToSelection(c)}}},{key:"_hoverConnectedEdges",value:function(a){for(var b=0;b<a.edges.length;b++){var c=a.edges[b];c.hover=!0;this._addToHover(c)}}},{key:"_unselectConnectedEdges",value:function(a){for(var b=0;b<a.edges.length;b++){var c=a.edges[b];c.unselect();this._removeFromSelection(c)}}},{key:"blurObject",value:function(a){!0===
a.hover&&(a.hover=!1,a instanceof n?this.body.emitter.emit("blurNode",{node:a.id}):this.body.emitter.emit("blurEdge",{edge:a.id}))}},{key:"hoverObject",value:function(b){var c=!1,d;for(d in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(d)&&(void 0===b||b instanceof n&&b.id!=d||b instanceof a)&&(this.blurObject(this.hoverObj.nodes[d]),delete this.hoverObj.nodes[d],c=!0);for(var e in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(e)&&(!0===c?(this.hoverObj.edges[e].hover=!1,delete this.hoverObj.edges[e]):
(void 0===b||b instanceof a&&b.id!=e||b instanceof n&&!b.hover)&&(this.blurObject(this.hoverObj.edges[e]),delete this.hoverObj.edges[e],c=!0));void 0!==b&&(!1===b.hover&&(b.hover=!0,this._addToHover(b),c=!0,b instanceof n?this.body.emitter.emit("hoverNode",{node:b.id}):this.body.emitter.emit("hoverEdge",{edge:b.id})),b instanceof n&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(b));!0===c&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),
edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var a=[];if(!0===this.options.selectable)for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&a.push(this.selectionObj.nodes[b].id);return a}},{key:"getSelectedEdges",value:function(){var a=[];if(!0===this.options.selectable)for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&a.push(this.selectionObj.edges[b].id);return a}},{key:"setSelection",value:function(a){var b=1<
arguments.length&&void 0!==arguments[1]?arguments[1]:{},c,d;if(!a||!a.nodes&&!a.edges)throw"Selection must be an object with nodes and/or edges properties";if((b.unselectAll||void 0===b.unselectAll)&&this.unselectAll(),a.nodes)for(c=0;c<a.nodes.length;c++){d=a.nodes[c];var e=this.body.nodes[d];if(!e)throw new RangeError('Node with id "'+d+'" not found');this.selectObject(e,b.highlightEdges)}if(a.edges)for(c=0;c<a.edges.length;c++){d=a.edges[c];b=this.body.edges[d];if(!b)throw new RangeError('Edge with id "'+
d+'" not found');this.selectObject(b)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(a){var b=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!a||void 0===a.length)throw"Selection must be an array with ids";this.setSelection({nodes:a},{highlightEdges:b})}},{key:"selectEdges",value:function(a){if(!a||void 0===a.length)throw"Selection must be an array with ids";this.setSelection({edges:a})}},{key:"updateSelection",value:function(){for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&
(this.body.nodes.hasOwnProperty(a)||delete this.selectionObj.nodes[a]);for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&(this.body.edges.hasOwnProperty(b)||delete this.selectionObj.edges[b])}}]),d}();h["default"]=d},function(f,h,d){function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(58);var c=b(f);f=d(90);var n=b(f);f=d(62);var a=b(f);f=d(135);var e=b(f);f=d(136);var q=b(f),g=d(1),m=d(113),k=d(120);d=function(){function b(a,
c,d){var f=this;(0,e["default"])(this,b);this.body=a;this.canvas=c;this.selectionHandler=d;this.editMode=!1;this.closeDiv=this.editModeDiv=this.manipulationDiv=void 0;this.manipulationHammers=[];this.temporaryUIFunctions={};this.temporaryEventFunctions=[];this.touchTime=0;this.temporaryIds={nodes:[],edges:[]};this.inMode=this.guiEnabled=!1;this.selectedControlNode=void 0;this.options={};this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,
deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}};g.extend(this.options,this.defaultOptions);this.body.emitter.on("destroy",function(){f._clean()});this.body.emitter.on("_dataChanged",this._restore.bind(this));this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,q["default"])(b,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?
this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(a,b,c){void 0!==b&&(void 0!==b.locale?this.options.locale=b.locale:this.options.locale=c.locale,void 0!==b.locales?this.options.locales=b.locales:this.options.locales=c.locales);void 0!==a&&("boolean"==typeof a?this.options.enabled=a:(this.options.enabled=!0,g.deepExtend(this.options,a)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():
this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0;this._clean();!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1;this._clean();!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},
{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0;this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";var a=this.selectionHandler._getSelectedNodeCount(),b=this.selectionHandler._getSelectedEdgeCount(),c=a+b,d=this.options.locales[this.options.locale],e=!1;!1!==this.options.addNode&&(this._createAddNodeButton(d),e=!0);!1!==this.options.addEdge&&(!0===e?this._createSeperator(1):e=!0,this._createAddEdgeButton(d));
1===a&&"function"==typeof this.options.editNode?(!0===e?this._createSeperator(2):e=!0,this._createEditNodeButton(d)):1===b&&0===a&&!1!==this.options.editEdge&&(!0===e?this._createSeperator(3):e=!0,this._createEditEdgeButton(d));0!==c&&(0<a&&!1!==this.options.deleteNode?(!0===e&&this._createSeperator(4),this._createDeleteButton(d)):0===a&&!1!==this.options.deleteEdge&&(!0===e&&this._createSeperator(4),this._createDeleteButton(d)));this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this));
this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var a=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(a);this._createSeperator();this._createDescription(a.addDescription||this.options.locales.en.addDescription);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",
this._performAddNode.bind(this))}},{key:"editNode",value:function(){var a=this;!0!==this.editMode&&this.enableEditMode();this._clean();var b=this.selectionHandler._getSelectedNode();if(void 0!==b){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw Error("No function has been configured to handle the editing of nodes.");if(!0!==b.isCluster){var c=g.deepExtend({},b.options,!1);if(c.x=b.x,c.y=b.y,2!==this.options.editNode.length)throw Error("The function for edit does not support two arguments (data, callback)");
this.options.editNode(c,function(b){null!==b&&void 0!==b&&"editNode"===a.inMode&&a.body.data.nodes.getDataSet().update(b);a.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var a=this.options.locales[this.options.locale];this.manipulationDOM=
{};this._createBackButton(a);this._createSeperator();this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this));this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this));this._temporaryBindUI("onDrag",this._dragControlNode.bind(this));this._temporaryBindUI("onRelease",this._finishConnect.bind(this));this._temporaryBindUI("onDragStart",
function(){});this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"===(0,a["default"])(this.options.editEdge)&&"function"==typeof this.options.editEdge.editWithoutDrag&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId)){var b=this.body.edges[this.edgeBeingEditedId];return void this._performEditEdge(b.from,b.to)}!0===this.guiEnabled&&
(b=this.options.locales[this.options.locale],this.manipulationDOM={},this._createBackButton(b),this._createSeperator(),this._createDescription(b.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)));if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var c=this.body.edges[this.edgeBeingEditedId],d=this._getNewTargetNode(c.from.x,c.from.y),e=this._getNewTargetNode(c.to.x,
c.to.y);this.temporaryIds.nodes.push(d.id);this.temporaryIds.nodes.push(e.id);this.body.nodes[d.id]=d;this.body.nodeIndices.push(d.id);this.body.nodes[e.id]=e;this.body.nodeIndices.push(e.id);this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this));this._temporaryBindUI("onTap",function(){});this._temporaryBindUI("onHold",function(){});this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this));this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this));this._temporaryBindUI("onDragEnd",
this._controlNodeDragEnd.bind(this));this._temporaryBindUI("onMouseMove",function(){});this._temporaryBindEvent("beforeDrawing",function(a){a=c.edgeType.findBorderPositions(a);!1===d.selected&&(d.x=a.from.x,d.y=a.from.y);!1===e.selected&&(e.x=a.to.x,e.y=a.to.y)});this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var a=this;!0!==this.editMode&&this.enableEditMode();this._clean();this.inMode="delete";var b=this.selectionHandler.getSelectedNodes(),
c=this.selectionHandler.getSelectedEdges(),d=void 0;if(0<b.length){for(var e=0;e<b.length;e++)if(!0===this.body.nodes[b[e]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(d=this.options.deleteNode)}else 0<c.length&&"function"==typeof this.options.deleteEdge&&(d=this.options.deleteEdge);if("function"==typeof d){b={nodes:b,edges:c};if(2!==d.length)throw Error("The function for delete does not support two arguments (data, callback)");
d(b,function(b){null!==b&&void 0!==b&&"delete"===a.inMode?(a.body.data.edges.getDataSet().remove(b.edges),a.body.data.nodes.getDataSet().remove(b.nodes),a.body.emitter.emit("startSimulation"),a.showManipulatorToolbar()):(a.body.emitter.emit("startSimulation"),a.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(c),this.body.data.nodes.getDataSet().remove(b),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?
(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv));
void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv));void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",
value:function(a,b){var c=g.deepExtend({},this.options.controlNodeStyle);c.id="targetNode"+g.randomUUID();c.hidden=!1;c.physics=!1;c.x=a;c.y=b;c=this.body.functions.createNode(c);return c.shape.boundingBox={left:a,right:a,top:b,bottom:b},c}},{key:"_createEditButton",value:function(){this._clean();this.manipulationDOM={};g.recursiveDOMDelete(this.editModeDiv);var a=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);
this.editModeDiv.appendChild(a);this._bindHammerToDiv(a,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1;!0===this.guiEnabled&&(g.recursiveDOMDelete(this.editModeDiv),g.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers());this._cleanupTemporaryNodesAndEdges();this._unbindTemporaryUIs();this._unbindTemporaryEvents();this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var a=
0;a<this.manipulationHammers.length;a++)this.manipulationHammers[a].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean();g.recursiveDOMDelete(this.manipulationDiv);g.recursiveDOMDelete(this.editModeDiv);g.recursiveDOMDelete(this.closeDiv);this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv);this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv);this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv);this.closeDiv=
this.editModeDiv=this.manipulationDiv=void 0}},{key:"_createSeperator",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+a]=document.createElement("div");this.manipulationDOM["seperatorLineDiv"+a].className="vis-separator-line";this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+a])}},{key:"_createAddNodeButton",value:function(a){a=this._createButton("addNode","vis-button vis-add",a.addNode||this.options.locales.en.addNode);
this.manipulationDiv.appendChild(a);this._bindHammerToDiv(a,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(a){a=this._createButton("addEdge","vis-button vis-connect",a.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(a);this._bindHammerToDiv(a,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(a){a=this._createButton("editNode","vis-button vis-edit",a.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(a);
this._bindHammerToDiv(a,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(a){a=this._createButton("editEdge","vis-button vis-edit",a.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(a);this._bindHammerToDiv(a,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(a){a=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",a.del||this.options.locales.en.del);this.manipulationDiv.appendChild(a);
this._bindHammerToDiv(a,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(a){a=this._createButton("back","vis-button vis-back",a.back||this.options.locales.en.back);this.manipulationDiv.appendChild(a);this._bindHammerToDiv(a,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[a+"Div"]=document.createElement("div"),this.manipulationDOM[a+"Div"].className=
b,this.manipulationDOM[a+"Label"]=document.createElement("div"),this.manipulationDOM[a+"Label"].className=d,this.manipulationDOM[a+"Label"].innerHTML=c,this.manipulationDOM[a+"Div"].appendChild(this.manipulationDOM[a+"Label"]),this.manipulationDOM[a+"Div"]}},{key:"_createDescription",value:function(a){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",a))}},{key:"_temporaryBindEvent",value:function(a,b){this.temporaryEventFunctions.push({event:a,boundFunction:b});
this.body.emitter.on(a,b)}},{key:"_temporaryBindUI",value:function(a,b){if(void 0===this.body.eventListeners[a])throw Error("This UI function does not exist. Typo? You tried: "+a+" possible are: "+(0,n["default"])((0,c["default"])(this.body.eventListeners)));this.temporaryUIFunctions[a]=this.body.eventListeners[a];this.body.eventListeners[a]=b}},{key:"_unbindTemporaryUIs",value:function(){for(var a in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(a)&&(this.body.eventListeners[a]=
this.temporaryUIFunctions[a],delete this.temporaryUIFunctions[a]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var a=0;a<this.temporaryEventFunctions.length;a++)this.body.emitter.off(this.temporaryEventFunctions[a].event,this.temporaryEventFunctions[a].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(a,b){var c=new m(a,{});k.onTouch(c,b);this.manipulationHammers.push(c)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var a=
0;a<this.temporaryIds.edges.length;a++){this.body.edges[this.temporaryIds.edges[a]].disconnect();delete this.body.edges[this.temporaryIds.edges[a]];var b=this.body.edgeIndices.indexOf(this.temporaryIds.edges[a]);-1!==b&&this.body.edgeIndices.splice(b,1)}for(a=0;a<this.temporaryIds.nodes.length;a++)delete this.body.nodes[this.temporaryIds.nodes[a]],b=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[a]),-1!==b&&this.body.nodeIndices.splice(b,1);this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",
value:function(a){this.selectionHandler.unselectAll();this.lastTouch=this.body.functions.getPointer(a.center);this.lastTouch.translation=g.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(a){var b=this.selectionHandler._pointerToPositionObject(this.lastTouch);a=this.body.nodes[this.temporaryIds.nodes[0]];var c=this.body.nodes[this.temporaryIds.nodes[1]],d=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var e=a.isOverlappingWith(b),b=c.isOverlappingWith(b);
!0===e?(this.selectedControlNode=a,d.edgeType.from=a):!0===b&&(this.selectedControlNode=c,d.edgeType.to=c);void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode);this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(a){this.body.emitter.emit("disablePhysics");a=this.body.functions.getPointer(a.center);var b=this.canvas.DOMtoCanvas(a);void 0!==this.selectedControlNode?(this.selectedControlNode.x=b.x,this.selectedControlNode.y=b.y):this.body.view.translation=
{x:this.lastTouch.translation.x+(a.x-this.lastTouch.x),y:this.lastTouch.translation.y+(a.y-this.lastTouch.y)};this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(a){a=this.body.functions.getPointer(a.center);var b=this.selectionHandler._pointerToPositionObject(a);a=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var b=this.selectionHandler._getAllNodesOverlappingWith(b),c=void 0,d=b.length-1;0<=d;d--)if(b[d]!==
this.selectedControlNode.id){c=this.body.nodes[b[d]];break}void 0!==c&&void 0!==this.selectedControlNode?!0===c.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(c.id,a.to.id):this._performEditEdge(a.from.id,c.id):(a.updateEdgeType(),this.body.emitter.emit("restorePhysics"));this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(a){if(100<
(new Date).valueOf()-this.touchTime){this.lastTouch=this.body.functions.getPointer(a.center);this.lastTouch.translation=g.extend({},this.body.view.translation);var b=this.selectionHandler.getNodeAt(this.lastTouch);void 0!==b&&(!0===b.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):(a=this._getNewTargetNode(b.x,b.y),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),b=this.body.functions.createEdge({id:"connectionEdge"+g.randomUUID(),
from:b.id,to:a.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}}),this.body.edges[b.id]=b,this.body.edgeIndices.push(b.id),this.temporaryIds.nodes.push(a.id),this.temporaryIds.edges.push(b.id)));this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(a){a=this.body.functions.getPointer(a.center);if(void 0!==this.temporaryIds.nodes[0]){var b=this.body.nodes[this.temporaryIds.nodes[0]];b.x=this.canvas._XconvertDOMtoCanvas(a.x);b.y=this.canvas._YconvertDOMtoCanvas(a.y);
this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(a.x-this.lastTouch.x),y:this.lastTouch.translation.y+(a.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(a){a=this.body.functions.getPointer(a.center);var b=this.selectionHandler._pointerToPositionObject(a);a=void 0;void 0!==this.temporaryIds.edges[0]&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var b=this.selectionHandler._getAllNodesOverlappingWith(b),c=void 0,d=b.length-
1;0<=d;d--)if(-1===this.temporaryIds.nodes.indexOf(b[d])){c=this.body.nodes[b[d]];break}this._cleanupTemporaryNodesAndEdges();void 0!==c&&(!0===c.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[a]&&void 0!==this.body.nodes[c.id]&&this._performAddEdge(a,c.id));this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(a){var b=this;a={id:g.randomUUID(),x:a.pointer.canvas.x,y:a.pointer.canvas.y,
label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw Error("The function for add does not support two arguments (data,callback)");this.options.addNode(a,function(a){null!==a&&void 0!==a&&"addNode"===b.inMode&&(b.body.data.nodes.getDataSet().add(a),b.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(a),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(a,b){var c=this,d={from:a,to:b};if("function"==typeof this.options.addEdge){if(2!==
this.options.addEdge.length)throw Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(d,function(a){null!==a&&void 0!==a&&"addEdge"===c.inMode&&(c.body.data.edges.getDataSet().add(a),c.selectionHandler.unselectAll(),c.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(d),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(b,c){var d=this,e={id:this.edgeBeingEditedId,from:b,
to:c,label:this.body.data.edges._data[this.edgeBeingEditedId].label},f=this.options.editEdge;if("object"===(void 0===f?"undefined":(0,a["default"])(f))&&(f=f.editWithoutDrag),"function"==typeof f){if(2!==f.length)throw Error("The function for edit does not support two arguments (data, callback)");f(e,function(a){null===a||void 0===a||"editEdge"!==d.inMode?(d.body.edges[e.id].updateEdgeType(),d.body.emitter.emit("_redraw"),d.showManipulatorToolbar()):(d.body.data.edges.getDataSet().update(a),d.selectionHandler.unselectAll(),
d.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(e),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),b}();h["default"]=d},function(f,h){Object.defineProperty(h,"__esModule",{value:!0});var d={configure:{enabled:{"boolean":"boolean"},filter:{"boolean":"boolean",string:"string",array:"array","function":"function"},container:{dom:"dom"},showButton:{"boolean":"boolean"},__type__:{object:"object","boolean":"boolean",string:"string",array:"array","function":"function"}},
edges:{arrows:{to:{enabled:{"boolean":"boolean"},scaleFactor:{number:"number"},type:{string:["arrow","circle"]},__type__:{object:"object","boolean":"boolean"}},middle:{enabled:{"boolean":"boolean"},scaleFactor:{number:"number"},type:{string:["arrow","circle"]},__type__:{object:"object","boolean":"boolean"}},from:{enabled:{"boolean":"boolean"},scaleFactor:{number:"number"},type:{string:["arrow","circle"]},__type__:{object:"object","boolean":"boolean"}},__type__:{string:["from","to","middle"],object:"object"}},
arrowStrikethrough:{"boolean":"boolean"},chosen:{label:{"boolean":"boolean","function":"function"},edge:{"boolean":"boolean","function":"function"},__type__:{object:"object","boolean":"boolean"}},color:{color:{string:"string"},highlight:{string:"string"},hover:{string:"string"},inherit:{string:["from","to","both"],"boolean":"boolean"},opacity:{number:"number"},__type__:{object:"object",string:"string"}},dashes:{"boolean":"boolean",array:"array"},font:{color:{string:"string"},size:{number:"number"},
face:{string:"string"},background:{string:"string"},strokeWidth:{number:"number"},strokeColor:{string:"string"},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:"number"},multi:{"boolean":"boolean",string:"string"},bold:{color:{string:"string"},size:{number:"number"},face:{string:"string"},mod:{string:"string"},vadjust:{number:"number"},__type__:{object:"object",string:"string"}},boldital:{color:{string:"string"},size:{number:"number"},face:{string:"string"},mod:{string:"string"},
vadjust:{number:"number"},__type__:{object:"object",string:"string"}},ital:{color:{string:"string"},size:{number:"number"},face:{string:"string"},mod:{string:"string"},vadjust:{number:"number"},__type__:{object:"object",string:"string"}},mono:{color:{string:"string"},size:{number:"number"},face:{string:"string"},mod:{string:"string"},vadjust:{number:"number"},__type__:{object:"object",string:"string"}},__type__:{object:"object",string:"string"}},hidden:{"boolean":"boolean"},hoverWidth:{"function":"function",
number:"number"},label:{string:"string",undefined:"undefined"},labelHighlightBold:{"boolean":"boolean"},length:{number:"number",undefined:"undefined"},physics:{"boolean":"boolean"},scaling:{min:{number:"number"},max:{number:"number"},label:{enabled:{"boolean":"boolean"},min:{number:"number"},max:{number:"number"},maxVisible:{number:"number"},drawThreshold:{number:"number"},__type__:{object:"object","boolean":"boolean"}},customScalingFunction:{"function":"function"},__type__:{object:"object"}},selectionWidth:{"function":"function",
number:"number"},selfReferenceSize:{number:"number"},shadow:{enabled:{"boolean":"boolean"},color:{string:"string"},size:{number:"number"},x:{number:"number"},y:{number:"number"},__type__:{object:"object","boolean":"boolean"}},smooth:{enabled:{"boolean":"boolean"},type:{string:"dynamic continuous discrete diagonalCross straightCross horizontal vertical curvedCW curvedCCW cubicBezier".split(" ")},roundness:{number:"number"},forceDirection:{string:["horizontal","vertical","none"],"boolean":"boolean"},
__type__:{object:"object","boolean":"boolean"}},title:{string:"string",undefined:"undefined"},width:{number:"number"},widthConstraint:{maximum:{number:"number"},__type__:{object:"object","boolean":"boolean",number:"number"}},value:{number:"number",undefined:"undefined"},__type__:{object:"object"}},groups:{useDefaultGroups:{"boolean":"boolean"},__any__:"get from nodes, will be overwritten below",__type__:{object:"object"}},interaction:{dragNodes:{"boolean":"boolean"},dragView:{"boolean":"boolean"},
hideEdgesOnDrag:{"boolean":"boolean"},hideNodesOnDrag:{"boolean":"boolean"},hover:{"boolean":"boolean"},keyboard:{enabled:{"boolean":"boolean"},speed:{x:{number:"number"},y:{number:"number"},zoom:{number:"number"},__type__:{object:"object"}},bindToWindow:{"boolean":"boolean"},__type__:{object:"object","boolean":"boolean"}},multiselect:{"boolean":"boolean"},navigationButtons:{"boolean":"boolean"},selectable:{"boolean":"boolean"},selectConnectedEdges:{"boolean":"boolean"},hoverConnectedEdges:{"boolean":"boolean"},
tooltipDelay:{number:"number"},zoomView:{"boolean":"boolean"},__type__:{object:"object"}},layout:{randomSeed:{undefined:"undefined",number:"number"},improvedLayout:{"boolean":"boolean"},hierarchical:{enabled:{"boolean":"boolean"},levelSeparation:{number:"number"},nodeSpacing:{number:"number"},treeSpacing:{number:"number"},blockShifting:{"boolean":"boolean"},edgeMinimization:{"boolean":"boolean"},parentCentralization:{"boolean":"boolean"},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize",
"directed"]},__type__:{object:"object","boolean":"boolean"}},__type__:{object:"object"}},manipulation:{enabled:{"boolean":"boolean"},initiallyActive:{"boolean":"boolean"},addNode:{"boolean":"boolean","function":"function"},addEdge:{"boolean":"boolean","function":"function"},editNode:{"function":"function"},editEdge:{editWithoutDrag:{"function":"function"},__type__:{object:"object","boolean":"boolean","function":"function"}},deleteNode:{"boolean":"boolean","function":"function"},deleteEdge:{"boolean":"boolean",
"function":"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:"object","boolean":"boolean"}},nodes:{borderWidth:{number:"number"},borderWidthSelected:{number:"number",undefined:"undefined"},brokenImage:{string:"string",undefined:"undefined"},chosen:{label:{"boolean":"boolean","function":"function"},node:{"boolean":"boolean","function":"function"},__type__:{object:"object","boolean":"boolean"}},color:{border:{string:"string"},background:{string:"string"},highlight:{border:{string:"string"},
background:{string:"string"},__type__:{object:"object",string:"string"}},hover:{border:{string:"string"},background:{string:"string"},__type__:{object:"object",string:"string"}},__type__:{object:"object",string:"string"}},fixed:{x:{"boolean":"boolean"},y:{"boolean":"boolean"},__type__:{object:"object","boolean":"boolean"}},font:{align:{string:"string"},color:{string:"string"},size:{number:"number"},face:{string:"string"},background:{string:"string"},strokeWidth:{number:"number"},strokeColor:{string:"string"},
vadjust:{number:"number"},multi:{"boolean":"boolean",string:"string"},bold:{color:{string:"string"},size:{number:"number"},face:{string:"string"},mod:{string:"string"},vadjust:{number:"number"},__type__:{object:"object",string:"string"}},boldital:{color:{string:"string"},size:{number:"number"},face:{string:"string"},mod:{string:"string"},vadjust:{number:"number"},__type__:{object:"object",string:"string"}},ital:{color:{string:"string"},size:{number:"number"},face:{string:"string"},mod:{string:"string"},
vadjust:{number:"number"},__type__:{object:"object",string:"string"}},mono:{color:{string:"string"},size:{number:"number"},face:{string:"string"},mod:{string:"string"},vadjust:{number:"number"},__type__:{object:"object",string:"string"}},__type__:{object:"object",string:"string"}},group:{string:"string",number:"number",undefined:"undefined"},heightConstraint:{minimum:{number:"number"},valign:{string:"string"},__type__:{object:"object","boolean":"boolean",number:"number"}},hidden:{"boolean":"boolean"},
icon:{face:{string:"string"},code:{string:"string"},size:{number:"number"},color:{string:"string"},__type__:{object:"object"}},id:{string:"string",number:"number"},image:{selected:{string:"string",undefined:"undefined"},unselected:{string:"string",undefined:"undefined"},__type__:{object:"object",string:"string"}},label:{string:"string",undefined:"undefined"},labelHighlightBold:{"boolean":"boolean"},level:{number:"number",undefined:"undefined"},margin:{top:{number:"number"},right:{number:"number"},
bottom:{number:"number"},left:{number:"number"},__type__:{object:"object",number:"number"}},mass:{number:"number"},physics:{"boolean":"boolean"},scaling:{min:{number:"number"},max:{number:"number"},label:{enabled:{"boolean":"boolean"},min:{number:"number"},max:{number:"number"},maxVisible:{number:"number"},drawThreshold:{number:"number"},__type__:{object:"object","boolean":"boolean"}},customScalingFunction:{"function":"function"},__type__:{object:"object"}},shadow:{enabled:{"boolean":"boolean"},color:{string:"string"},
size:{number:"number"},x:{number:"number"},y:{number:"number"},__type__:{object:"object","boolean":"boolean"}},shape:{string:"ellipse circle database box text image circularImage diamond dot star triangle triangleDown square icon".split(" ")},shapeProperties:{borderDashes:{"boolean":"boolean",array:"array"},borderRadius:{number:"number"},interpolation:{"boolean":"boolean"},useImageSize:{"boolean":"boolean"},useBorderWithImage:{"boolean":"boolean"},__type__:{object:"object"}},size:{number:"number"},
title:{string:"string",undefined:"undefined"},value:{number:"number",undefined:"undefined"},widthConstraint:{minimum:{number:"number"},maximum:{number:"number"},__type__:{object:"object","boolean":"boolean",number:"number"}},x:{number:"number"},y:{number:"number"},__type__:{object:"object"}},physics:{enabled:{"boolean":"boolean"},barnesHut:{gravitationalConstant:{number:"number"},centralGravity:{number:"number"},springLength:{number:"number"},springConstant:{number:"number"},damping:{number:"number"},
avoidOverlap:{number:"number"},__type__:{object:"object"}},forceAtlas2Based:{gravitationalConstant:{number:"number"},centralGravity:{number:"number"},springLength:{number:"number"},springConstant:{number:"number"},damping:{number:"number"},avoidOverlap:{number:"number"},__type__:{object:"object"}},repulsion:{centralGravity:{number:"number"},springLength:{number:"number"},springConstant:{number:"number"},nodeDistance:{number:"number"},damping:{number:"number"},__type__:{object:"object"}},hierarchicalRepulsion:{centralGravity:{number:"number"},
springLength:{number:"number"},springConstant:{number:"number"},nodeDistance:{number:"number"},damping:{number:"number"},__type__:{object:"object"}},maxVelocity:{number:"number"},minVelocity:{number:"number"},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{"boolean":"boolean"},iterations:{number:"number"},updateInterval:{number:"number"},onlyDynamicEdges:{"boolean":"boolean"},fit:{"boolean":"boolean"},__type__:{object:"object","boolean":"boolean"}},
timestep:{number:"number"},adaptiveTimestep:{"boolean":"boolean"},__type__:{object:"object","boolean":"boolean"}},autoResize:{"boolean":"boolean"},clickToUse:{"boolean":"boolean"},locale:{string:"string"},locales:{__any__:{any:"any"},__type__:{object:"object"}},height:{string:"string"},width:{string:"string"},__type__:{object:"object"}};d.groups.__any__=d.nodes;d.manipulation.controlNodeStyle=d.nodes;h.allOptions=d;h.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color",
"#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],
maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:"ellipse box circle database diamond dot square star text triangle triangleDown".split(" "),shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,
0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,
1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:"dynamic continuous discrete diagonalCross straightCross horizontal vertical curvedCW curvedCCW cubicBezier".split(" "),forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,
1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,
hoverConnectedEdges:!0,tooltipDelay:[300,0,1E3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2E3,-3E4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},
repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(f,h,d){function b(a){return a&&
a.__esModule?a:{"default":a}}Object.defineProperty(h,"__esModule",{value:!0});f=d(171);var c=b(f);f=d(135);var n=b(f);f=d(136);var a=b(f);d=d(232);var e=b(d);d=function(){function b(a,c,d){(0,n["default"])(this,b);this.body=a;this.springLength=c;this.springConstant=d;this.distanceSolver=new e["default"]}return(0,a["default"])(b,[{key:"setOptions",value:function(a){a&&(a.springLength&&(this.springLength=a.springLength),a.springConstant&&(this.springConstant=a.springConstant))}},{key:"solve",value:function(a,
b){var d=2<arguments.length&&void 0!==arguments[2]&&arguments[2],e=this.distanceSolver.getDistances(this.body,a,b);this._createL_matrix(e);this._createK_matrix(e);this._createE_matrix();for(var e=0,f=Math.max(1E3,Math.min(10*this.body.nodeIndices.length,6E3)),h=1E9,n,q,v,C,A;.01<h&&e<f;)for(e+=1,h=this._getHighestEnergyNode(d),A=(0,c["default"])(h,4),n=A[0],h=A[1],q=A[2],v=A[3],C=h,A=0;1<C&&5>A;)A+=1,this._moveNode(n,q,v),q=this._getEnergy(n),v=(0,c["default"])(q,3),C=v[0],q=v[1],v=v[2]}},{key:"_getHighestEnergyNode",
value:function(a){for(var b=this.body.nodeIndices,d=this.body.nodes,e=0,f=b[0],h=0,q=0,n=0;n<b.length;n++){var v=b[n];if(!1===d[v].predefinedPosition||!0===d[v].isCluster&&!0===a||!0===d[v].options.fixed.x||!0===d[v].options.fixed.y){var C=this._getEnergy(v),A=(0,c["default"])(C,3),C=A[0],D=A[1],A=A[2];e<C&&(e=C,f=v,h=D,q=A)}}return[f,e,h,q]}},{key:"_getEnergy",value:function(a){var b=(0,c["default"])(this.E_sums[a],2);a=b[0];b=b[1];return[Math.sqrt(Math.pow(a,2)+Math.pow(b,2)),a,b]}},{key:"_moveNode",
value:function(a,b,c){for(var d=this.body.nodeIndices,e=this.body.nodes,f=0,h=0,n=0,q=e[a].x,C=e[a].y,A=this.K_matrix[a],D=this.L_matrix[a],y=0;y<d.length;y++){var w=d[y];if(w!==a)var z=e[w].x,x=e[w].y,B=A[w],w=D[w],F=1/Math.pow(Math.pow(q-z,2)+Math.pow(C-x,2),1.5),f=f+B*(1-w*Math.pow(C-x,2)*F),h=h+B*w*(q-z)*(C-x)*F,n=n+B*(1-w*Math.pow(q-z,2)*F)}d=f;c=(b/d+c/h)/(h/d-n/h);e[a].x+=-(h*c+b)/d;e[a].y+=c;this._updateE_matrix(a)}},{key:"_createL_matrix",value:function(a){var b=this.body.nodeIndices,c=this.springLength;
this.L_matrix=[];for(var d=0;d<b.length;d++){this.L_matrix[b[d]]={};for(var e=0;e<b.length;e++)this.L_matrix[b[d]][b[e]]=c*a[b[d]][b[e]]}}},{key:"_createK_matrix",value:function(a){var b=this.body.nodeIndices,c=this.springConstant;this.K_matrix=[];for(var d=0;d<b.length;d++){this.K_matrix[b[d]]={};for(var e=0;e<b.length;e++)this.K_matrix[b[d]][b[e]]=c*Math.pow(a[b[d]][b[e]],-2)}}},{key:"_createE_matrix",value:function(){var a=this.body.nodeIndices,b=this.body.nodes;this.E_matrix={};this.E_sums={};
for(var c=0;c<a.length;c++)this.E_matrix[a[c]]=[];for(c=0;c<a.length;c++){for(var d=a[c],e=b[d].x,f=b[d].y,h=0,n=0,q=c;q<a.length;q++){var C=a[q];if(C!==d){var A=b[C].x,D=b[C].y,y=1/Math.sqrt(Math.pow(e-A,2)+Math.pow(f-D,2));this.E_matrix[d][q]=[this.K_matrix[d][C]*(e-A-this.L_matrix[d][C]*(e-A)*y),this.K_matrix[d][C]*(f-D-this.L_matrix[d][C]*(f-D)*y)];this.E_matrix[C][c]=this.E_matrix[d][q];h+=this.E_matrix[d][q][0];n+=this.E_matrix[d][q][1]}}this.E_sums[d]=[h,n]}}},{key:"_updateE_matrix",value:function(a){for(var b=
this.body.nodeIndices,c=this.body.nodes,d=this.E_matrix[a],e=this.K_matrix[a],f=this.L_matrix[a],h=c[a].x,q=c[a].y,n=0,C=0,A=0;A<b.length;A++){var D=b[A];if(D!==a){var y=d[A],w=y[0],y=y[1],z=c[D].x,x=c[D].y,B=1/Math.sqrt(Math.pow(h-z,2)+Math.pow(q-x,2)),z=e[D]*(h-z-f[D]*(h-z)*B),x=e[D]*(q-x-f[D]*(q-x)*B);d[A]=[z,x];n+=z;C+=x;D=this.E_sums[D];D[0]+=z-w;D[1]+=x-y}}this.E_sums[a]=[n,C]}}]),b}();h["default"]=d},function(f,h,d){Object.defineProperty(h,"__esModule",{value:!0});var b=(f=d(135))&&f.__esModule?
f:{"default":f},c=(d=d(136))&&d.__esModule?d:{"default":d};d=function(){function d(){(0,b["default"])(this,d)}return(0,c["default"])(d,[{key:"getDistances",value:function(a,b,c){var d={};a=a.edges;for(var f=0;f<b.length;f++){var h={};d[b[f]]=h;for(var p=0;p<b.length;p++)h[b[p]]=f==p?0:1E9}for(f=0;f<c.length;f++)h=a[c[f]],!0===h.connected&&void 0!==d[h.fromId]&&void 0!==d[h.toId]&&(d[h.fromId][h.toId]=1,d[h.toId][h.fromId]=1);c=b.length;for(a=0;a<c;a++)for(f=b[a],h=d[f],p=0;p<c-1;p++)for(var l=b[p],
n=d[l],t=p+1;t<c;t++){var u=b[t],v=d[u],C=Math.min(n[u],n[f]+h[u]);n[u]=C;v[l]=C}return d}}]),d}();h["default"]=d}])});function TagFootPrintCacheData(){function f(f){return f.getFullYear()+"-"+(""+(f.getMonth()+101)).substr(1)+"-"+(""+(f.getDate()+100)).substr(1)+" "+(""+(f.getHours()+100)).substr(1)+":"+(""+(f.getMinutes()+100)).substr(1)+":"+(""+(f.getSeconds()+100)).substr(1)}this.scale_end_date=this.scale_start_date=this.node_name=this.node_id="";this.scale_footprint=[];this.playback_end_date=this.playback_start_date="";this.playback_footprint=[];this.updating=!1;this.load_sampling_footprint=function(f,d,b,c,
n,a){this.scale_start_date=c;this.scale_end_date=n;this.updating=!0;var e=0,q=new Date,g=new Date,m="";b="loadtag="+f+"&sampling="+b+"&startdate="+c+"&enddate="+n+"&project_id="+project_id;this.scale_footprint=[];var k=this;$.getJSON(gl_target_server+"/php/fpnodes.php",encodeURI(b),function(a){$.each(a,function(b,c){var n=moment(c.datetime).format("YYYY-MM-DD HH:mm:ss");k.scale_footprint[n]={X:c.X,Y:c.Y,Z:c.Z,v:c.v,t:c.t};if(0==e)q=new Date(c.datetime),g=new Date(c.datetime),m=null!=c.area?c.area:
"";else{parseInt((c.datetime-g)/1E3);parseInt((g-q)/1E3);n="";null!=c.area&&(n=c.area);if(m!=n||e==a.length-1)d.add({start:q,end:g,group:f,content:m,title:m,type:"box"}),q=new Date(c.datetime);g=new Date(c.datetime);m=n}e++})}).complete(function(){d.add({start:q,end:g,group:f,content:m,title:m,type:"box"});this.scale_footprint=k.scale_footprint;this.updating=!1;a(f,c,n)});return!1};this.getFootPrint=function(f){var d=null,b=0,c;for(c in this.scale_footprint)if(f>=c)b=1;else if(1==b){d=this.scale_footprint[c];
break}return d};this.getPlayBackFootPrint=function(f){var d=null;if(""==this.playback_start_date||f<this.playback_start_date||f>this.playback_end_date){var b=new Date((new Date(f)).getTime()-18E5),c=new Date((new Date(f)).getTime()+18E5);this.updateCache(b,c)}var b=0,n;for(n in this.playback_footprint)if(f>=n)b=1;else if(1==b){d=this.playback_footprint[n];break}return d};this.updateCache=function(h,d){var b=f(h),c=f(d),n="loadtag="+this.node_id+"&sampling=1&startdate="+b+"&enddate="+c+"&project_id="+
project_id;this.updating=!0;this.playback_footprint=[];var a=this;$.getJSON(gl_target_server+"/php/fpnodes.php",encodeURI(n),function(b){$.each(b,function(b,c){var d=moment(c.datetime).format("YYYY-MM-DD HH:mm:ss");a.playback_footprint[d]={X:c.X,Y:c.Y,Z:c.Z,v:c.v,t:c.t}})}).complete(function(){a.playback_start_date=b;a.playback_end_date=c;a.updating=!1});return!1}};function Queue(){var f=[],h=0;this.getLength=function(){return f.length-h};this.isEmpty=function(){return 0==f.length};this.enqueue=function(d){f.push(d)};this.dequeue=function(){if(0!=f.length){var d=f[h];2*++h>=f.length&&(f=f.slice(h),h=0);return d}};this.peek=function(){return 0<f.length?f[h]:void 0}};var glLiveMap=new Indoor2DMap;moment.locale("zh-tw");var glTagFTCache=[],glTimeSampling=3,glTimeChangedTimer=0,glUpadteQueue=new Queue,glProcessingQueue=!1,glRangeStartDate=new Date,glRangeEndDate=new Date,glTags=[],gl_tag_num=0,gl_tag_load_index=0,LOAD_DEVICE_NUM=20,url=new URL(window.location.href),RangeStartDate=url.searchParams.get("RangeStartDate");
if(void 0!=RangeStartDate)var curDate=RangeStartDate.split(":"),startDate=new Date(parseInt(curDate[0]),parseInt(curDate[1])-1,parseInt(curDate[2]),parseInt(curDate[3]),parseInt(curDate[4]),parseInt(curDate[5]),0),glRangeStartDate=startDate;else glRangeStartDate.setDate(glRangeStartDate.getDate()-1);var RangeEndDate=url.searchParams.get("RangeEndDate");
if(void 0!=RangeEndDate)var curDate=RangeEndDate.split(":"),endDate=new Date(parseInt(curDate[0]),parseInt(curDate[1])-1,parseInt(curDate[2]),parseInt(curDate[3]),parseInt(curDate[4]),parseInt(curDate[5]),0),glRangeEndDate=endDate;else glRangeEndDate.setDate(glRangeEndDate.getDate()+1);load_map_config();
function load_map_config(){$.getJSON(gl_target_server+"/php/map.php","loadmap=1&project_id="+project_id,function(f){f=f[0];glLiveMap.setMapCoeff(f.POSX,f.POSY,f.MAPWIDTH,f.MAPHEIGHT,f.SCALE,f.COEFF);glLiveMap.setMapImage(f.FILE,"Indoor 2D Map");glLiveMap.load_maparea();glLiveMap.addOriginMarker(0,0,0);load_tags_info()});return!1}var glGroups=new vis.DataSet([]),glItems=new vis.DataSet([]);
function load_tags_info(){$.getJSON(gl_target_server+"/php/vilsnodes.php","devicescount=1&project_id="+project_id,function(f){gl_tag_num=parseInt(f.LOC_TAG_NUM);gl_tag_load_index=0}).success(function(){setTimeout(load_tag_footprint,300)}).error(function(){setTimeout(load_tags_info,1E3)}).complete(function(){})}
function load_tag_footprint(){gl_tag_load_index>=gl_tag_num?gl_tag_load_index=0:(0==gl_tag_load_index&&(glTags=[]),$.getJSON(gl_target_server+"/php/vilsnodes.php","loadtag=1&s="+gl_tag_load_index+"&count="+LOAD_DEVICE_NUM+"&project_id="+project_id,function(f){for(var h=parseInt(f.LOC_TAG_NUM),d=gl_tag_load_index;d<gl_tag_load_index+h;++d){var b="LOC_TAG_INDEX_"+d;if(void 0!=f[b]&&null!=f[b]){var c=f[b].split(","),b=c[6],n=c[3],a=c[5],e=c[7],q=c[8],g=c[9],m=c[13],c=c[14],k=new moment,p=getHtmlGroup(a,
n),l=!0;0!=d&&(l=!1);glGroups.add({id:n,content:p,value:d,visible:l});glTags[n]=[];glTags[n]={nodeid:n,macaddress:b,nodename:a,posX:e,posY:q,posZ:g,buildingid:m,floor:c,date:k};glLiveMap.updateTagMarker(b,n,a,e,q,g,m,c,k,!1);glLiveMap.showTag(n,l)}}gl_tag_load_index+=h}).success(function(){gl_tag_load_index>=gl_tag_num?(gl_tag_load_index=0,runFootprintLive()):load_tag_footprint()}).error(function(){gl_tag_load_index=0;setTimeout(load_tag_footprint,5E3)}).complete(function(){}))}
function getHtmlGroup(f,h){return'<img src="/images/marker-icon-2x.png" width="20"/><img id="updating_'+h+'" src="/images/load.gif" style="display: block; float:right;" width="20" height="20" /></br>'+f}function updateTags(f,h){$.ajaxSetup({async:!1});var d=0,b;for(b in glTags)if(glGroups.get(b).visible){var c=glTags[b];null!=glTagFTCache[b]&&(updateTag(c,h,f),d++)}$.ajaxSetup({async:!0})}
function updateTag(f,h,d){h=h?glTagFTCache[f.nodeid].getPlayBackFootPrint(d):glTagFTCache[f.nodeid].getFootPrint(d);null!=h&&glLiveMap.updateTagMarker(f.macaddress,f.nodeid,f.nodename,h.X,h.Y,h.Z,f.buildingid,f.floor,f.date,!1)}function sleep(f){for(var h=(new Date).getTime(),d=0;1E7>d&&!((new Date).getTime()-h>f);d++);}function runFootprintLive(){ceate_dropdown_tags();updateTimelineBlock_withqueue()}
function ceate_dropdown_tags(){var f=document.getElementById("dropdown_tags"),h;for(h in glTags){var d=glGroups.get(h),b=create_dropdown_item(h,glTags[h].nodename);f.appendChild(b);document.getElementById("dropdown_checkbox_"+h).checked=d.visible}}
function create_dropdown_item(f,h){var d=document.createElement("li"),b=document.createElement("a");b.setAttribute("class","small");b.setAttribute("tabIndex","-1");b.setAttribute("data-value",f);b.setAttribute("href","javascript:;");b.setAttribute("onclick",'dropdown_item_click("'+f+'");return true;');var c=document.createElement("input");c.setAttribute("type","checkbox");c.setAttribute("id","dropdown_checkbox_"+f);c.setAttribute("onclick",'dropdown_checkbox_click("'+f+'");return true;');b.appendChild(c);
b.appendChild(document.createTextNode(" "+h));d.appendChild(b);return d}var glDropdown_checkbox_click=!1;function dropdown_item_click(f){var h=document.getElementById("dropdown_checkbox_"+f).checked;glDropdown_checkbox_click||(document.getElementById("dropdown_checkbox_"+f).checked=!h,h=document.getElementById("dropdown_checkbox_"+f).checked);glGroups.update({id:f,visible:h});glLiveMap.showTag(f,h);updateTimelineBlock_withqueue();glDropdown_checkbox_click=!1}
function dropdown_checkbox_click(f){glDropdown_checkbox_click=!0}function load_footprint_cb(f,h,d){f=document.getElementById("updating_"+f);void 0!=f&&(f.style.display="none");0<glUpadteQueue.getLength()?(f=glUpadteQueue.dequeue(),null==glTagFTCache[f]&&(glTagFTCache[f]=new TagFootPrintCacheData,glTagFTCache[f].node_id=f),glTagFTCache[f].load_sampling_footprint(f,glItems,glTimeSampling,h,d,load_footprint_cb)):glProcessingQueue=!1}
function updateTimelineBlock_withqueue(){if(1!=glProcessingQueue){glProcessingQueue=!0;var f=formatDate(glRangeStartDate),h=formatDate(glRangeEndDate),d;for(d in glTags)if(glGroups.get(d).visible){var b=document.getElementById("updating_"+d);void 0!=b&&(b.style.display="block");glUpadteQueue.enqueue(d)}glItems.clear();load_footprint_cb("",f,h)}}
function updateTimelineBlock(){var f=new vis.DataSet([]),h=formatDate(glRangeStartDate),d=formatDate(glRangeEndDate);$.ajaxSetup({async:!1});for(var b in glTags)glGroups.get(b).visible&&(glUpadteQueue.enqueue(b),null==glTagFTCache[b]&&(glTagFTCache[b]=new TagFootPrintCacheData,glTagFTCache[b].node_id=b),glTagFTCache[b].load_sampling_footprint(b,f,glTimeSampling,h,d,load_footprint_cb));h=glUpadteQueue.getLength();console.log("glUpadteQueue.getLength():"+h);$.ajaxSetup({async:!0});glItems.clear();glItems=
f;timeline.setItems(glItems)}function showAllGroups(){glGroups.forEach(function(f){glGroups.update({id:f.id,visible:!0});glLiveMap.showTag(f.id,!0)});updateTimelineBlock_withqueue()}function formatDate(f){return f.getFullYear()+"-"+(""+(f.getMonth()+101)).substr(1)+"-"+(""+(f.getDate()+100)).substr(1)+" "+(""+(f.getHours()+100)).substr(1)+":"+(""+(f.getMinutes()+100)).substr(1)+":"+(""+(f.getSeconds()+100)).substr(1)}
var container=document.getElementById("visualization"),options={groupOrder:function(f,h){return f.value-h.value},groupOrderSwap:function(f,h,d){d=f.value;f.value=h.value;h.value=d},groupTemplate:function(f){var h=document.createElement("div"),d=document.createElement("span");d.innerHTML=f.content+" ";h.insertAdjacentElement("afterBegin",d);return h},tooltip:{followMouse:!0},orientation:"both",editable:!1,groupEditable:!1,start:glRangeStartDate,end:glRangeEndDate,zoomMax:31104E6,zoomMin:1E3,showCurrentTime:!0},
timeline=new vis.Timeline(container);timeline.setOptions(options);timeline.setGroups(glGroups);timeline.setItems(glItems);var CurTimeCursorId=1234;timeline.addCustomTime(new Date,CurTimeCursorId);timeline.on("timechange",function(f){document.getElementById("customTime").innerHTML="\u6307\u5b9a\u6642\u9593: "+moment(f.time).format("YYYY MMMM Do, h:mm:ss a");f=moment(f.time).format("YYYY-MM-DD HH:mm:ss");updateTags(f,!1)});timeline.on("click",function(f){});
timeline.on("doubleClick",function(f){var h=moment(f.time).format("YYYY-MM-DD HH:mm:ss");timeline.setCustomTime(f.time,CurTimeCursorId);document.getElementById("customTime").innerHTML="\u6307\u5b9a\u6642\u9593: "+moment(f.time).format("YYYY MMMM Do, h:mm:ss a");updateTags(h,!0)});timeline.on("rangechange",function(f){});
timeline.on("rangechanged",function(f){glRangeStartDate=new Date(f.start);glRangeEndDate=new Date(f.end);var h=moment(glRangeStartDate).format("YYYY:MM:DD:HH:mm:ss"),d=moment(glRangeEndDate).format("YYYY:MM:DD:HH:mm:ss"),h=UpdateQueryString("RangeStartDate",h,window.location.href),h=UpdateQueryString("RangeEndDate",d,h);window.history.pushState({path:h},"",h);parseInt((f.end-f.start)/6E4);d=parseInt((f.end-f.start)/36E5);f=parseInt((f.end-f.start)/864E5);glTimeSampling=60<=f?10:30<=f?9:20<=f?8:10<=
f?7:3<=f?6:1<=f?5:6<=d?4:3<=d?3:1<=d?2:1;formatDate(glRangeStartDate);formatDate(glRangeEndDate);updateTimelineBlock_withqueue()});var start=new Date((new Date).getTime()-12E4),end=new Date((new Date).getTime()+18E4);timeline.setWindow(start,end,{animation:!1});var glPlayMode=0,glPlayBackSpeed=1;
function FootprintPlayBackLoop(){var f=timeline.getCustomTime(CurTimeCursorId);f.setSeconds(f.getSeconds()+1*glPlayBackSpeed);timeline.setCustomTime(f,CurTimeCursorId);var h=moment(f).format("YYYY-MM-DD HH:mm:ss");document.getElementById("customTime").innerHTML="\u6307\u5b9a\u6642\u9593: "+moment(f).format("YYYY MMMM Do, h:mm:ss a");updateTags(h,!0);1==glPlayMode&&setTimeout(FootprintPlayBackLoop,1E3)}$("#FootprintPlayBtn").click(function(){0==glPlayMode&&(glPlayMode=1,FootprintPlayBackLoop());return!1});
$("#FootprintPauseBtn").click(function(){glPlayMode=0;return!1});
function setPlaybackspeed(f){switch(f){default:case 1:glPlayBackSpeed=1;document.getElementById("FootprintPlaySpeed").innerHTML="x1 speed";break;case 4:glPlayBackSpeed=4;document.getElementById("FootprintPlaySpeed").innerHTML="x4 speed";break;case 16:glPlayBackSpeed=16;document.getElementById("FootprintPlaySpeed").innerHTML="x16 speed";break;case 60:glPlayBackSpeed=60,document.getElementById("FootprintPlaySpeed").innerHTML="x60 speed"}}
function UpdateQueryString(f,h,d){d||(d=window.location.href);var b=new RegExp("([?&])"+f+"=.*?(&|#|$)(.*)","gi"),c;if(b.test(d)){if("undefined"!==typeof h&&null!==h)return d.replace(b,"$1"+f+"="+h+"$2$3");c=d.split("#");d=c[0].replace(b,"$1$3").replace(/(&|\?)$/,"");"undefined"!==typeof c[1]&&null!==c[1]&&(d+="#"+c[1]);return d}"undefined"!==typeof h&&null!==h&&(b=-1!==d.indexOf("?")?"&":"?",c=d.split("#"),d=c[0]+b+f+"="+h,"undefined"!==typeof c[1]&&null!==c[1]&&(d+="#"+c[1]));return d}
function open_footprint_page(){window.open("/index.php/vilsfootprint/"+project_id,"_blank").focus()};
